(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gf={exports:{}},sl={},yf={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function ES(){if(Sv)return qe;Sv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,b={};function I(W,te,ge){this.props=W,this.context=te,this.refs=b,this.updater=ge||x}I.prototype.isReactComponent={},I.prototype.setState=function(W,te){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,te,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=I.prototype;function F(W,te,ge){this.props=W,this.context=te,this.refs=b,this.updater=ge||x}var U=F.prototype=new N;U.constructor=F,P(U,I.prototype),U.isPureReactComponent=!0;var Y=Array.isArray,L=Object.prototype.hasOwnProperty,K={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(W,te,ge){var Me,Le={},We=null,$e=null;if(te!=null)for(Me in te.ref!==void 0&&($e=te.ref),te.key!==void 0&&(We=""+te.key),te)L.call(te,Me)&&!k.hasOwnProperty(Me)&&(Le[Me]=te[Me]);var Ie=arguments.length-2;if(Ie===1)Le.children=ge;else if(1<Ie){for(var Re=Array(Ie),rt=0;rt<Ie;rt++)Re[rt]=arguments[rt+2];Le.children=Re}if(W&&W.defaultProps)for(Me in Ie=W.defaultProps,Ie)Le[Me]===void 0&&(Le[Me]=Ie[Me]);return{$$typeof:t,type:W,key:We,ref:$e,props:Le,_owner:K.current}}function R(W,te){return{$$typeof:t,type:W.type,key:te,ref:W.ref,props:W.props,_owner:W._owner}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function O(W){var te={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ge){return te[ge]})}var V=/\/+/g;function D(W,te){return typeof W=="object"&&W!==null&&W.key!=null?O(""+W.key):te.toString(36)}function ue(W,te,ge,Me,Le){var We=typeof W;(We==="undefined"||We==="boolean")&&(W=null);var $e=!1;if(W===null)$e=!0;else switch(We){case"string":case"number":$e=!0;break;case"object":switch(W.$$typeof){case t:case e:$e=!0}}if($e)return $e=W,Le=Le($e),W=Me===""?"."+D($e,0):Me,Y(Le)?(ge="",W!=null&&(ge=W.replace(V,"$&/")+"/"),ue(Le,te,ge,"",function(rt){return rt})):Le!=null&&(M(Le)&&(Le=R(Le,ge+(!Le.key||$e&&$e.key===Le.key?"":(""+Le.key).replace(V,"$&/")+"/")+W)),te.push(Le)),1;if($e=0,Me=Me===""?".":Me+":",Y(W))for(var Ie=0;Ie<W.length;Ie++){We=W[Ie];var Re=Me+D(We,Ie);$e+=ue(We,te,ge,Re,Le)}else if(Re=w(W),typeof Re=="function")for(W=Re.call(W),Ie=0;!(We=W.next()).done;)We=We.value,Re=Me+D(We,Ie++),$e+=ue(We,te,ge,Re,Le);else if(We==="object")throw te=String(W),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return $e}function Ne(W,te,ge){if(W==null)return W;var Me=[],Le=0;return ue(W,Me,"","",function(We){return te.call(ge,We,Le++)}),Me}function Ge(W){if(W._status===-1){var te=W._result;te=te(),te.then(function(ge){(W._status===0||W._status===-1)&&(W._status=1,W._result=ge)},function(ge){(W._status===0||W._status===-1)&&(W._status=2,W._result=ge)}),W._status===-1&&(W._status=0,W._result=te)}if(W._status===1)return W._result.default;throw W._result}var Pe={current:null},se={transition:null},me={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:se,ReactCurrentOwner:K};function de(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Ne,forEach:function(W,te,ge){Ne(W,function(){te.apply(this,arguments)},ge)},count:function(W){var te=0;return Ne(W,function(){te++}),te},toArray:function(W){return Ne(W,function(te){return te})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},qe.Component=I,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=F,qe.StrictMode=i,qe.Suspense=f,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,qe.act=de,qe.cloneElement=function(W,te,ge){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Me=P({},W.props),Le=W.key,We=W.ref,$e=W._owner;if(te!=null){if(te.ref!==void 0&&(We=te.ref,$e=K.current),te.key!==void 0&&(Le=""+te.key),W.type&&W.type.defaultProps)var Ie=W.type.defaultProps;for(Re in te)L.call(te,Re)&&!k.hasOwnProperty(Re)&&(Me[Re]=te[Re]===void 0&&Ie!==void 0?Ie[Re]:te[Re])}var Re=arguments.length-2;if(Re===1)Me.children=ge;else if(1<Re){Ie=Array(Re);for(var rt=0;rt<Re;rt++)Ie[rt]=arguments[rt+2];Me.children=Ie}return{$$typeof:t,type:W.type,key:Le,ref:We,props:Me,_owner:$e}},qe.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},qe.createElement=C,qe.createFactory=function(W){var te=C.bind(null,W);return te.type=W,te},qe.createRef=function(){return{current:null}},qe.forwardRef=function(W){return{$$typeof:d,render:W}},qe.isValidElement=M,qe.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:Ge}},qe.memo=function(W,te){return{$$typeof:p,type:W,compare:te===void 0?null:te}},qe.startTransition=function(W){var te=se.transition;se.transition={};try{W()}finally{se.transition=te}},qe.unstable_act=de,qe.useCallback=function(W,te){return Pe.current.useCallback(W,te)},qe.useContext=function(W){return Pe.current.useContext(W)},qe.useDebugValue=function(){},qe.useDeferredValue=function(W){return Pe.current.useDeferredValue(W)},qe.useEffect=function(W,te){return Pe.current.useEffect(W,te)},qe.useId=function(){return Pe.current.useId()},qe.useImperativeHandle=function(W,te,ge){return Pe.current.useImperativeHandle(W,te,ge)},qe.useInsertionEffect=function(W,te){return Pe.current.useInsertionEffect(W,te)},qe.useLayoutEffect=function(W,te){return Pe.current.useLayoutEffect(W,te)},qe.useMemo=function(W,te){return Pe.current.useMemo(W,te)},qe.useReducer=function(W,te,ge){return Pe.current.useReducer(W,te,ge)},qe.useRef=function(W){return Pe.current.useRef(W)},qe.useState=function(W){return Pe.current.useState(W)},qe.useSyncExternalStore=function(W,te,ge){return Pe.current.useSyncExternalStore(W,te,ge)},qe.useTransition=function(){return Pe.current.useTransition()},qe.version="18.3.1",qe}var Pv;function Ni(){return Pv||(Pv=1,yf.exports=ES()),yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function xS(){if(Cv)return sl;Cv=1;var t=Ni(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,y={},w=null,x=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)i.call(f,g)&&!a.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:d,key:w,ref:x,props:y,_owner:o.current}}return sl.Fragment=n,sl.jsx=u,sl.jsxs=u,sl}var Av;function TS(){return Av||(Av=1,gf.exports=xS()),gf.exports}var T=TS(),B=Ni();const Pi=Uw(B);var cc={},vf={exports:{}},Fn={},_f={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function SS(){return Iv||(Iv=1,function(t){function e(se,me){var de=se.length;se.push(me);e:for(;0<de;){var W=de-1>>>1,te=se[W];if(0<o(te,me))se[W]=me,se[de]=te,de=W;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var me=se[0],de=se.pop();if(de!==me){se[0]=de;e:for(var W=0,te=se.length,ge=te>>>1;W<ge;){var Me=2*(W+1)-1,Le=se[Me],We=Me+1,$e=se[We];if(0>o(Le,de))We<te&&0>o($e,Le)?(se[W]=$e,se[We]=de,W=We):(se[W]=Le,se[Me]=de,W=Me);else if(We<te&&0>o($e,de))se[W]=$e,se[We]=de,W=We;else break e}}return me}function o(se,me){var de=se.sortIndex-me.sortIndex;return de!==0?de:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,y=null,w=3,x=!1,P=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(se){for(var me=n(p);me!==null;){if(me.callback===null)i(p);else if(me.startTime<=se)i(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=n(p)}}function Y(se){if(b=!1,U(se),!P)if(n(f)!==null)P=!0,Ge(L);else{var me=n(p);me!==null&&Pe(Y,me.startTime-se)}}function L(se,me){P=!1,b&&(b=!1,N(C),C=-1),x=!0;var de=w;try{for(U(me),y=n(f);y!==null&&(!(y.expirationTime>me)||se&&!O());){var W=y.callback;if(typeof W=="function"){y.callback=null,w=y.priorityLevel;var te=W(y.expirationTime<=me);me=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(f)&&i(f),U(me)}else i(f);y=n(f)}if(y!==null)var ge=!0;else{var Me=n(p);Me!==null&&Pe(Y,Me.startTime-me),ge=!1}return ge}finally{y=null,w=de,x=!1}}var K=!1,k=null,C=-1,R=5,M=-1;function O(){return!(t.unstable_now()-M<R)}function V(){if(k!==null){var se=t.unstable_now();M=se;var me=!0;try{me=k(!0,se)}finally{me?D():(K=!1,k=null)}}else K=!1}var D;if(typeof F=="function")D=function(){F(V)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Ne=ue.port2;ue.port1.onmessage=V,D=function(){Ne.postMessage(null)}}else D=function(){I(V,0)};function Ge(se){k=se,K||(K=!0,D())}function Pe(se,me){C=I(function(){se(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){P||x||(P=!0,Ge(L))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var de=w;w=me;try{return se()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var de=w;w=se;try{return me()}finally{w=de}},t.unstable_scheduleCallback=function(se,me,de){var W=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?W+de:W):de=W,se){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=de+te,se={id:g++,callback:me,priorityLevel:se,startTime:de,expirationTime:te,sortIndex:-1},de>W?(se.sortIndex=de,e(p,se),n(f)===null&&se===n(p)&&(b?(N(C),C=-1):b=!0,Pe(Y,de-W))):(se.sortIndex=te,e(f,se),P||x||(P=!0,Ge(L))),se},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(se){var me=w;return function(){var de=w;w=me;try{return se.apply(this,arguments)}finally{w=de}}}}(wf)),wf}var Rv;function PS(){return Rv||(Rv=1,_f.exports=SS()),_f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function CS(){if(kv)return Fn;kv=1;var t=Ni(),e=PS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(r){return f.call(y,r)?!0:f.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function x(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,l,h){if(s===null||typeof s>"u"||x(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,l,h,m,_,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=_,this.removeEmptyString=S}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){I[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];I[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){I[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){I[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){I[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){I[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){I[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){I[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){I[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,F);I[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,F);I[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,F);I[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){I[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),I.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){I[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function U(r,s,l,h){var m=I.hasOwnProperty(s)?I[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,m,h)&&(l=null),h||m===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),K=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),se=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,W;function te(r){if(W===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);W=s&&s[1]||""}return`
`+W+r}var ge=!1;function Me(r,s){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(J){var h=J}Reflect.construct(r,[],s)}else{try{s.call()}catch(J){h=J}r.call(s.prototype)}else{try{throw Error()}catch(J){h=J}r()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),_=h.stack.split(`
`),S=m.length-1,j=_.length-1;1<=S&&0<=j&&m[S]!==_[j];)j--;for(;1<=S&&0<=j;S--,j--)if(m[S]!==_[j]){if(S!==1||j!==1)do if(S--,j--,0>j||m[S]!==_[j]){var z=`
`+m[S].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=S&&0<=j);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?te(r):""}function Le(r){switch(r.tag){case 5:return te(r.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return r=Me(r.type,!1),r;case 11:return r=Me(r.type.render,!1),r;case 1:return r=Me(r.type,!0),r;default:return""}}function We(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case K:return"Portal";case R:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case ue:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ne:return s=r.displayName||null,s!==null?s:We(r.type)||"Memo";case Ge:s=r._payload,r=r._init;try{return We(r(s))}catch{}}return null}function $e(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rt(r){var s=Re(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,_.call(this,S)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Wt(r){r._valueTracker||(r._valueTracker=rt(r))}function Or(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Re(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function dn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function oi(r,s){var l=s.checked;return de({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Vi(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ie(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Mi(r,s){s=s.checked,s!=null&&U(r,"checked",s,!1)}function Is(r,s){Mi(r,s);var l=Ie(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Li(r,s.type,l):s.hasOwnProperty("defaultValue")&&Li(r,s.type,Ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function go(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Li(r,s,l){(s!=="number"||dn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var hr=Array.isArray;function Xt(r,s,l,h){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ie(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,h&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function fr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return de({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ai(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(hr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ie(l)}}function jr(r,s){var l=Ie(s.value),h=Ie(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Rn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function dt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?dt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Un,Rs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,m)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Un=Un||document.createElement("div"),Un.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Un.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Br=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(r){Br.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Fr[s]=Fr[r]})});function Oi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Fr.hasOwnProperty(r)&&Fr[r]?(""+s).trim():s+"px"}function ks(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Oi(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,m):r[l]=m}}var ji=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(r,s){if(s){if(ji[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Fi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function Bi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,kn=null,zn=null;function mr(r){if(r=Ha(r)){if(typeof li!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Su(s),li(r.stateNode,r.type,s))}}function Sn(r){kn?zn?zn.push(r):zn=[r]:kn=r}function bs(){if(kn){var r=kn,s=zn;if(zn=kn=null,mr(r),s)for(r=0;r<s.length;r++)mr(s[r])}}function ui(r,s){return r(s)}function $(){}var q=!1;function Z(r,s,l){if(q)return r(s,l);q=!0;try{return ui(r,s,l)}finally{q=!1,(kn!==null||zn!==null)&&($(),bs())}}function ne(r,s){var l=r.stateNode;if(l===null)return null;var h=Su(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var pe=!1;if(d)try{var we={};Object.defineProperty(we,"passive",{get:function(){pe=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{pe=!1}function be(r,s,l,h,m,_,S,j,z){var J=Array.prototype.slice.call(arguments,3);try{s.apply(l,J)}catch(ae){this.onError(ae)}}var ye=!1,xe=null,he=!1,je=null,He={onError:function(r){ye=!0,xe=r}};function at(r,s,l,h,m,_,S,j,z){ye=!1,xe=null,be.apply(He,arguments)}function kt(r,s,l,h,m,_,S,j,z){if(at.apply(this,arguments),ye){if(ye){var J=xe;ye=!1,xe=null}else throw Error(n(198));he||(he=!0,je=J)}}function Qe(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function it(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function lt(r){if(Qe(r)!==r)throw Error(n(188))}function gr(r){var s=r.alternate;if(!s){if(s=Qe(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return lt(m),r;if(_===h)return lt(m),s;_=_.sibling}throw Error(n(188))}if(l.return!==h.return)l=m,h=_;else{for(var S=!1,j=m.child;j;){if(j===l){S=!0,l=m,h=_;break}if(j===h){S=!0,h=m,l=_;break}j=j.sibling}if(!S){for(j=_.child;j;){if(j===l){S=!0,l=_,h=m;break}if(j===h){S=!0,h=_,l=m;break}j=j.sibling}if(!S)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function yr(r){return r=gr(r),r!==null?hn(r):null}function hn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=hn(r);if(s!==null)return s;r=r.sibling}return null}var Zt=e.unstable_scheduleCallback,ci=e.unstable_cancelCallback,zr=e.unstable_shouldYield,vr=e.unstable_requestPaint,ut=e.unstable_now,di=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,en=e.unstable_NormalPriority,_r=e.unstable_LowPriority,gt=e.unstable_IdlePriority,bn=null,fn=null;function yo(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(bn,r,void 0,(r.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:nu,Ia=Math.log,tu=Math.LN2;function nu(r){return r>>>=0,r===0?32:31-(Ia(r)/tu|0)|0}var vo=64,_o=4194304;function Ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ns(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,_=r.pingedLanes,S=l&268435455;if(S!==0){var j=S&~m;j!==0?h=Ui(j):(_&=S,_!==0&&(h=Ui(_)))}else S=l&~m,S!==0?h=Ui(S):_!==0&&(h=Ui(_));if(h===0)return 0;if(s!==0&&s!==h&&!(s&m)&&(m=h&-h,_=s&-s,m>=_||m===16&&(_&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Pn(s),m=1<<l,h|=r[l],s&=~m;return h}function Wd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,m=r.expirationTimes,_=r.pendingLanes;0<_;){var S=31-Pn(_),j=1<<S,z=m[S];z===-1?(!(j&l)||j&h)&&(m[S]=Wd(j,s)):z<=s&&(r.expiredLanes|=j),_&=~j}}function $n(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ds(){var r=vo;return vo<<=1,!(vo&4194240)&&(vo=64),r}function zi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function $i(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Pn(s),r[s]=l}function ft(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Pn(l),_=1<<m;s[m]=0,h[m]=-1,r[m]=-1,l&=~_}}function Hi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Pn(l),m=1<<h;m&s|r[h]&s&&(r[h]|=s),l&=~m}}var Ye=0;function Wi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ru,wo,iu,su,ou,Ra=!1,$r=[],tn=null,wr=null,Er=null,qi=new Map,Zn=new Map,Hr=[],qd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(r,s){switch(r){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":qi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(s.pointerId)}}function Nn(r,s,l,h,m,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},s!==null&&(s=Ha(s),s!==null&&wo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function Kd(r,s,l,h,m){switch(s){case"focusin":return tn=Nn(tn,r,s,l,h,m),!0;case"dragenter":return wr=Nn(wr,r,s,l,h,m),!0;case"mouseover":return Er=Nn(Er,r,s,l,h,m),!0;case"pointerover":var _=m.pointerId;return qi.set(_,Nn(qi.get(_)||null,r,s,l,h,m)),!0;case"gotpointercapture":return _=m.pointerId,Zn.set(_,Nn(Zn.get(_)||null,r,s,l,h,m)),!0}return!1}function lu(r){var s=js(r.target);if(s!==null){var l=Qe(s);if(l!==null){if(s=l.tag,s===13){if(s=it(l),s!==null){r.blockedOn=s,ou(r.priority,function(){iu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Eo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);pr=h,l.target.dispatchEvent(h),pr=null}else return s=Ha(l),s!==null&&wo(s),r.blockedOn=l,!1;s.shift()}return!0}function Vs(r,s,l){fi(r)&&l.delete(s)}function uu(){Ra=!1,tn!==null&&fi(tn)&&(tn=null),wr!==null&&fi(wr)&&(wr=null),Er!==null&&fi(Er)&&(Er=null),qi.forEach(Vs),Zn.forEach(Vs)}function xr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ra||(Ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uu)))}function Tr(r){function s(m){return xr(m,r)}if(0<$r.length){xr($r[0],r);for(var l=1;l<$r.length;l++){var h=$r[l];h.blockedOn===r&&(h.blockedOn=null)}}for(tn!==null&&xr(tn,r),wr!==null&&xr(wr,r),Er!==null&&xr(Er,r),qi.forEach(s),Zn.forEach(s),l=0;l<Hr.length;l++)h=Hr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Hr.length&&(l=Hr[0],l.blockedOn===null);)lu(l),l.blockedOn===null&&Hr.shift()}var pi=Y.ReactCurrentBatchConfig,Ki=!0;function Et(r,s,l,h){var m=Ye,_=pi.transition;pi.transition=null;try{Ye=1,ka(r,s,l,h)}finally{Ye=m,pi.transition=_}}function Gd(r,s,l,h){var m=Ye,_=pi.transition;pi.transition=null;try{Ye=4,ka(r,s,l,h)}finally{Ye=m,pi.transition=_}}function ka(r,s,l,h){if(Ki){var m=Eo(r,s,l,h);if(m===null)sh(r,s,h,Ms,l),au(r,h);else if(Kd(m,r,s,l,h))h.stopPropagation();else if(au(r,h),s&4&&-1<qd.indexOf(r)){for(;m!==null;){var _=Ha(m);if(_!==null&&ru(_),_=Eo(r,s,l,h),_===null&&sh(r,s,h,Ms,l),_===m)break;m=_}m!==null&&h.stopPropagation()}else sh(r,s,h,null,l)}}var Ms=null;function Eo(r,s,l,h){if(Ms=null,r=Bi(h),r=js(r),r!==null)if(s=Qe(r),s===null)r=null;else if(l=s.tag,l===13){if(r=it(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ms=r,null}function ba(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(di()){case Ze:return 1;case mt:return 4;case en:case _r:return 16;case gt:return 536870912;default:return 16}default:return 16}}var Hn=null,xo=null,Dn=null;function Na(){if(Dn)return Dn;var r,s=xo,l=s.length,h,m="value"in Hn?Hn.value:Hn.textContent,_=m.length;for(r=0;r<l&&s[r]===m[r];r++);var S=l-r;for(h=1;h<=S&&s[l-h]===m[_-h];h++);return Dn=m.slice(r,1<h?1-h:void 0)}function To(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Wr(){return!0}function Da(){return!1}function nn(r){function s(l,h,m,_,S){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(l=r[j],this[j]=l?l(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Wr:Da,this.isPropagationStopped=Da,this}return de(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),s}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=nn(Sr),qr=de({},Sr,{view:0,detail:0}),Qd=nn(qr),Po,mi,Gi,Ls=de({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gi&&(Gi&&r.type==="mousemove"?(Po=r.screenX-Gi.screenX,mi=r.screenY-Gi.screenY):mi=Po=0,Gi=r),Po)},movementY:function(r){return"movementY"in r?r.movementY:mi}}),Co=nn(Ls),Va=de({},Ls,{dataTransfer:0}),cu=nn(Va),Ao=de({},qr,{relatedTarget:0}),Io=nn(Ao),du=de({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),gi=nn(du),hu=de({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fu=nn(hu),pu=de({},Sr,{data:0}),Ma=nn(pu),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=mu[r])?!!s[r]:!1}function Kr(){return gu}var c=de({},qr,{key:function(r){if(r.key){var s=Ro[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=To(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Cn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(r){return r.type==="keypress"?To(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?To(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),v=nn(c),E=de({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=nn(E),G=de({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),ee=nn(G),fe=de({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=nn(fe),Bt=de({},Ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),et=nn(Bt),qt=[9,13,27,32],Lt=d&&"CompositionEvent"in window,er=null;d&&"documentMode"in document&&(er=document.documentMode);var Wn=d&&"TextEvent"in window&&!er,Os=d&&(!Lt||er&&8<er&&11>=er),ko=" ",vg=!1;function _g(r,s){switch(r){case"keyup":return qt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bo=!1;function _T(r,s){switch(r){case"compositionend":return wg(s);case"keypress":return s.which!==32?null:(vg=!0,ko);case"textInput":return r=s.data,r===ko&&vg?null:r;default:return null}}function wT(r,s){if(bo)return r==="compositionend"||!Lt&&_g(r,s)?(r=Na(),Dn=xo=Hn=null,bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Os&&s.locale!=="ko"?null:s.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ET[r.type]:s==="textarea"}function xg(r,s,l,h){Sn(h),s=Eu(s,"onChange"),0<s.length&&(l=new So("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var La=null,Oa=null;function xT(r){Bg(r,0)}function yu(r){var s=Lo(r);if(Or(s))return r}function TT(r,s){if(r==="change")return s}var Tg=!1;if(d){var Yd;if(d){var Xd="oninput"in document;if(!Xd){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Xd=typeof Sg.oninput=="function"}Yd=Xd}else Yd=!1;Tg=Yd&&(!document.documentMode||9<document.documentMode)}function Pg(){La&&(La.detachEvent("onpropertychange",Cg),Oa=La=null)}function Cg(r){if(r.propertyName==="value"&&yu(Oa)){var s=[];xg(s,Oa,r,Bi(r)),Z(xT,s)}}function ST(r,s,l){r==="focusin"?(Pg(),La=s,Oa=l,La.attachEvent("onpropertychange",Cg)):r==="focusout"&&Pg()}function PT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yu(Oa)}function CT(r,s){if(r==="click")return yu(s)}function AT(r,s){if(r==="input"||r==="change")return yu(s)}function IT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Pr=typeof Object.is=="function"?Object.is:IT;function ja(r,s){if(Pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(s,m)||!Pr(r[m],s[m]))return!1}return!0}function Ag(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ig(r,s){var l=Ag(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ag(l)}}function Rg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Rg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function kg(){for(var r=window,s=dn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=dn(r.document)}return s}function Jd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function RT(r){var s=kg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Rg(l.ownerDocument.documentElement,l)){if(h!==null&&Jd(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,_=Math.min(h.start,m);h=h.end===void 0?_:Math.min(h.end,m),!r.extend&&_>h&&(m=h,h=_,_=m),m=Ig(l,_);var S=Ig(l,h);m&&S&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),_>h?(r.addRange(s),r.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kT=d&&"documentMode"in document&&11>=document.documentMode,No=null,Zd=null,Fa=null,eh=!1;function bg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eh||No==null||No!==dn(h)||(h=No,"selectionStart"in h&&Jd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Fa&&ja(Fa,h)||(Fa=h,h=Eu(Zd,"onSelect"),0<h.length&&(s=new So("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=No)))}function vu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Do={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},th={},Ng={};d&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function _u(r){if(th[r])return th[r];if(!Do[r])return r;var s=Do[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ng)return th[r]=s[l];return r}var Dg=_u("animationend"),Vg=_u("animationiteration"),Mg=_u("animationstart"),Lg=_u("transitionend"),Og=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(r,s){Og.set(r,s),a(s,[r])}for(var nh=0;nh<jg.length;nh++){var rh=jg[nh],bT=rh.toLowerCase(),NT=rh[0].toUpperCase()+rh.slice(1);Qi(bT,"on"+NT)}Qi(Dg,"onAnimationEnd"),Qi(Vg,"onAnimationIteration"),Qi(Mg,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(Lg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function Fg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,kt(h,s,void 0,r),r.currentTarget=null}function Bg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],m=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var S=h.length-1;0<=S;S--){var j=h[S],z=j.instance,J=j.currentTarget;if(j=j.listener,z!==_&&m.isPropagationStopped())break e;Fg(m,j,J),_=z}else for(S=0;S<h.length;S++){if(j=h[S],z=j.instance,J=j.currentTarget,j=j.listener,z!==_&&m.isPropagationStopped())break e;Fg(m,j,J),_=z}}}if(he)throw r=je,he=!1,je=null,r}function yt(r,s){var l=s[dh];l===void 0&&(l=s[dh]=new Set);var h=r+"__bubble";l.has(h)||(Ug(s,r,2,!1),l.add(h))}function ih(r,s,l){var h=0;s&&(h|=4),Ug(l,r,h,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Ua(r){if(!r[wu]){r[wu]=!0,i.forEach(function(l){l!=="selectionchange"&&(DT.has(l)||ih(l,!1,r),ih(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[wu]||(s[wu]=!0,ih("selectionchange",!1,s))}}function Ug(r,s,l,h){switch(ba(s)){case 1:var m=Et;break;case 4:m=Gd;break;default:m=ka}l=m.bind(null,s,l,r),m=void 0,!pe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function sh(r,s,l,h,m){var _=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var j=h.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;S=S.return}for(;j!==null;){if(S=js(j),S===null)return;if(z=S.tag,z===5||z===6){h=_=S;continue e}j=j.parentNode}}h=h.return}Z(function(){var J=_,ae=Bi(l),le=[];e:{var oe=Og.get(r);if(oe!==void 0){var ve=So,Se=r;switch(r){case"keypress":if(To(l)===0)break e;case"keydown":case"keyup":ve=v;break;case"focusin":Se="focus",ve=Io;break;case"focusout":Se="blur",ve=Io;break;case"beforeblur":case"afterblur":ve=Io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ee;break;case Dg:case Vg:case Mg:ve=gi;break;case Lg:ve=ht;break;case"scroll":ve=Qd;break;case"wheel":ve=et;break;case"copy":case"cut":case"paste":ve=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=A}var Ce=(s&4)!==0,Dt=!Ce&&r==="scroll",Q=Ce?oe!==null?oe+"Capture":null:oe;Ce=[];for(var H=J,X;H!==null;){X=H;var ce=X.stateNode;if(X.tag===5&&ce!==null&&(X=ce,Q!==null&&(ce=ne(H,Q),ce!=null&&Ce.push(za(H,ce,X)))),Dt)break;H=H.return}0<Ce.length&&(oe=new ve(oe,Se,null,l,ae),le.push({event:oe,listeners:Ce}))}}if(!(s&7)){e:{if(oe=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",oe&&l!==pr&&(Se=l.relatedTarget||l.fromElement)&&(js(Se)||Se[yi]))break e;if((ve||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(Se=l.relatedTarget||l.toElement,ve=J,Se=Se?js(Se):null,Se!==null&&(Dt=Qe(Se),Se!==Dt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=J),ve!==Se)){if(Ce=Co,ce="onMouseLeave",Q="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=A,ce="onPointerLeave",Q="onPointerEnter",H="pointer"),Dt=ve==null?oe:Lo(ve),X=Se==null?oe:Lo(Se),oe=new Ce(ce,H+"leave",ve,l,ae),oe.target=Dt,oe.relatedTarget=X,ce=null,js(ae)===J&&(Ce=new Ce(Q,H+"enter",Se,l,ae),Ce.target=X,Ce.relatedTarget=Dt,ce=Ce),Dt=ce,ve&&Se)t:{for(Ce=ve,Q=Se,H=0,X=Ce;X;X=Vo(X))H++;for(X=0,ce=Q;ce;ce=Vo(ce))X++;for(;0<H-X;)Ce=Vo(Ce),H--;for(;0<X-H;)Q=Vo(Q),X--;for(;H--;){if(Ce===Q||Q!==null&&Ce===Q.alternate)break t;Ce=Vo(Ce),Q=Vo(Q)}Ce=null}else Ce=null;ve!==null&&zg(le,oe,ve,Ce,!1),Se!==null&&Dt!==null&&zg(le,Dt,Se,Ce,!0)}}e:{if(oe=J?Lo(J):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var Ae=TT;else if(Eg(oe))if(Tg)Ae=AT;else{Ae=PT;var De=ST}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ae=CT);if(Ae&&(Ae=Ae(r,J))){xg(le,Ae,l,ae);break e}De&&De(r,oe,J),r==="focusout"&&(De=oe._wrapperState)&&De.controlled&&oe.type==="number"&&Li(oe,"number",oe.value)}switch(De=J?Lo(J):window,r){case"focusin":(Eg(De)||De.contentEditable==="true")&&(No=De,Zd=J,Fa=null);break;case"focusout":Fa=Zd=No=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,bg(le,l,ae);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":bg(le,l,ae)}var Ve;if(Lt)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else bo?_g(r,l)&&(Fe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Os&&l.locale!=="ko"&&(bo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&bo&&(Ve=Na()):(Hn=ae,xo="value"in Hn?Hn.value:Hn.textContent,bo=!0)),De=Eu(J,Fe),0<De.length&&(Fe=new Ma(Fe,r,null,l,ae),le.push({event:Fe,listeners:De}),Ve?Fe.data=Ve:(Ve=wg(l),Ve!==null&&(Fe.data=Ve)))),(Ve=Wn?_T(r,l):wT(r,l))&&(J=Eu(J,"onBeforeInput"),0<J.length&&(ae=new Ma("onBeforeInput","beforeinput",null,l,ae),le.push({event:ae,listeners:J}),ae.data=Ve))}Bg(le,s)})}function za(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Eu(r,s){for(var l=s+"Capture",h=[];r!==null;){var m=r,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=ne(r,l),_!=null&&h.unshift(za(r,_,m)),_=ne(r,s),_!=null&&h.push(za(r,_,m))),r=r.return}return h}function Vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function zg(r,s,l,h,m){for(var _=s._reactName,S=[];l!==null&&l!==h;){var j=l,z=j.alternate,J=j.stateNode;if(z!==null&&z===h)break;j.tag===5&&J!==null&&(j=J,m?(z=ne(l,_),z!=null&&S.unshift(za(l,z,j))):m||(z=ne(l,_),z!=null&&S.push(za(l,z,j)))),l=l.return}S.length!==0&&r.push({event:s,listeners:S})}var VT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function $g(r){return(typeof r=="string"?r:""+r).replace(VT,`
`).replace(MT,"")}function xu(r,s,l){if(s=$g(s),$g(r)!==s&&l)throw Error(n(425))}function Tu(){}var oh=null,ah=null;function lh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,Hg=typeof Promise=="function"?Promise:void 0,OT=typeof queueMicrotask=="function"?queueMicrotask:typeof Hg<"u"?function(r){return Hg.resolve(null).then(r).catch(jT)}:uh;function jT(r){setTimeout(function(){throw r})}function ch(r,s){var l=s,h=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){r.removeChild(m),Tr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Tr(s)}function Yi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Wg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Mo,$a="__reactProps$"+Mo,yi="__reactContainer$"+Mo,dh="__reactEvents$"+Mo,FT="__reactListeners$"+Mo,BT="__reactHandles$"+Mo;function js(r){var s=r[Gr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[yi]||l[Gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Wg(r);r!==null;){if(l=r[Gr])return l;r=Wg(r)}return s}r=l,l=r.parentNode}return null}function Ha(r){return r=r[Gr]||r[yi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Su(r){return r[$a]||null}var hh=[],Oo=-1;function Xi(r){return{current:r}}function vt(r){0>Oo||(r.current=hh[Oo],hh[Oo]=null,Oo--)}function pt(r,s){Oo++,hh[Oo]=r.current,r.current=s}var Ji={},pn=Xi(Ji),Vn=Xi(!1),Fs=Ji;function jo(r,s){var l=r.type.contextTypes;if(!l)return Ji;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in l)m[_]=s[_];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function Mn(r){return r=r.childContextTypes,r!=null}function Pu(){vt(Vn),vt(pn)}function qg(r,s,l){if(pn.current!==Ji)throw Error(n(168));pt(pn,s),pt(Vn,l)}function Kg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(n(108,$e(r)||"Unknown",m));return de({},l,h)}function Cu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ji,Fs=pn.current,pt(pn,r),pt(Vn,Vn.current),!0}function Gg(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=Kg(r,s,Fs),h.__reactInternalMemoizedMergedChildContext=r,vt(Vn),vt(pn),pt(pn,r)):vt(Vn),pt(Vn,l)}var vi=null,Au=!1,fh=!1;function Qg(r){vi===null?vi=[r]:vi.push(r)}function UT(r){Au=!0,Qg(r)}function Zi(){if(!fh&&vi!==null){fh=!0;var r=0,s=Ye;try{var l=vi;for(Ye=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}vi=null,Au=!1}catch(m){throw vi!==null&&(vi=vi.slice(r+1)),Zt(Ze,Zi),m}finally{Ye=s,fh=!1}}return null}var Fo=[],Bo=0,Iu=null,Ru=0,tr=[],nr=0,Bs=null,_i=1,wi="";function Us(r,s){Fo[Bo++]=Ru,Fo[Bo++]=Iu,Iu=r,Ru=s}function Yg(r,s,l){tr[nr++]=_i,tr[nr++]=wi,tr[nr++]=Bs,Bs=r;var h=_i;r=wi;var m=32-Pn(h)-1;h&=~(1<<m),l+=1;var _=32-Pn(s)+m;if(30<_){var S=m-m%5;_=(h&(1<<S)-1).toString(32),h>>=S,m-=S,_i=1<<32-Pn(s)+m|l<<m|h,wi=_+r}else _i=1<<_|l<<m|h,wi=r}function ph(r){r.return!==null&&(Us(r,1),Yg(r,1,0))}function mh(r){for(;r===Iu;)Iu=Fo[--Bo],Fo[Bo]=null,Ru=Fo[--Bo],Fo[Bo]=null;for(;r===Bs;)Bs=tr[--nr],tr[nr]=null,wi=tr[--nr],tr[nr]=null,_i=tr[--nr],tr[nr]=null}var qn=null,Kn=null,xt=!1,Cr=null;function Xg(r,s){var l=or(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Jg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,qn=r,Kn=Yi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,qn=r,Kn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Bs!==null?{id:_i,overflow:wi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=or(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,qn=r,Kn=null,!0):!1;default:return!1}}function gh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function yh(r){if(xt){var s=Kn;if(s){var l=s;if(!Jg(r,s)){if(gh(r))throw Error(n(418));s=Yi(l.nextSibling);var h=qn;s&&Jg(r,s)?Xg(h,l):(r.flags=r.flags&-4097|2,xt=!1,qn=r)}}else{if(gh(r))throw Error(n(418));r.flags=r.flags&-4097|2,xt=!1,qn=r}}}function Zg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;qn=r}function ku(r){if(r!==qn)return!1;if(!xt)return Zg(r),xt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!lh(r.type,r.memoizedProps)),s&&(s=Kn)){if(gh(r))throw ey(),Error(n(418));for(;s;)Xg(r,s),s=Yi(s.nextSibling)}if(Zg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Kn=Yi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Kn=null}}else Kn=qn?Yi(r.stateNode.nextSibling):null;return!0}function ey(){for(var r=Kn;r;)r=Yi(r.nextSibling)}function Uo(){Kn=qn=null,xt=!1}function vh(r){Cr===null?Cr=[r]:Cr.push(r)}var zT=Y.ReactCurrentBatchConfig;function Wa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var m=h,_=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(S){var j=m.refs;S===null?delete j[_]:j[_]=S},s._stringRef=_,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function bu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ty(r){var s=r._init;return s(r._payload)}function ny(r){function s(Q,H){if(r){var X=Q.deletions;X===null?(Q.deletions=[H],Q.flags|=16):X.push(H)}}function l(Q,H){if(!r)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function h(Q,H){for(Q=new Map;H!==null;)H.key!==null?Q.set(H.key,H):Q.set(H.index,H),H=H.sibling;return Q}function m(Q,H){return Q=as(Q,H),Q.index=0,Q.sibling=null,Q}function _(Q,H,X){return Q.index=X,r?(X=Q.alternate,X!==null?(X=X.index,X<H?(Q.flags|=2,H):X):(Q.flags|=2,H)):(Q.flags|=1048576,H)}function S(Q){return r&&Q.alternate===null&&(Q.flags|=2),Q}function j(Q,H,X,ce){return H===null||H.tag!==6?(H=cf(X,Q.mode,ce),H.return=Q,H):(H=m(H,X),H.return=Q,H)}function z(Q,H,X,ce){var Ae=X.type;return Ae===k?ae(Q,H,X.props.children,ce,X.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ge&&ty(Ae)===H.type)?(ce=m(H,X.props),ce.ref=Wa(Q,H,X),ce.return=Q,ce):(ce=tc(X.type,X.key,X.props,null,Q.mode,ce),ce.ref=Wa(Q,H,X),ce.return=Q,ce)}function J(Q,H,X,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=df(X,Q.mode,ce),H.return=Q,H):(H=m(H,X.children||[]),H.return=Q,H)}function ae(Q,H,X,ce,Ae){return H===null||H.tag!==7?(H=Qs(X,Q.mode,ce,Ae),H.return=Q,H):(H=m(H,X),H.return=Q,H)}function le(Q,H,X){if(typeof H=="string"&&H!==""||typeof H=="number")return H=cf(""+H,Q.mode,X),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return X=tc(H.type,H.key,H.props,null,Q.mode,X),X.ref=Wa(Q,null,H),X.return=Q,X;case K:return H=df(H,Q.mode,X),H.return=Q,H;case Ge:var ce=H._init;return le(Q,ce(H._payload),X)}if(hr(H)||me(H))return H=Qs(H,Q.mode,X,null),H.return=Q,H;bu(Q,H)}return null}function oe(Q,H,X,ce){var Ae=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ae!==null?null:j(Q,H,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case L:return X.key===Ae?z(Q,H,X,ce):null;case K:return X.key===Ae?J(Q,H,X,ce):null;case Ge:return Ae=X._init,oe(Q,H,Ae(X._payload),ce)}if(hr(X)||me(X))return Ae!==null?null:ae(Q,H,X,ce,null);bu(Q,X)}return null}function ve(Q,H,X,ce,Ae){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Q=Q.get(X)||null,j(H,Q,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case L:return Q=Q.get(ce.key===null?X:ce.key)||null,z(H,Q,ce,Ae);case K:return Q=Q.get(ce.key===null?X:ce.key)||null,J(H,Q,ce,Ae);case Ge:var De=ce._init;return ve(Q,H,X,De(ce._payload),Ae)}if(hr(ce)||me(ce))return Q=Q.get(X)||null,ae(H,Q,ce,Ae,null);bu(H,ce)}return null}function Se(Q,H,X,ce){for(var Ae=null,De=null,Ve=H,Fe=H=0,Qt=null;Ve!==null&&Fe<X.length;Fe++){Ve.index>Fe?(Qt=Ve,Ve=null):Qt=Ve.sibling;var ot=oe(Q,Ve,X[Fe],ce);if(ot===null){Ve===null&&(Ve=Qt);break}r&&Ve&&ot.alternate===null&&s(Q,Ve),H=_(ot,H,Fe),De===null?Ae=ot:De.sibling=ot,De=ot,Ve=Qt}if(Fe===X.length)return l(Q,Ve),xt&&Us(Q,Fe),Ae;if(Ve===null){for(;Fe<X.length;Fe++)Ve=le(Q,X[Fe],ce),Ve!==null&&(H=_(Ve,H,Fe),De===null?Ae=Ve:De.sibling=Ve,De=Ve);return xt&&Us(Q,Fe),Ae}for(Ve=h(Q,Ve);Fe<X.length;Fe++)Qt=ve(Ve,Q,Fe,X[Fe],ce),Qt!==null&&(r&&Qt.alternate!==null&&Ve.delete(Qt.key===null?Fe:Qt.key),H=_(Qt,H,Fe),De===null?Ae=Qt:De.sibling=Qt,De=Qt);return r&&Ve.forEach(function(ls){return s(Q,ls)}),xt&&Us(Q,Fe),Ae}function Ce(Q,H,X,ce){var Ae=me(X);if(typeof Ae!="function")throw Error(n(150));if(X=Ae.call(X),X==null)throw Error(n(151));for(var De=Ae=null,Ve=H,Fe=H=0,Qt=null,ot=X.next();Ve!==null&&!ot.done;Fe++,ot=X.next()){Ve.index>Fe?(Qt=Ve,Ve=null):Qt=Ve.sibling;var ls=oe(Q,Ve,ot.value,ce);if(ls===null){Ve===null&&(Ve=Qt);break}r&&Ve&&ls.alternate===null&&s(Q,Ve),H=_(ls,H,Fe),De===null?Ae=ls:De.sibling=ls,De=ls,Ve=Qt}if(ot.done)return l(Q,Ve),xt&&Us(Q,Fe),Ae;if(Ve===null){for(;!ot.done;Fe++,ot=X.next())ot=le(Q,ot.value,ce),ot!==null&&(H=_(ot,H,Fe),De===null?Ae=ot:De.sibling=ot,De=ot);return xt&&Us(Q,Fe),Ae}for(Ve=h(Q,Ve);!ot.done;Fe++,ot=X.next())ot=ve(Ve,Q,Fe,ot.value,ce),ot!==null&&(r&&ot.alternate!==null&&Ve.delete(ot.key===null?Fe:ot.key),H=_(ot,H,Fe),De===null?Ae=ot:De.sibling=ot,De=ot);return r&&Ve.forEach(function(wS){return s(Q,wS)}),xt&&Us(Q,Fe),Ae}function Dt(Q,H,X,ce){if(typeof X=="object"&&X!==null&&X.type===k&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case L:e:{for(var Ae=X.key,De=H;De!==null;){if(De.key===Ae){if(Ae=X.type,Ae===k){if(De.tag===7){l(Q,De.sibling),H=m(De,X.props.children),H.return=Q,Q=H;break e}}else if(De.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ge&&ty(Ae)===De.type){l(Q,De.sibling),H=m(De,X.props),H.ref=Wa(Q,De,X),H.return=Q,Q=H;break e}l(Q,De);break}else s(Q,De);De=De.sibling}X.type===k?(H=Qs(X.props.children,Q.mode,ce,X.key),H.return=Q,Q=H):(ce=tc(X.type,X.key,X.props,null,Q.mode,ce),ce.ref=Wa(Q,H,X),ce.return=Q,Q=ce)}return S(Q);case K:e:{for(De=X.key;H!==null;){if(H.key===De)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){l(Q,H.sibling),H=m(H,X.children||[]),H.return=Q,Q=H;break e}else{l(Q,H);break}else s(Q,H);H=H.sibling}H=df(X,Q.mode,ce),H.return=Q,Q=H}return S(Q);case Ge:return De=X._init,Dt(Q,H,De(X._payload),ce)}if(hr(X))return Se(Q,H,X,ce);if(me(X))return Ce(Q,H,X,ce);bu(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,H!==null&&H.tag===6?(l(Q,H.sibling),H=m(H,X),H.return=Q,Q=H):(l(Q,H),H=cf(X,Q.mode,ce),H.return=Q,Q=H),S(Q)):l(Q,H)}return Dt}var zo=ny(!0),ry=ny(!1),Nu=Xi(null),Du=null,$o=null,_h=null;function wh(){_h=$o=Du=null}function Eh(r){var s=Nu.current;vt(Nu),r._currentValue=s}function xh(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Ho(r,s){Du=r,_h=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Ln=!0),r.firstContext=null)}function rr(r){var s=r._currentValue;if(_h!==r)if(r={context:r,memoizedValue:s,next:null},$o===null){if(Du===null)throw Error(n(308));$o=r,Du.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return s}var zs=null;function Th(r){zs===null?zs=[r]:zs.push(r)}function iy(r,s,l,h){var m=s.interleaved;return m===null?(l.next=l,Th(s)):(l.next=m.next,m.next=l),s.interleaved=l,Ei(r,h)}function Ei(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var es=!1;function Sh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ts(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,st&2){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Ei(r,l)}return m=h.interleaved,m===null?(s.next=s,Th(h)):(s.next=m.next,m.next=s),h.interleaved=s,Ei(r,l)}function Vu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Hi(r,l)}}function oy(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?m=_=S:_=_.next=S,l=l.next}while(l!==null);_===null?m=_=s:_=_.next=s}else m=_=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Mu(r,s,l,h){var m=r.updateQueue;es=!1;var _=m.firstBaseUpdate,S=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var z=j,J=z.next;z.next=null,S===null?_=J:S.next=J,S=z;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,j=ae.lastBaseUpdate,j!==S&&(j===null?ae.firstBaseUpdate=J:j.next=J,ae.lastBaseUpdate=z))}if(_!==null){var le=m.baseState;S=0,ae=J=z=null,j=_;do{var oe=j.lane,ve=j.eventTime;if((h&oe)===oe){ae!==null&&(ae=ae.next={eventTime:ve,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Se=r,Ce=j;switch(oe=s,ve=l,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){le=Se.call(ve,le,oe);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,oe=typeof Se=="function"?Se.call(ve,le,oe):Se,oe==null)break e;le=de({},le,oe);break e;case 2:es=!0}}j.callback!==null&&j.lane!==0&&(r.flags|=64,oe=m.effects,oe===null?m.effects=[j]:oe.push(j))}else ve={eventTime:ve,lane:oe,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ae===null?(J=ae=ve,z=le):ae=ae.next=ve,S|=oe;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;oe=j,j=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(ae===null&&(z=le),m.baseState=z,m.firstBaseUpdate=J,m.lastBaseUpdate=ae,s=m.shared.interleaved,s!==null){m=s;do S|=m.lane,m=m.next;while(m!==s)}else _===null&&(m.shared.lanes=0);Ws|=S,r.lanes=S,r.memoizedState=le}}function ay(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var qa={},Qr=Xi(qa),Ka=Xi(qa),Ga=Xi(qa);function $s(r){if(r===qa)throw Error(n(174));return r}function Ph(r,s){switch(pt(Ga,s),pt(Ka,r),pt(Qr,qa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Rt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Rt(s,r)}vt(Qr),pt(Qr,s)}function Wo(){vt(Qr),vt(Ka),vt(Ga)}function ly(r){$s(Ga.current);var s=$s(Qr.current),l=Rt(s,r.type);s!==l&&(pt(Ka,r),pt(Qr,l))}function Ch(r){Ka.current===r&&(vt(Qr),vt(Ka))}var St=Xi(0);function Lu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ah=[];function Ih(){for(var r=0;r<Ah.length;r++)Ah[r]._workInProgressVersionPrimary=null;Ah.length=0}var Ou=Y.ReactCurrentDispatcher,Rh=Y.ReactCurrentBatchConfig,Hs=0,Pt=null,Ut=null,Kt=null,ju=!1,Qa=!1,Ya=0,$T=0;function mn(){throw Error(n(321))}function kh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Pr(r[l],s[l]))return!1;return!0}function bh(r,s,l,h,m,_){if(Hs=_,Pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ou.current=r===null||r.memoizedState===null?KT:GT,r=l(h,m),Qa){_=0;do{if(Qa=!1,Ya=0,25<=_)throw Error(n(301));_+=1,Kt=Ut=null,s.updateQueue=null,Ou.current=QT,r=l(h,m)}while(Qa)}if(Ou.current=Uu,s=Ut!==null&&Ut.next!==null,Hs=0,Kt=Ut=Pt=null,ju=!1,s)throw Error(n(300));return r}function Nh(){var r=Ya!==0;return Ya=0,r}function Yr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function ir(){if(Ut===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var s=Kt===null?Pt.memoizedState:Kt.next;if(s!==null)Kt=s,Ut=r;else{if(r===null)throw Error(n(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function Xa(r,s){return typeof s=="function"?s(r):s}function Dh(r){var s=ir(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=Ut,m=h.baseQueue,_=l.pending;if(_!==null){if(m!==null){var S=m.next;m.next=_.next,_.next=S}h.baseQueue=m=_,l.pending=null}if(m!==null){_=m.next,h=h.baseState;var j=S=null,z=null,J=_;do{var ae=J.lane;if((Hs&ae)===ae)z!==null&&(z=z.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:r(h,J.action);else{var le={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};z===null?(j=z=le,S=h):z=z.next=le,Pt.lanes|=ae,Ws|=ae}J=J.next}while(J!==null&&J!==_);z===null?S=h:z.next=j,Pr(h,s.memoizedState)||(Ln=!0),s.memoizedState=h,s.baseState=S,s.baseQueue=z,l.lastRenderedState=h}if(r=l.interleaved,r!==null){m=r;do _=m.lane,Pt.lanes|=_,Ws|=_,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Vh(r){var s=ir(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,m=l.pending,_=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do _=r(_,S.action),S=S.next;while(S!==m);Pr(_,s.memoizedState)||(Ln=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function uy(){}function cy(r,s){var l=Pt,h=ir(),m=s(),_=!Pr(h.memoizedState,m);if(_&&(h.memoizedState=m,Ln=!0),h=h.queue,Mh(fy.bind(null,l,h,r),[r]),h.getSnapshot!==s||_||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,hy.bind(null,l,h,m,s),void 0,null),Gt===null)throw Error(n(349));Hs&30||dy(l,s,m)}return m}function dy(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Pt.updateQueue,s===null?(s={lastEffect:null,stores:null},Pt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function hy(r,s,l,h){s.value=l,s.getSnapshot=h,py(s)&&my(r)}function fy(r,s,l){return l(function(){py(s)&&my(r)})}function py(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Pr(r,l)}catch{return!0}}function my(r){var s=Ei(r,1);s!==null&&kr(s,r,1,-1)}function gy(r){var s=Yr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:r},s.queue=r,r=r.dispatch=qT.bind(null,Pt,r),[s.memoizedState,r]}function Ja(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=Pt.updateQueue,s===null?(s={lastEffect:null,stores:null},Pt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function yy(){return ir().memoizedState}function Fu(r,s,l,h){var m=Yr();Pt.flags|=r,m.memoizedState=Ja(1|s,l,void 0,h===void 0?null:h)}function Bu(r,s,l,h){var m=ir();h=h===void 0?null:h;var _=void 0;if(Ut!==null){var S=Ut.memoizedState;if(_=S.destroy,h!==null&&kh(h,S.deps)){m.memoizedState=Ja(s,l,_,h);return}}Pt.flags|=r,m.memoizedState=Ja(1|s,l,_,h)}function vy(r,s){return Fu(8390656,8,r,s)}function Mh(r,s){return Bu(2048,8,r,s)}function _y(r,s){return Bu(4,2,r,s)}function wy(r,s){return Bu(4,4,r,s)}function Ey(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function xy(r,s,l){return l=l!=null?l.concat([r]):null,Bu(4,4,Ey.bind(null,s,r),l)}function Lh(){}function Ty(r,s){var l=ir();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kh(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Sy(r,s){var l=ir();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kh(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Py(r,s,l){return Hs&21?(Pr(l,s)||(l=Ds(),Pt.lanes|=l,Ws|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Ln=!0),r.memoizedState=l)}function HT(r,s){var l=Ye;Ye=l!==0&&4>l?l:4,r(!0);var h=Rh.transition;Rh.transition={};try{r(!1),s()}finally{Ye=l,Rh.transition=h}}function Cy(){return ir().memoizedState}function WT(r,s,l){var h=ss(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ay(r))Iy(s,l);else if(l=iy(r,s,l,h),l!==null){var m=In();kr(l,r,h,m),Ry(l,s,h)}}function qT(r,s,l){var h=ss(r),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ay(r))Iy(s,m);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var S=s.lastRenderedState,j=_(S,l);if(m.hasEagerState=!0,m.eagerState=j,Pr(j,S)){var z=s.interleaved;z===null?(m.next=m,Th(s)):(m.next=z.next,z.next=m),s.interleaved=m;return}}catch{}finally{}l=iy(r,s,m,h),l!==null&&(m=In(),kr(l,r,h,m),Ry(l,s,h))}}function Ay(r){var s=r.alternate;return r===Pt||s!==null&&s===Pt}function Iy(r,s){Qa=ju=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Ry(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Hi(r,l)}}var Uu={readContext:rr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},KT={readContext:rr,useCallback:function(r,s){return Yr().memoizedState=[r,s===void 0?null:s],r},useContext:rr,useEffect:vy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Fu(4194308,4,Ey.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Fu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Fu(4,2,r,s)},useMemo:function(r,s){var l=Yr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Yr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=WT.bind(null,Pt,r),[h.memoizedState,r]},useRef:function(r){var s=Yr();return r={current:r},s.memoizedState=r},useState:gy,useDebugValue:Lh,useDeferredValue:function(r){return Yr().memoizedState=r},useTransition:function(){var r=gy(!1),s=r[0];return r=HT.bind(null,r[1]),Yr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=Pt,m=Yr();if(xt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Gt===null)throw Error(n(349));Hs&30||dy(h,s,l)}m.memoizedState=l;var _={value:l,getSnapshot:s};return m.queue=_,vy(fy.bind(null,h,_,r),[r]),h.flags|=2048,Ja(9,hy.bind(null,h,_,l,s),void 0,null),l},useId:function(){var r=Yr(),s=Gt.identifierPrefix;if(xt){var l=wi,h=_i;l=(h&~(1<<32-Pn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ya++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=$T++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},GT={readContext:rr,useCallback:Ty,useContext:rr,useEffect:Mh,useImperativeHandle:xy,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Sy,useReducer:Dh,useRef:yy,useState:function(){return Dh(Xa)},useDebugValue:Lh,useDeferredValue:function(r){var s=ir();return Py(s,Ut.memoizedState,r)},useTransition:function(){var r=Dh(Xa)[0],s=ir().memoizedState;return[r,s]},useMutableSource:uy,useSyncExternalStore:cy,useId:Cy,unstable_isNewReconciler:!1},QT={readContext:rr,useCallback:Ty,useContext:rr,useEffect:Mh,useImperativeHandle:xy,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Sy,useReducer:Vh,useRef:yy,useState:function(){return Vh(Xa)},useDebugValue:Lh,useDeferredValue:function(r){var s=ir();return Ut===null?s.memoizedState=r:Py(s,Ut.memoizedState,r)},useTransition:function(){var r=Vh(Xa)[0],s=ir().memoizedState;return[r,s]},useMutableSource:uy,useSyncExternalStore:cy,useId:Cy,unstable_isNewReconciler:!1};function Ar(r,s){if(r&&r.defaultProps){s=de({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Oh(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:de({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var zu={isMounted:function(r){return(r=r._reactInternals)?Qe(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=In(),m=ss(r),_=xi(h,m);_.payload=s,l!=null&&(_.callback=l),s=ts(r,_,m),s!==null&&(kr(s,r,m,h),Vu(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=In(),m=ss(r),_=xi(h,m);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=ts(r,_,m),s!==null&&(kr(s,r,m,h),Vu(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=In(),h=ss(r),m=xi(l,h);m.tag=2,s!=null&&(m.callback=s),s=ts(r,m,h),s!==null&&(kr(s,r,h,l),Vu(s,r,h))}};function ky(r,s,l,h,m,_,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,_,S):s.prototype&&s.prototype.isPureReactComponent?!ja(l,h)||!ja(m,_):!0}function by(r,s,l){var h=!1,m=Ji,_=s.contextType;return typeof _=="object"&&_!==null?_=rr(_):(m=Mn(s)?Fs:pn.current,h=s.contextTypes,_=(h=h!=null)?jo(r,m):Ji),s=new s(l,_),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=_),s}function Ny(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&zu.enqueueReplaceState(s,s.state,null)}function jh(r,s,l,h){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},Sh(r);var _=s.contextType;typeof _=="object"&&_!==null?m.context=rr(_):(_=Mn(s)?Fs:pn.current,m.context=jo(r,_)),m.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Oh(r,s,_,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&zu.enqueueReplaceState(m,m.state,null),Mu(r,l,m,h),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function qo(r,s){try{var l="",h=s;do l+=Le(h),h=h.return;while(h);var m=l}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:s,stack:m,digest:null}}function Fh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Bh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var YT=typeof WeakMap=="function"?WeakMap:Map;function Dy(r,s,l){l=xi(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Qu||(Qu=!0,tf=h),Bh(r,s)},l}function Vy(r,s,l){l=xi(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){Bh(r,s)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Bh(r,s),typeof h!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),l}function My(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new YT;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),r=cS.bind(null,r,s,l),s.then(r,r))}function Ly(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Oy(r,s,l,h,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=xi(-1,1),s.tag=2,ts(l,s,1))),l.lanes|=1),r)}var XT=Y.ReactCurrentOwner,Ln=!1;function An(r,s,l,h){s.child=r===null?ry(s,null,l,h):zo(s,r.child,l,h)}function jy(r,s,l,h,m){l=l.render;var _=s.ref;return Ho(s,m),h=bh(r,s,l,h,_,m),l=Nh(),r!==null&&!Ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Ti(r,s,m)):(xt&&l&&ph(s),s.flags|=1,An(r,s,h,m),s.child)}function Fy(r,s,l,h,m){if(r===null){var _=l.type;return typeof _=="function"&&!uf(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,By(r,s,_,h,m)):(r=tc(l.type,null,h,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!(r.lanes&m)){var S=_.memoizedProps;if(l=l.compare,l=l!==null?l:ja,l(S,h)&&r.ref===s.ref)return Ti(r,s,m)}return s.flags|=1,r=as(_,h),r.ref=s.ref,r.return=s,s.child=r}function By(r,s,l,h,m){if(r!==null){var _=r.memoizedProps;if(ja(_,h)&&r.ref===s.ref)if(Ln=!1,s.pendingProps=h=_,(r.lanes&m)!==0)r.flags&131072&&(Ln=!0);else return s.lanes=r.lanes,Ti(r,s,m)}return Uh(r,s,l,h,m)}function Uy(r,s,l){var h=s.pendingProps,m=h.children,_=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Go,Gn),Gn|=l;else{if(!(l&1073741824))return r=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,pt(Go,Gn),Gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,pt(Go,Gn),Gn|=h}else _!==null?(h=_.baseLanes|l,s.memoizedState=null):h=l,pt(Go,Gn),Gn|=h;return An(r,s,m,l),s.child}function zy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Uh(r,s,l,h,m){var _=Mn(l)?Fs:pn.current;return _=jo(s,_),Ho(s,m),l=bh(r,s,l,h,_,m),h=Nh(),r!==null&&!Ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Ti(r,s,m)):(xt&&h&&ph(s),s.flags|=1,An(r,s,l,m),s.child)}function $y(r,s,l,h,m){if(Mn(l)){var _=!0;Cu(s)}else _=!1;if(Ho(s,m),s.stateNode===null)Hu(r,s),by(s,l,h),jh(s,l,h,m),h=!0;else if(r===null){var S=s.stateNode,j=s.memoizedProps;S.props=j;var z=S.context,J=l.contextType;typeof J=="object"&&J!==null?J=rr(J):(J=Mn(l)?Fs:pn.current,J=jo(s,J));var ae=l.getDerivedStateFromProps,le=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function";le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==h||z!==J)&&Ny(s,S,h,J),es=!1;var oe=s.memoizedState;S.state=oe,Mu(s,h,S,m),z=s.memoizedState,j!==h||oe!==z||Vn.current||es?(typeof ae=="function"&&(Oh(s,l,ae,h),z=s.memoizedState),(j=es||ky(s,l,j,h,oe,z,J))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=z),S.props=h,S.state=z,S.context=J,h=j):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{S=s.stateNode,sy(r,s),j=s.memoizedProps,J=s.type===s.elementType?j:Ar(s.type,j),S.props=J,le=s.pendingProps,oe=S.context,z=l.contextType,typeof z=="object"&&z!==null?z=rr(z):(z=Mn(l)?Fs:pn.current,z=jo(s,z));var ve=l.getDerivedStateFromProps;(ae=typeof ve=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==le||oe!==z)&&Ny(s,S,h,z),es=!1,oe=s.memoizedState,S.state=oe,Mu(s,h,S,m);var Se=s.memoizedState;j!==le||oe!==Se||Vn.current||es?(typeof ve=="function"&&(Oh(s,l,ve,h),Se=s.memoizedState),(J=es||ky(s,l,J,h,oe,Se,z)||!1)?(ae||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Se,z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Se,z)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Se),S.props=h,S.state=Se,S.context=z,h=J):(typeof S.componentDidUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),h=!1)}return zh(r,s,l,h,_,m)}function zh(r,s,l,h,m,_){zy(r,s);var S=(s.flags&128)!==0;if(!h&&!S)return m&&Gg(s,l,!1),Ti(r,s,_);h=s.stateNode,XT.current=s;var j=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&S?(s.child=zo(s,r.child,null,_),s.child=zo(s,null,j,_)):An(r,s,j,_),s.memoizedState=h.state,m&&Gg(s,l,!0),s.child}function Hy(r){var s=r.stateNode;s.pendingContext?qg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&qg(r,s.context,!1),Ph(r,s.containerInfo)}function Wy(r,s,l,h,m){return Uo(),vh(m),s.flags|=256,An(r,s,l,h),s.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function qy(r,s,l){var h=s.pendingProps,m=St.current,_=!1,S=(s.flags&128)!==0,j;if((j=S)||(j=r!==null&&r.memoizedState===null?!1:(m&2)!==0),j?(_=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),pt(St,m&1),r===null)return yh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(S=h.children,r=h.fallback,_?(h=s.mode,_=s.child,S={mode:"hidden",children:S},!(h&1)&&_!==null?(_.childLanes=0,_.pendingProps=S):_=nc(S,h,0,null),r=Qs(r,h,l,null),_.return=s,r.return=s,_.sibling=r,s.child=_,s.child.memoizedState=Hh(l),s.memoizedState=$h,r):Wh(s,S));if(m=r.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return JT(r,s,S,h,j,m,l);if(_){_=h.fallback,S=s.mode,m=r.child,j=m.sibling;var z={mode:"hidden",children:h.children};return!(S&1)&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=z,s.deletions=null):(h=as(m,z),h.subtreeFlags=m.subtreeFlags&14680064),j!==null?_=as(j,_):(_=Qs(_,S,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,S=r.child.memoizedState,S=S===null?Hh(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=r.childLanes&~l,s.memoizedState=$h,h}return _=r.child,r=_.sibling,h=as(_,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Wh(r,s){return s=nc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function $u(r,s,l,h){return h!==null&&vh(h),zo(s,r.child,null,l),r=Wh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function JT(r,s,l,h,m,_,S){if(l)return s.flags&256?(s.flags&=-257,h=Fh(Error(n(422))),$u(r,s,S,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(_=h.fallback,m=s.mode,h=nc({mode:"visible",children:h.children},m,0,null),_=Qs(_,m,S,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,s.mode&1&&zo(s,r.child,null,S),s.child.memoizedState=Hh(S),s.memoizedState=$h,_);if(!(s.mode&1))return $u(r,s,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var j=h.dgst;return h=j,_=Error(n(419)),h=Fh(_,h,void 0),$u(r,s,S,h)}if(j=(S&r.childLanes)!==0,Ln||j){if(h=Gt,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|S)?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Ei(r,m),kr(h,r,m,-1))}return lf(),h=Fh(Error(n(421))),$u(r,s,S,h)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=dS.bind(null,r),m._reactRetry=s,null):(r=_.treeContext,Kn=Yi(m.nextSibling),qn=s,xt=!0,Cr=null,r!==null&&(tr[nr++]=_i,tr[nr++]=wi,tr[nr++]=Bs,_i=r.id,wi=r.overflow,Bs=s),s=Wh(s,h.children),s.flags|=4096,s)}function Ky(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),xh(r.return,s,l)}function qh(r,s,l,h,m){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=m)}function Gy(r,s,l){var h=s.pendingProps,m=h.revealOrder,_=h.tail;if(An(r,s,h.children,l),h=St.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ky(r,l,s);else if(r.tag===19)Ky(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(pt(St,h),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&Lu(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),qh(s,!1,m,l,_);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Lu(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}qh(s,!0,l,null,_);break;case"together":qh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ti(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ws|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=as(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=as(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function ZT(r,s,l){switch(s.tag){case 3:Hy(s),Uo();break;case 5:ly(s);break;case 1:Mn(s.type)&&Cu(s);break;case 4:Ph(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;pt(Nu,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(pt(St,St.current&1),s.flags|=128,null):l&s.child.childLanes?qy(r,s,l):(pt(St,St.current&1),r=Ti(r,s,l),r!==null?r.sibling:null);pt(St,St.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return Gy(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),pt(St,St.current),h)break;return null;case 22:case 23:return s.lanes=0,Uy(r,s,l)}return Ti(r,s,l)}var Qy,Kh,Yy,Xy;Qy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kh=function(){},Yy=function(r,s,l,h){var m=r.memoizedProps;if(m!==h){r=s.stateNode,$s(Qr.current);var _=null;switch(l){case"input":m=oi(r,m),h=oi(r,h),_=[];break;case"select":m=de({},m,{value:void 0}),h=de({},h,{value:void 0}),_=[];break;case"textarea":m=fr(r,m),h=fr(r,h),_=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Tu)}Ur(l,h);var S;l=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var j=m[J];for(S in j)j.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?_||(_=[]):(_=_||[]).push(J,null));for(J in h){var z=h[J];if(j=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&z!==j&&(z!=null||j!=null))if(J==="style")if(j){for(S in j)!j.hasOwnProperty(S)||z&&z.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in z)z.hasOwnProperty(S)&&j[S]!==z[S]&&(l||(l={}),l[S]=z[S])}else l||(_||(_=[]),_.push(J,l)),l=z;else J==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,j=j?j.__html:void 0,z!=null&&j!==z&&(_=_||[]).push(J,z)):J==="children"?typeof z!="string"&&typeof z!="number"||(_=_||[]).push(J,""+z):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(z!=null&&J==="onScroll"&&yt("scroll",r),_||j===z||(_=[])):(_=_||[]).push(J,z))}l&&(_=_||[]).push("style",l);var J=_;(s.updateQueue=J)&&(s.flags|=4)}},Xy=function(r,s,l,h){l!==h&&(s.flags|=4)};function Za(r,s){if(!xt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function gn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function eS(r,s,l){var h=s.pendingProps;switch(mh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(s),null;case 1:return Mn(s.type)&&Pu(),gn(s),null;case 3:return h=s.stateNode,Wo(),vt(Vn),vt(pn),Ih(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ku(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Cr!==null&&(sf(Cr),Cr=null))),Kh(r,s),gn(s),null;case 5:Ch(s);var m=$s(Ga.current);if(l=s.type,r!==null&&s.stateNode!=null)Yy(r,s,l,h,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return gn(s),null}if(r=$s(Qr.current),ku(s)){h=s.stateNode,l=s.type;var _=s.memoizedProps;switch(h[Gr]=s,h[$a]=_,r=(s.mode&1)!==0,l){case"dialog":yt("cancel",h),yt("close",h);break;case"iframe":case"object":case"embed":yt("load",h);break;case"video":case"audio":for(m=0;m<Ba.length;m++)yt(Ba[m],h);break;case"source":yt("error",h);break;case"img":case"image":case"link":yt("error",h),yt("load",h);break;case"details":yt("toggle",h);break;case"input":Vi(h,_),yt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},yt("invalid",h);break;case"textarea":ai(h,_),yt("invalid",h)}Ur(l,_),m=null;for(var S in _)if(_.hasOwnProperty(S)){var j=_[S];S==="children"?typeof j=="string"?h.textContent!==j&&(_.suppressHydrationWarning!==!0&&xu(h.textContent,j,r),m=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&xu(h.textContent,j,r),m=["children",""+j]):o.hasOwnProperty(S)&&j!=null&&S==="onScroll"&&yt("scroll",h)}switch(l){case"input":Wt(h),go(h,_,!0);break;case"textarea":Wt(h),Rn(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Tu)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=dt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=S.createElement(l,{is:h.is}):(r=S.createElement(l),l==="select"&&(S=r,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):r=S.createElementNS(r,l),r[Gr]=s,r[$a]=h,Qy(r,s,!1,!1),s.stateNode=r;e:{switch(S=Fi(l,h),l){case"dialog":yt("cancel",r),yt("close",r),m=h;break;case"iframe":case"object":case"embed":yt("load",r),m=h;break;case"video":case"audio":for(m=0;m<Ba.length;m++)yt(Ba[m],r);m=h;break;case"source":yt("error",r),m=h;break;case"img":case"image":case"link":yt("error",r),yt("load",r),m=h;break;case"details":yt("toggle",r),m=h;break;case"input":Vi(r,h),m=oi(r,h),yt("invalid",r);break;case"option":m=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},m=de({},h,{value:void 0}),yt("invalid",r);break;case"textarea":ai(r,h),m=fr(r,h),yt("invalid",r);break;default:m=h}Ur(l,m),j=m;for(_ in j)if(j.hasOwnProperty(_)){var z=j[_];_==="style"?ks(r,z):_==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Rs(r,z)):_==="children"?typeof z=="string"?(l!=="textarea"||z!=="")&&Jt(r,z):typeof z=="number"&&Jt(r,""+z):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?z!=null&&_==="onScroll"&&yt("scroll",r):z!=null&&U(r,_,z,S))}switch(l){case"input":Wt(r),go(r,h,!1);break;case"textarea":Wt(r),Rn(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ie(h.value));break;case"select":r.multiple=!!h.multiple,_=h.value,_!=null?Xt(r,!!h.multiple,_,!1):h.defaultValue!=null&&Xt(r,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=Tu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return gn(s),null;case 6:if(r&&s.stateNode!=null)Xy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=$s(Ga.current),$s(Qr.current),ku(s)){if(h=s.stateNode,l=s.memoizedProps,h[Gr]=s,(_=h.nodeValue!==l)&&(r=qn,r!==null))switch(r.tag){case 3:xu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&xu(h.nodeValue,l,(r.mode&1)!==0)}_&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Gr]=s,s.stateNode=h}return gn(s),null;case 13:if(vt(St),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(xt&&Kn!==null&&s.mode&1&&!(s.flags&128))ey(),Uo(),s.flags|=98560,_=!1;else if(_=ku(s),h!==null&&h.dehydrated!==null){if(r===null){if(!_)throw Error(n(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Gr]=s}else Uo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;gn(s),_=!1}else Cr!==null&&(sf(Cr),Cr=null),_=!0;if(!_)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||St.current&1?zt===0&&(zt=3):lf())),s.updateQueue!==null&&(s.flags|=4),gn(s),null);case 4:return Wo(),Kh(r,s),r===null&&Ua(s.stateNode.containerInfo),gn(s),null;case 10:return Eh(s.type._context),gn(s),null;case 17:return Mn(s.type)&&Pu(),gn(s),null;case 19:if(vt(St),_=s.memoizedState,_===null)return gn(s),null;if(h=(s.flags&128)!==0,S=_.rendering,S===null)if(h)Za(_,!1);else{if(zt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(S=Lu(r),S!==null){for(s.flags|=128,Za(_,!1),h=S.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)_=l,r=h,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,r=S.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return pt(St,St.current&1|2),s.child}r=r.sibling}_.tail!==null&&ut()>Qo&&(s.flags|=128,h=!0,Za(_,!1),s.lanes=4194304)}else{if(!h)if(r=Lu(S),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Za(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!xt)return gn(s),null}else 2*ut()-_.renderingStartTime>Qo&&l!==1073741824&&(s.flags|=128,h=!0,Za(_,!1),s.lanes=4194304);_.isBackwards?(S.sibling=s.child,s.child=S):(l=_.last,l!==null?l.sibling=S:s.child=S,_.last=S)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=ut(),s.sibling=null,l=St.current,pt(St,h?l&1|2:l&1),s):(gn(s),null);case 22:case 23:return af(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Gn&1073741824&&(gn(s),s.subtreeFlags&6&&(s.flags|=8192)):gn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function tS(r,s){switch(mh(s),s.tag){case 1:return Mn(s.type)&&Pu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Wo(),vt(Vn),vt(pn),Ih(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Ch(s),null;case 13:if(vt(St),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return vt(St),null;case 4:return Wo(),null;case 10:return Eh(s.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var Wu=!1,yn=!1,nS=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ko(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){bt(r,s,h)}else l.current=null}function Gh(r,s,l){try{l()}catch(h){bt(r,s,h)}}var Jy=!1;function rS(r,s){if(oh=Ki,r=kg(),Jd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var S=0,j=-1,z=-1,J=0,ae=0,le=r,oe=null;t:for(;;){for(var ve;le!==l||m!==0&&le.nodeType!==3||(j=S+m),le!==_||h!==0&&le.nodeType!==3||(z=S+h),le.nodeType===3&&(S+=le.nodeValue.length),(ve=le.firstChild)!==null;)oe=le,le=ve;for(;;){if(le===r)break t;if(oe===l&&++J===m&&(j=S),oe===_&&++ae===h&&(z=S),(ve=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=ve}l=j===-1||z===-1?null:{start:j,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(ah={focusedElem:r,selectionRange:l},Ki=!1,Ee=s;Ee!==null;)if(s=Ee,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ee=r;else for(;Ee!==null;){s=Ee;try{var Se=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,Dt=Se.memoizedState,Q=s.stateNode,H=Q.getSnapshotBeforeUpdate(s.elementType===s.type?Ce:Ar(s.type,Ce),Dt);Q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var X=s.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){bt(s,s.return,ce)}if(r=s.sibling,r!==null){r.return=s.return,Ee=r;break}Ee=s.return}return Se=Jy,Jy=!1,Se}function el(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&r)===r){var _=m.destroy;m.destroy=void 0,_!==void 0&&Gh(s,l,_)}m=m.next}while(m!==h)}}function qu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Qh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Zy(r){var s=r.alternate;s!==null&&(r.alternate=null,Zy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Gr],delete s[$a],delete s[dh],delete s[FT],delete s[BT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ev(r){return r.tag===5||r.tag===3||r.tag===4}function tv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ev(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yh(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Tu));else if(h!==4&&(r=r.child,r!==null))for(Yh(r,s,l),r=r.sibling;r!==null;)Yh(r,s,l),r=r.sibling}function Xh(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Xh(r,s,l),r=r.sibling;r!==null;)Xh(r,s,l),r=r.sibling}var rn=null,Ir=!1;function ns(r,s,l){for(l=l.child;l!==null;)nv(r,s,l),l=l.sibling}function nv(r,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(bn,l)}catch{}switch(l.tag){case 5:yn||Ko(l,s);case 6:var h=rn,m=Ir;rn=null,ns(r,s,l),rn=h,Ir=m,rn!==null&&(Ir?(r=rn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):rn.removeChild(l.stateNode));break;case 18:rn!==null&&(Ir?(r=rn,l=l.stateNode,r.nodeType===8?ch(r.parentNode,l):r.nodeType===1&&ch(r,l),Tr(r)):ch(rn,l.stateNode));break;case 4:h=rn,m=Ir,rn=l.stateNode.containerInfo,Ir=!0,ns(r,s,l),rn=h,Ir=m;break;case 0:case 11:case 14:case 15:if(!yn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var _=m,S=_.destroy;_=_.tag,S!==void 0&&(_&2||_&4)&&Gh(l,s,S),m=m.next}while(m!==h)}ns(r,s,l);break;case 1:if(!yn&&(Ko(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(j){bt(l,s,j)}ns(r,s,l);break;case 21:ns(r,s,l);break;case 22:l.mode&1?(yn=(h=yn)||l.memoizedState!==null,ns(r,s,l),yn=h):ns(r,s,l);break;default:ns(r,s,l)}}function rv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new nS),s.forEach(function(h){var m=hS.bind(null,r,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Rr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var _=r,S=s,j=S;e:for(;j!==null;){switch(j.tag){case 5:rn=j.stateNode,Ir=!1;break e;case 3:rn=j.stateNode.containerInfo,Ir=!0;break e;case 4:rn=j.stateNode.containerInfo,Ir=!0;break e}j=j.return}if(rn===null)throw Error(n(160));nv(_,S,m),rn=null,Ir=!1;var z=m.alternate;z!==null&&(z.return=null),m.return=null}catch(J){bt(m,s,J)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)iv(s,r),s=s.sibling}function iv(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rr(s,r),Xr(r),h&4){try{el(3,r,r.return),qu(3,r)}catch(Ce){bt(r,r.return,Ce)}try{el(5,r,r.return)}catch(Ce){bt(r,r.return,Ce)}}break;case 1:Rr(s,r),Xr(r),h&512&&l!==null&&Ko(l,l.return);break;case 5:if(Rr(s,r),Xr(r),h&512&&l!==null&&Ko(l,l.return),r.flags&32){var m=r.stateNode;try{Jt(m,"")}catch(Ce){bt(r,r.return,Ce)}}if(h&4&&(m=r.stateNode,m!=null)){var _=r.memoizedProps,S=l!==null?l.memoizedProps:_,j=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&Mi(m,_),Fi(j,S);var J=Fi(j,_);for(S=0;S<z.length;S+=2){var ae=z[S],le=z[S+1];ae==="style"?ks(m,le):ae==="dangerouslySetInnerHTML"?Rs(m,le):ae==="children"?Jt(m,le):U(m,ae,le,J)}switch(j){case"input":Is(m,_);break;case"textarea":jr(m,_);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var ve=_.value;ve!=null?Xt(m,!!_.multiple,ve,!1):oe!==!!_.multiple&&(_.defaultValue!=null?Xt(m,!!_.multiple,_.defaultValue,!0):Xt(m,!!_.multiple,_.multiple?[]:"",!1))}m[$a]=_}catch(Ce){bt(r,r.return,Ce)}}break;case 6:if(Rr(s,r),Xr(r),h&4){if(r.stateNode===null)throw Error(n(162));m=r.stateNode,_=r.memoizedProps;try{m.nodeValue=_}catch(Ce){bt(r,r.return,Ce)}}break;case 3:if(Rr(s,r),Xr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Tr(s.containerInfo)}catch(Ce){bt(r,r.return,Ce)}break;case 4:Rr(s,r),Xr(r);break;case 13:Rr(s,r),Xr(r),m=r.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(ef=ut())),h&4&&rv(r);break;case 22:if(ae=l!==null&&l.memoizedState!==null,r.mode&1?(yn=(J=yn)||ae,Rr(s,r),yn=J):Rr(s,r),Xr(r),h&8192){if(J=r.memoizedState!==null,(r.stateNode.isHidden=J)&&!ae&&r.mode&1)for(Ee=r,ae=r.child;ae!==null;){for(le=Ee=ae;Ee!==null;){switch(oe=Ee,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:el(4,oe,oe.return);break;case 1:Ko(oe,oe.return);var Se=oe.stateNode;if(typeof Se.componentWillUnmount=="function"){h=oe,l=oe.return;try{s=h,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(Ce){bt(h,l,Ce)}}break;case 5:Ko(oe,oe.return);break;case 22:if(oe.memoizedState!==null){av(le);continue}}ve!==null?(ve.return=oe,Ee=ve):av(le)}ae=ae.sibling}e:for(ae=null,le=r;;){if(le.tag===5){if(ae===null){ae=le;try{m=le.stateNode,J?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=le.stateNode,z=le.memoizedProps.style,S=z!=null&&z.hasOwnProperty("display")?z.display:null,j.style.display=Oi("display",S))}catch(Ce){bt(r,r.return,Ce)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(Ce){bt(r,r.return,Ce)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Rr(s,r),Xr(r),h&4&&rv(r);break;case 21:break;default:Rr(s,r),Xr(r)}}function Xr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(ev(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Jt(m,""),h.flags&=-33);var _=tv(r);Xh(r,_,m);break;case 3:case 4:var S=h.stateNode.containerInfo,j=tv(r);Yh(r,j,S);break;default:throw Error(n(161))}}catch(z){bt(r,r.return,z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function iS(r,s,l){Ee=r,sv(r)}function sv(r,s,l){for(var h=(r.mode&1)!==0;Ee!==null;){var m=Ee,_=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Wu;if(!S){var j=m.alternate,z=j!==null&&j.memoizedState!==null||yn;j=Wu;var J=yn;if(Wu=S,(yn=z)&&!J)for(Ee=m;Ee!==null;)S=Ee,z=S.child,S.tag===22&&S.memoizedState!==null?lv(m):z!==null?(z.return=S,Ee=z):lv(m);for(;_!==null;)Ee=_,sv(_),_=_.sibling;Ee=m,Wu=j,yn=J}ov(r)}else m.subtreeFlags&8772&&_!==null?(_.return=m,Ee=_):ov(r)}}function ov(r){for(;Ee!==null;){var s=Ee;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:yn||qu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!yn)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:Ar(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&ay(s,_,h);break;case 3:var S=s.updateQueue;if(S!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ay(s,S,l)}break;case 5:var j=s.stateNode;if(l===null&&s.flags&4){l=j;var z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&l.focus();break;case"img":z.src&&(l.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var J=s.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Tr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||s.flags&512&&Qh(s)}catch(oe){bt(s,s.return,oe)}}if(s===r){Ee=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ee=l;break}Ee=s.return}}function av(r){for(;Ee!==null;){var s=Ee;if(s===r){Ee=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ee=l;break}Ee=s.return}}function lv(r){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{qu(4,s)}catch(z){bt(s,l,z)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(z){bt(s,m,z)}}var _=s.return;try{Qh(s)}catch(z){bt(s,_,z)}break;case 5:var S=s.return;try{Qh(s)}catch(z){bt(s,S,z)}}}catch(z){bt(s,s.return,z)}if(s===r){Ee=null;break}var j=s.sibling;if(j!==null){j.return=s.return,Ee=j;break}Ee=s.return}}var sS=Math.ceil,Ku=Y.ReactCurrentDispatcher,Jh=Y.ReactCurrentOwner,sr=Y.ReactCurrentBatchConfig,st=0,Gt=null,Ot=null,sn=0,Gn=0,Go=Xi(0),zt=0,tl=null,Ws=0,Gu=0,Zh=0,nl=null,On=null,ef=0,Qo=1/0,Si=null,Qu=!1,tf=null,rs=null,Yu=!1,is=null,Xu=0,rl=0,nf=null,Ju=-1,Zu=0;function In(){return st&6?ut():Ju!==-1?Ju:Ju=ut()}function ss(r){return r.mode&1?st&2&&sn!==0?sn&-sn:zT.transition!==null?(Zu===0&&(Zu=Ds()),Zu):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:ba(r.type)),r):1}function kr(r,s,l,h){if(50<rl)throw rl=0,nf=null,Error(n(185));$i(r,l,h),(!(st&2)||r!==Gt)&&(r===Gt&&(!(st&2)&&(Gu|=l),zt===4&&os(r,sn)),jn(r,h),l===1&&st===0&&!(s.mode&1)&&(Qo=ut()+500,Au&&Zi()))}function jn(r,s){var l=r.callbackNode;hi(r,s);var h=Ns(r,r===Gt?sn:0);if(h===0)l!==null&&ci(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ci(l),s===1)r.tag===0?UT(cv.bind(null,r)):Qg(cv.bind(null,r)),OT(function(){!(st&6)&&Zi()}),l=null;else{switch(Wi(h)){case 1:l=Ze;break;case 4:l=mt;break;case 16:l=en;break;case 536870912:l=gt;break;default:l=en}l=vv(l,uv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function uv(r,s){if(Ju=-1,Zu=0,st&6)throw Error(n(327));var l=r.callbackNode;if(Yo()&&r.callbackNode!==l)return null;var h=Ns(r,r===Gt?sn:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=ec(r,h);else{s=h;var m=st;st|=2;var _=hv();(Gt!==r||sn!==s)&&(Si=null,Qo=ut()+500,Ks(r,s));do try{lS();break}catch(j){dv(r,j)}while(!0);wh(),Ku.current=_,st=m,Ot!==null?s=0:(Gt=null,sn=0,s=zt)}if(s!==0){if(s===2&&(m=$n(r),m!==0&&(h=m,s=rf(r,m))),s===1)throw l=tl,Ks(r,0),os(r,h),jn(r,ut()),l;if(s===6)os(r,h);else{if(m=r.current.alternate,!(h&30)&&!oS(m)&&(s=ec(r,h),s===2&&(_=$n(r),_!==0&&(h=_,s=rf(r,_))),s===1))throw l=tl,Ks(r,0),os(r,h),jn(r,ut()),l;switch(r.finishedWork=m,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Gs(r,On,Si);break;case 3:if(os(r,h),(h&130023424)===h&&(s=ef+500-ut(),10<s)){if(Ns(r,0)!==0)break;if(m=r.suspendedLanes,(m&h)!==h){In(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=uh(Gs.bind(null,r,On,Si),s);break}Gs(r,On,Si);break;case 4:if(os(r,h),(h&4194240)===h)break;for(s=r.eventTimes,m=-1;0<h;){var S=31-Pn(h);_=1<<S,S=s[S],S>m&&(m=S),h&=~_}if(h=m,h=ut()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*sS(h/1960))-h,10<h){r.timeoutHandle=uh(Gs.bind(null,r,On,Si),h);break}Gs(r,On,Si);break;case 5:Gs(r,On,Si);break;default:throw Error(n(329))}}}return jn(r,ut()),r.callbackNode===l?uv.bind(null,r):null}function rf(r,s){var l=nl;return r.current.memoizedState.isDehydrated&&(Ks(r,s).flags|=256),r=ec(r,s),r!==2&&(s=On,On=l,s!==null&&sf(s)),r}function sf(r){On===null?On=r:On.push.apply(On,r)}function oS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],_=m.getSnapshot;m=m.value;try{if(!Pr(_(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(r,s){for(s&=~Zh,s&=~Gu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Pn(s),h=1<<l;r[l]=-1,s&=~h}}function cv(r){if(st&6)throw Error(n(327));Yo();var s=Ns(r,0);if(!(s&1))return jn(r,ut()),null;var l=ec(r,s);if(r.tag!==0&&l===2){var h=$n(r);h!==0&&(s=h,l=rf(r,h))}if(l===1)throw l=tl,Ks(r,0),os(r,s),jn(r,ut()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Gs(r,On,Si),jn(r,ut()),null}function of(r,s){var l=st;st|=1;try{return r(s)}finally{st=l,st===0&&(Qo=ut()+500,Au&&Zi())}}function qs(r){is!==null&&is.tag===0&&!(st&6)&&Yo();var s=st;st|=1;var l=sr.transition,h=Ye;try{if(sr.transition=null,Ye=1,r)return r()}finally{Ye=h,sr.transition=l,st=s,!(st&6)&&Zi()}}function af(){Gn=Go.current,vt(Go)}function Ks(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,LT(l)),Ot!==null)for(l=Ot.return;l!==null;){var h=l;switch(mh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pu();break;case 3:Wo(),vt(Vn),vt(pn),Ih();break;case 5:Ch(h);break;case 4:Wo();break;case 13:vt(St);break;case 19:vt(St);break;case 10:Eh(h.type._context);break;case 22:case 23:af()}l=l.return}if(Gt=r,Ot=r=as(r.current,null),sn=Gn=s,zt=0,tl=null,Zh=Gu=Ws=0,On=nl=null,zs!==null){for(s=0;s<zs.length;s++)if(l=zs[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,_=l.pending;if(_!==null){var S=_.next;_.next=m,h.next=S}l.pending=h}zs=null}return r}function dv(r,s){do{var l=Ot;try{if(wh(),Ou.current=Uu,ju){for(var h=Pt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}ju=!1}if(Hs=0,Kt=Ut=Pt=null,Qa=!1,Ya=0,Jh.current=null,l===null||l.return===null){zt=1,tl=s,Ot=null;break}e:{var _=r,S=l.return,j=l,z=s;if(s=sn,j.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var J=z,ae=j,le=ae.tag;if(!(ae.mode&1)&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ve=Ly(S);if(ve!==null){ve.flags&=-257,Oy(ve,S,j,_,s),ve.mode&1&&My(_,J,s),s=ve,z=J;var Se=s.updateQueue;if(Se===null){var Ce=new Set;Ce.add(z),s.updateQueue=Ce}else Se.add(z);break e}else{if(!(s&1)){My(_,J,s),lf();break e}z=Error(n(426))}}else if(xt&&j.mode&1){var Dt=Ly(S);if(Dt!==null){!(Dt.flags&65536)&&(Dt.flags|=256),Oy(Dt,S,j,_,s),vh(qo(z,j));break e}}_=z=qo(z,j),zt!==4&&(zt=2),nl===null?nl=[_]:nl.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var Q=Dy(_,z,s);oy(_,Q);break e;case 1:j=z;var H=_.type,X=_.stateNode;if(!(_.flags&128)&&(typeof H.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(rs===null||!rs.has(X)))){_.flags|=65536,s&=-s,_.lanes|=s;var ce=Vy(_,j,s);oy(_,ce);break e}}_=_.return}while(_!==null)}pv(l)}catch(Ae){s=Ae,Ot===l&&l!==null&&(Ot=l=l.return);continue}break}while(!0)}function hv(){var r=Ku.current;return Ku.current=Uu,r===null?Uu:r}function lf(){(zt===0||zt===3||zt===2)&&(zt=4),Gt===null||!(Ws&268435455)&&!(Gu&268435455)||os(Gt,sn)}function ec(r,s){var l=st;st|=2;var h=hv();(Gt!==r||sn!==s)&&(Si=null,Ks(r,s));do try{aS();break}catch(m){dv(r,m)}while(!0);if(wh(),st=l,Ku.current=h,Ot!==null)throw Error(n(261));return Gt=null,sn=0,zt}function aS(){for(;Ot!==null;)fv(Ot)}function lS(){for(;Ot!==null&&!zr();)fv(Ot)}function fv(r){var s=yv(r.alternate,r,Gn);r.memoizedProps=r.pendingProps,s===null?pv(r):Ot=s,Jh.current=null}function pv(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=tS(l,s),l!==null){l.flags&=32767,Ot=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{zt=6,Ot=null;return}}else if(l=eS(l,s,Gn),l!==null){Ot=l;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=r}while(s!==null);zt===0&&(zt=5)}function Gs(r,s,l){var h=Ye,m=sr.transition;try{sr.transition=null,Ye=1,uS(r,s,l,h)}finally{sr.transition=m,Ye=h}return null}function uS(r,s,l,h){do Yo();while(is!==null);if(st&6)throw Error(n(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var _=l.lanes|l.childLanes;if(ft(r,_),r===Gt&&(Ot=Gt=null,sn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Yu||(Yu=!0,vv(en,function(){return Yo(),null})),_=(l.flags&15990)!==0,l.subtreeFlags&15990||_){_=sr.transition,sr.transition=null;var S=Ye;Ye=1;var j=st;st|=4,Jh.current=null,rS(r,l),iv(l,r),RT(ah),Ki=!!oh,ah=oh=null,r.current=l,iS(l),vr(),st=j,Ye=S,sr.transition=_}else r.current=l;if(Yu&&(Yu=!1,is=r,Xu=m),_=r.pendingLanes,_===0&&(rs=null),yo(l.stateNode),jn(r,ut()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Qu)throw Qu=!1,r=tf,tf=null,r;return Xu&1&&r.tag!==0&&Yo(),_=r.pendingLanes,_&1?r===nf?rl++:(rl=0,nf=r):rl=0,Zi(),null}function Yo(){if(is!==null){var r=Wi(Xu),s=sr.transition,l=Ye;try{if(sr.transition=null,Ye=16>r?16:r,is===null)var h=!1;else{if(r=is,is=null,Xu=0,st&6)throw Error(n(331));var m=st;for(st|=4,Ee=r.current;Ee!==null;){var _=Ee,S=_.child;if(Ee.flags&16){var j=_.deletions;if(j!==null){for(var z=0;z<j.length;z++){var J=j[z];for(Ee=J;Ee!==null;){var ae=Ee;switch(ae.tag){case 0:case 11:case 15:el(8,ae,_)}var le=ae.child;if(le!==null)le.return=ae,Ee=le;else for(;Ee!==null;){ae=Ee;var oe=ae.sibling,ve=ae.return;if(Zy(ae),ae===J){Ee=null;break}if(oe!==null){oe.return=ve,Ee=oe;break}Ee=ve}}}var Se=_.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var Dt=Ce.sibling;Ce.sibling=null,Ce=Dt}while(Ce!==null)}}Ee=_}}if(_.subtreeFlags&2064&&S!==null)S.return=_,Ee=S;else e:for(;Ee!==null;){if(_=Ee,_.flags&2048)switch(_.tag){case 0:case 11:case 15:el(9,_,_.return)}var Q=_.sibling;if(Q!==null){Q.return=_.return,Ee=Q;break e}Ee=_.return}}var H=r.current;for(Ee=H;Ee!==null;){S=Ee;var X=S.child;if(S.subtreeFlags&2064&&X!==null)X.return=S,Ee=X;else e:for(S=H;Ee!==null;){if(j=Ee,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:qu(9,j)}}catch(Ae){bt(j,j.return,Ae)}if(j===S){Ee=null;break e}var ce=j.sibling;if(ce!==null){ce.return=j.return,Ee=ce;break e}Ee=j.return}}if(st=m,Zi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(bn,r)}catch{}h=!0}return h}finally{Ye=l,sr.transition=s}}return!1}function mv(r,s,l){s=qo(l,s),s=Dy(r,s,1),r=ts(r,s,1),s=In(),r!==null&&($i(r,1,s),jn(r,s))}function bt(r,s,l){if(r.tag===3)mv(r,r,l);else for(;s!==null;){if(s.tag===3){mv(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(rs===null||!rs.has(h))){r=qo(l,r),r=Vy(s,r,1),s=ts(s,r,1),r=In(),s!==null&&($i(s,1,r),jn(s,r));break}}s=s.return}}function cS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=In(),r.pingedLanes|=r.suspendedLanes&l,Gt===r&&(sn&l)===l&&(zt===4||zt===3&&(sn&130023424)===sn&&500>ut()-ef?Ks(r,0):Zh|=l),jn(r,s)}function gv(r,s){s===0&&(r.mode&1?(s=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):s=1);var l=In();r=Ei(r,s),r!==null&&($i(r,s,l),jn(r,l))}function dS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),gv(r,l)}function hS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),gv(r,l)}var yv;yv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Vn.current)Ln=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return Ln=!1,ZT(r,s,l);Ln=!!(r.flags&131072)}else Ln=!1,xt&&s.flags&1048576&&Yg(s,Ru,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Hu(r,s),r=s.pendingProps;var m=jo(s,pn.current);Ho(s,l),m=bh(null,s,h,r,m,l);var _=Nh();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mn(h)?(_=!0,Cu(s)):_=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Sh(s),m.updater=zu,s.stateNode=m,m._reactInternals=s,jh(s,h,r,l),s=zh(null,s,h,!0,_,l)):(s.tag=0,xt&&_&&ph(s),An(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Hu(r,s),r=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=pS(h),r=Ar(h,r),m){case 0:s=Uh(null,s,h,r,l);break e;case 1:s=$y(null,s,h,r,l);break e;case 11:s=jy(null,s,h,r,l);break e;case 14:s=Fy(null,s,h,Ar(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Ar(h,m),Uh(r,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Ar(h,m),$y(r,s,h,m,l);case 3:e:{if(Hy(s),r===null)throw Error(n(387));h=s.pendingProps,_=s.memoizedState,m=_.element,sy(r,s),Mu(s,h,null,l);var S=s.memoizedState;if(h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){m=qo(Error(n(423)),s),s=Wy(r,s,h,l,m);break e}else if(h!==m){m=qo(Error(n(424)),s),s=Wy(r,s,h,l,m);break e}else for(Kn=Yi(s.stateNode.containerInfo.firstChild),qn=s,xt=!0,Cr=null,l=ry(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Uo(),h===m){s=Ti(r,s,l);break e}An(r,s,h,l)}s=s.child}return s;case 5:return ly(s),r===null&&yh(s),h=s.type,m=s.pendingProps,_=r!==null?r.memoizedProps:null,S=m.children,lh(h,m)?S=null:_!==null&&lh(h,_)&&(s.flags|=32),zy(r,s),An(r,s,S,l),s.child;case 6:return r===null&&yh(s),null;case 13:return qy(r,s,l);case 4:return Ph(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=zo(s,null,h,l):An(r,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Ar(h,m),jy(r,s,h,m,l);case 7:return An(r,s,s.pendingProps,l),s.child;case 8:return An(r,s,s.pendingProps.children,l),s.child;case 12:return An(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,_=s.memoizedProps,S=m.value,pt(Nu,h._currentValue),h._currentValue=S,_!==null)if(Pr(_.value,S)){if(_.children===m.children&&!Vn.current){s=Ti(r,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var j=_.dependencies;if(j!==null){S=_.child;for(var z=j.firstContext;z!==null;){if(z.context===h){if(_.tag===1){z=xi(-1,l&-l),z.tag=2;var J=_.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?z.next=z:(z.next=ae.next,ae.next=z),J.pending=z}}_.lanes|=l,z=_.alternate,z!==null&&(z.lanes|=l),xh(_.return,l,s),j.lanes|=l;break}z=z.next}}else if(_.tag===10)S=_.type===s.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(n(341));S.lanes|=l,j=S.alternate,j!==null&&(j.lanes|=l),xh(S,l,s),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===s){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}An(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,Ho(s,l),m=rr(m),h=h(m),s.flags|=1,An(r,s,h,l),s.child;case 14:return h=s.type,m=Ar(h,s.pendingProps),m=Ar(h.type,m),Fy(r,s,h,m,l);case 15:return By(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Ar(h,m),Hu(r,s),s.tag=1,Mn(h)?(r=!0,Cu(s)):r=!1,Ho(s,l),by(s,h,m),jh(s,h,m,l),zh(null,s,h,!0,r,l);case 19:return Gy(r,s,l);case 22:return Uy(r,s,l)}throw Error(n(156,s.tag))};function vv(r,s){return Zt(r,s)}function fS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(r,s,l,h){return new fS(r,s,l,h)}function uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pS(r){if(typeof r=="function")return uf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===Ne)return 14}return 2}function as(r,s){var l=r.alternate;return l===null?(l=or(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function tc(r,s,l,h,m,_){var S=2;if(h=r,typeof r=="function")uf(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case k:return Qs(l.children,m,_,s);case C:S=8,m|=8;break;case R:return r=or(12,l,s,m|2),r.elementType=R,r.lanes=_,r;case D:return r=or(13,l,s,m),r.elementType=D,r.lanes=_,r;case ue:return r=or(19,l,s,m),r.elementType=ue,r.lanes=_,r;case Pe:return nc(l,m,_,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:S=10;break e;case O:S=9;break e;case V:S=11;break e;case Ne:S=14;break e;case Ge:S=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=or(S,l,s,m),s.elementType=r,s.type=h,s.lanes=_,s}function Qs(r,s,l,h){return r=or(7,r,h,s),r.lanes=l,r}function nc(r,s,l,h){return r=or(22,r,h,s),r.elementType=Pe,r.lanes=l,r.stateNode={isHidden:!1},r}function cf(r,s,l){return r=or(6,r,null,s),r.lanes=l,r}function df(r,s,l){return s=or(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function mS(r,s,l,h,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function hf(r,s,l,h,m,_,S,j,z){return r=new mS(r,s,l,j,z),s===1?(s=1,_===!0&&(s|=8)):s=0,_=or(3,null,null,s),r.current=_,_.stateNode=r,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(_),r}function gS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function _v(r){if(!r)return Ji;r=r._reactInternals;e:{if(Qe(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Mn(l))return Kg(r,l,s)}return s}function wv(r,s,l,h,m,_,S,j,z){return r=hf(l,h,!0,r,m,_,S,j,z),r.context=_v(null),l=r.current,h=In(),m=ss(l),_=xi(h,m),_.callback=s??null,ts(l,_,m),r.current.lanes=m,$i(r,m,h),jn(r,h),r}function rc(r,s,l,h){var m=s.current,_=In(),S=ss(m);return l=_v(l),s.context===null?s.context=l:s.pendingContext=l,s=xi(_,S),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ts(m,s,S),r!==null&&(kr(r,m,S,_),Vu(r,m,S)),S}function ic(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ev(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ff(r,s){Ev(r,s),(r=r.alternate)&&Ev(r,s)}var xv=typeof reportError=="function"?reportError:function(r){console.error(r)};function pf(r){this._internalRoot=r}sc.prototype.render=pf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));rc(r,s,null,null)},sc.prototype.unmount=pf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;qs(function(){rc(null,r,null,null)}),s[yi]=null}};function sc(r){this._internalRoot=r}sc.prototype.unstable_scheduleHydration=function(r){if(r){var s=su();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Hr.length&&s!==0&&s<Hr[l].priority;l++);Hr.splice(l,0,r),l===0&&lu(r)}};function mf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function oc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function yS(r,s,l,h,m){if(m){if(typeof h=="function"){var _=h;h=function(){var J=ic(S);_.call(J)}}var S=wv(s,h,r,0,null,!1,!1,"",Tv);return r._reactRootContainer=S,r[yi]=S.current,Ua(r.nodeType===8?r.parentNode:r),qs(),S}for(;m=r.lastChild;)r.removeChild(m);if(typeof h=="function"){var j=h;h=function(){var J=ic(z);j.call(J)}}var z=hf(r,0,!1,null,null,!1,!1,"",Tv);return r._reactRootContainer=z,r[yi]=z.current,Ua(r.nodeType===8?r.parentNode:r),qs(function(){rc(s,z,l,h)}),z}function ac(r,s,l,h,m){var _=l._reactRootContainer;if(_){var S=_;if(typeof m=="function"){var j=m;m=function(){var z=ic(S);j.call(z)}}rc(s,S,r,m)}else S=yS(l,s,r,m,h);return ic(S)}ru=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ui(s.pendingLanes);l!==0&&(Hi(s,l|1),jn(s,ut()),!(st&6)&&(Qo=ut()+500,Zi()))}break;case 13:qs(function(){var h=Ei(r,1);if(h!==null){var m=In();kr(h,r,1,m)}}),ff(r,1)}},wo=function(r){if(r.tag===13){var s=Ei(r,134217728);if(s!==null){var l=In();kr(s,r,134217728,l)}ff(r,134217728)}},iu=function(r){if(r.tag===13){var s=ss(r),l=Ei(r,s);if(l!==null){var h=In();kr(l,r,s,h)}ff(r,s)}},su=function(){return Ye},ou=function(r,s){var l=Ye;try{return Ye=r,s()}finally{Ye=l}},li=function(r,s,l){switch(s){case"input":if(Is(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var m=Su(h);if(!m)throw Error(n(90));Or(h),Is(h,m)}}}break;case"textarea":jr(r,l);break;case"select":s=l.value,s!=null&&Xt(r,!!l.multiple,s,!1)}},ui=of,$=qs;var vS={usingClientEntryPoint:!1,Events:[Ha,Lo,Su,Sn,bs,of]},il={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_S={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=yr(r),r===null?null:r.stateNode},findFiberByHostInstance:il.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{bn=lc.inject(_S),fn=lc}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vS,Fn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(s))throw Error(n(200));return gS(r,s,null,l)},Fn.createRoot=function(r,s){if(!mf(r))throw Error(n(299));var l=!1,h="",m=xv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=hf(r,1,!1,null,null,l,!1,h,m),r[yi]=s.current,Ua(r.nodeType===8?r.parentNode:r),new pf(s)},Fn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=yr(s),r=r===null?null:r.stateNode,r},Fn.flushSync=function(r){return qs(r)},Fn.hydrate=function(r,s,l){if(!oc(s))throw Error(n(200));return ac(null,r,s,!0,l)},Fn.hydrateRoot=function(r,s,l){if(!mf(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,m=!1,_="",S=xv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),s=wv(s,null,r,1,l??null,m,!1,_,S),r[yi]=s.current,Ua(r),h)for(r=0;r<h.length;r++)l=h[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new sc(s)},Fn.render=function(r,s,l){if(!oc(s))throw Error(n(200));return ac(null,r,s,!1,l)},Fn.unmountComponentAtNode=function(r){if(!oc(r))throw Error(n(40));return r._reactRootContainer?(qs(function(){ac(null,null,r,!1,function(){r._reactRootContainer=null,r[yi]=null})}),!0):!1},Fn.unstable_batchedUpdates=of,Fn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!oc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ac(r,s,l,!1,h)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var bv;function _d(){if(bv)return vf.exports;bv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vf.exports=CS(),vf.exports}var Nv;function AS(){if(Nv)return cc;Nv=1;var t=_d();return cc.createRoot=t.createRoot,cc.hydrateRoot=t.hydrateRoot,cc}var IS=AS();const RS=Uw(IS);var ol={},Dv;function kS(){if(Dv)return ol;Dv=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.parse=u,ol.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,x){const P=new a,b=w.length;if(b<2)return P;const I=(x==null?void 0:x.decode)||g;let N=0;do{const F=w.indexOf("=",N);if(F===-1)break;const U=w.indexOf(";",N),Y=U===-1?b:U;if(F>Y){N=w.lastIndexOf(";",F-1)+1;continue}const L=d(w,N,F),K=f(w,F,L),k=w.slice(L,K);if(P[k]===void 0){let C=d(w,F+1,Y),R=f(w,Y,C);const M=I(w.slice(C,R));P[k]=M}N=Y+1}while(N<b);return P}function d(w,x,P){do{const b=w.charCodeAt(x);if(b!==32&&b!==9)return x}while(++x<P);return P}function f(w,x,P){for(;x>P;){const b=w.charCodeAt(--x);if(b!==32&&b!==9)return x+1}return P}function p(w,x,P){const b=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=b(x);if(!e.test(I))throw new TypeError(`argument val is invalid: ${x}`);let N=w+"="+I;if(!P)return N;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);N+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);N+="; Domain="+P.domain}if(P.path){if(!i.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);N+="; Path="+P.path}if(P.expires){if(!y(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);N+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(N+="; HttpOnly"),P.secure&&(N+="; Secure"),P.partitioned&&(N+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return N}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return o.call(w)==="[object Date]"}return ol}kS();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function bS(t={}){function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return Il("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:vs(o)}return DS(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NS(){return Math.random().toString(36).substring(2,10)}function Mv(t,e){return{usr:t.state,key:t.key,idx:e}}function Il(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cs(e):e,state:n,key:e&&e.key||i||NS()}}function vs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function DS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let I=g(),N=I==null?null:I-p;p=I,f&&f({action:d,location:b.location,delta:N})}function w(I,N){d="PUSH";let F=Il(b.location,I,N);p=g()+1;let U=Mv(F,p),Y=b.createHref(F);try{u.pushState(U,"",Y)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(Y)}a&&f&&f({action:d,location:b.location,delta:1})}function x(I,N){d="REPLACE";let F=Il(b.location,I,N);p=g();let U=Mv(F,p),Y=b.createHref(F);u.replaceState(U,"",Y),a&&f&&f({action:d,location:b.location,delta:0})}function P(I){let N=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof I=="string"?I:vs(I);return F=F.replace(/ $/,"%20"),Je(N,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,N)}let b={get action(){return d},get location(){return t(o,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,y),f=I,()=>{o.removeEventListener(Vv,y),f=null}},createHref(I){return e(o,I)},createURL:P,encodeLocation(I){let N=P(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:x,go(I){return u.go(I)}};return b}var VS=new Set(["lazy","caseSensitive","path","id","index","children"]);function MS(t){return t.index===!0}function Qc(t,e,n=[],i={}){return t.map((o,a)=>{let u=[...n,String(a)],d=typeof o.id=="string"?o.id:u.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),MS(o)){let f={...o,...e(o),id:d};return i[d]=f,f}else{let f={...o,...e(o),id:d,children:void 0};return i[d]=f,o.children&&(f.children=Qc(o.children,e,u,i)),f}})}function ds(t,e,n="/"){return Lc(t,e,n,!1)}function Lc(t,e,n,i){let o=typeof e=="string"?Cs(e):e,a=Mr(o.pathname||"/",n);if(a==null)return null;let u=zw(t);OS(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=GS(a);d=qS(u[f],p,i)}return d}function LS(t,e){let{route:n,pathname:i,params:o}=t;return{id:n.id,pathname:i,params:o,data:e[n.id],handle:n.handle}}function zw(t,e=[],n=[],i=""){let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Je(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Zr([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Je(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),zw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:HS(p,a.index),routesMeta:g})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of $w(a.path))o(a,u,f)}),e}function $w(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=$w(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function OS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var jS=/^:[\w-]+$/,FS=3,BS=2,US=1,zS=10,$S=-2,Lv=t=>t==="*";function HS(t,e){let n=t.split("/"),i=n.length;return n.some(Lv)&&(i+=$S),e&&(i+=BS),n.filter(o=>!Lv(o)).reduce((o,a)=>o+(jS.test(a)?FS:a===""?US:zS),i)}function WS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function qS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=Yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),w=f.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=Yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Zr([a,y.pathname]),pathnameBase:XS(Zr([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=Zr([a,y.pathnameBase]))}return u}function Yc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=KS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:y},w)=>{if(g==="*"){let P=d[w]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const x=d[w];return y&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function KS(t,e=!1,n=!0){un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function GS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function QS(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Cs(t):t;return{pathname:n?n.startsWith("/")?n:YS(n,e):e,search:JS(i),hash:ZS(o)}}function YS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ef(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(t){let e=Hw(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Bp(t,e,n,i=!1){let o;typeof t=="string"?o=Cs(t):(o={...t},Je(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;o.pathname=w.join("/")}d=y>=0?e[y]:"/"}let f=QS(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Zr=t=>t.join("/").replace(/\/\/+/g,"/"),XS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xc=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ww=["POST","PUT","PATCH","DELETE"],e2=new Set(Ww),t2=["GET",...Ww],n2=new Set(t2),r2=new Set([301,302,303,307,308]),i2=new Set([307,308]),xf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},s2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},al={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o2=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),qw="remix-router-transitions",Kw=Symbol("ResetLoaderData");function a2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.mapRouteProperties||o2,o={},a=Qc(t.routes,i,void 0,o),u,d=t.basename||"/",f=t.dataStrategy||h2,p=t.patchRoutesOnNavigation,g={...t.future},y=null,w=new Set,x=null,P=null,b=null,I=t.hydrationData!=null,N=ds(a,t.history.location,d),F=null;if(N==null&&!p){let $=ur(404,{pathname:t.history.location.pathname}),{matches:q,route:Z}=Kv(a);N=q,F={[Z.id]:$}}N&&!t.hydrationData&&mr(N,a,t.history.location.pathname).active&&(N=null);let U;if(N)if(N.some($=>$.route.lazy))U=!1;else if(!N.some($=>$.route.loader))U=!0;else{let $=t.hydrationData?t.hydrationData.loaderData:null,q=t.hydrationData?t.hydrationData.errors:null;if(q){let Z=N.findIndex(ne=>q[ne.route.id]!==void 0);U=N.slice(0,Z+1).every(ne=>!Xf(ne.route,$,q))}else U=N.every(Z=>!Xf(Z.route,$,q))}else{U=!1,N=[];let $=mr(null,a,t.history.location.pathname);$.active&&$.matches&&(N=$.matches)}let Y,L={historyAction:t.history.action,location:t.history.location,matches:N,initialized:U,navigation:xf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||F,fetchers:new Map,blockers:new Map},K="POP",k=!1,C,R=!1,M=new Map,O=null,V=!1,D=!1,ue=new Set,Ne=new Map,Ge=0,Pe=-1,se=new Map,me=new Set,de=new Map,W=new Map,te=new Set,ge=new Map,Me,Le=null;function We(){if(y=t.history.listen(({action:$,location:q,delta:Z})=>{if(Me){Me(),Me=void 0;return}un(ge.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Fi({currentLocation:L.location,nextLocation:q,historyAction:$});if(ne&&Z!=null){let pe=new Promise(we=>{Me=we});t.history.go(Z*-1),Ur(ne,{state:"blocked",location:q,proceed(){Ur(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),pe.then(()=>t.history.go(Z))},reset(){let we=new Map(L.blockers);we.set(ne,al),Re({blockers:we})}});return}return dn($,q)}),n){T2(e,M);let $=()=>S2(e,M);e.addEventListener("pagehide",$),O=()=>e.removeEventListener("pagehide",$)}return L.initialized||dn("POP",L.location,{initialHydration:!0}),Y}function $e(){y&&y(),O&&O(),w.clear(),C&&C.abort(),L.fetchers.forEach(($,q)=>Un(q)),L.blockers.forEach(($,q)=>ji(q))}function Ie($){return w.add($),()=>w.delete($)}function Re($,q={}){L={...L,...$};let Z=[],ne=[];L.fetchers.forEach((pe,we)=>{pe.state==="idle"&&(te.has(we)?Z.push(we):ne.push(we))}),te.forEach(pe=>{!L.fetchers.has(pe)&&!Ne.has(pe)&&Z.push(pe)}),[...w].forEach(pe=>pe(L,{deletedFetchers:Z,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),Z.forEach(pe=>Un(pe)),ne.forEach(pe=>L.fetchers.delete(pe))}function rt($,q,{flushSync:Z}={}){var he,je;let ne=L.actionData!=null&&L.navigation.formMethod!=null&&Nr(L.navigation.formMethod)&&L.navigation.state==="loading"&&((he=$.state)==null?void 0:he._isRedirect)!==!0,pe;q.actionData?Object.keys(q.actionData).length>0?pe=q.actionData:pe=null:ne?pe=L.actionData:pe=null;let we=q.loaderData?Wv(L.loaderData,q.loaderData,q.matches||[],q.errors):L.loaderData,be=L.blockers;be.size>0&&(be=new Map(be),be.forEach((He,at)=>be.set(at,al)));let ye=k===!0||L.navigation.formMethod!=null&&Nr(L.navigation.formMethod)&&((je=$.state)==null?void 0:je._isRedirect)!==!0;u&&(a=u,u=void 0),V||K==="POP"||(K==="PUSH"?t.history.push($,$.state):K==="REPLACE"&&t.history.replace($,$.state));let xe;if(K==="POP"){let He=M.get(L.location.pathname);He&&He.has($.pathname)?xe={currentLocation:L.location,nextLocation:$}:M.has($.pathname)&&(xe={currentLocation:$,nextLocation:L.location})}else if(R){let He=M.get(L.location.pathname);He?He.add($.pathname):(He=new Set([$.pathname]),M.set(L.location.pathname,He)),xe={currentLocation:L.location,nextLocation:$}}Re({...q,actionData:pe,loaderData:we,historyAction:K,location:$,initialized:!0,navigation:xf,revalidation:"idle",restoreScrollPosition:zn($,q.matches||L.matches),preventScrollReset:ye,blockers:be},{viewTransitionOpts:xe,flushSync:Z===!0}),K="POP",k=!1,R=!1,V=!1,D=!1,Le==null||Le.resolve(),Le=null}async function Wt($,q){if(typeof $=="number"){t.history.go($);return}let Z=Yf(L.location,L.matches,d,$,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:ne,submission:pe,error:we}=Ov(!1,Z,q),be=L.location,ye=Il(L.location,ne,q&&q.state);ye={...ye,...t.history.encodeLocation(ye)};let xe=q&&q.replace!=null?q.replace:void 0,he="PUSH";xe===!0?he="REPLACE":xe===!1||pe!=null&&Nr(pe.formMethod)&&pe.formAction===L.location.pathname+L.location.search&&(he="REPLACE");let je=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,He=(q&&q.flushSync)===!0,at=Fi({currentLocation:be,nextLocation:ye,historyAction:he});if(at){Ur(at,{state:"blocked",location:ye,proceed(){Ur(at,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Wt($,q)},reset(){let kt=new Map(L.blockers);kt.set(at,al),Re({blockers:kt})}});return}await dn(he,ye,{submission:pe,pendingError:we,preventScrollReset:je,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:He})}function Or(){Le||(Le=P2()),jr(),Re({revalidation:"loading"});let $=Le.promise;return L.navigation.state==="submitting"?$:L.navigation.state==="idle"?(dn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),$):(dn(K||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:R===!0}),$)}async function dn($,q,Z){C&&C.abort(),C=null,K=$,V=(Z&&Z.startUninterruptedRevalidation)===!0,kn(L.location,L.matches),k=(Z&&Z.preventScrollReset)===!0,R=(Z&&Z.enableViewTransition)===!0;let ne=u||a,pe=Z&&Z.overrideNavigation,we=ds(ne,q,d),be=(Z&&Z.flushSync)===!0,ye=mr(we,ne,q.pathname);if(ye.active&&ye.matches&&(we=ye.matches),!we){let{error:Qe,notFoundMatches:it,route:lt}=pr(q.pathname);rt(q,{matches:it,loaderData:{},errors:{[lt.id]:Qe}},{flushSync:be});return}if(L.initialized&&!D&&v2(L.location,q)&&!(Z&&Z.submission&&Nr(Z.submission.formMethod))){rt(q,{matches:we},{flushSync:be});return}C=new AbortController;let xe=Xo(t.history,q,C.signal,Z&&Z.submission),he;if(Z&&Z.pendingError)he=[eo(we).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Nr(Z.submission.formMethod)){let Qe=await oi(xe,q,Z.submission,we,ye.active,{replace:Z.replace,flushSync:be});if(Qe.shortCircuited)return;if(Qe.pendingActionResult){let[it,lt]=Qe.pendingActionResult;if(Qn(lt)&&wd(lt.error)&&lt.error.status===404){C=null,rt(q,{matches:Qe.matches,loaderData:{},errors:{[it]:lt.error}});return}}we=Qe.matches||we,he=Qe.pendingActionResult,pe=Tf(q,Z.submission),be=!1,ye.active=!1,xe=Xo(t.history,xe.url,xe.signal)}let{shortCircuited:je,matches:He,loaderData:at,errors:kt}=await Vi(xe,q,we,ye.active,pe,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,be,he);je||(C=null,rt(q,{matches:He||we,...qv(he),loaderData:at,errors:kt}))}async function oi($,q,Z,ne,pe,we={}){jr();let be=E2(q,Z);if(Re({navigation:be},{flushSync:we.flushSync===!0}),pe){let he=await Sn(ne,q.pathname,$.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let je=eo(he.partialMatches).route.id;return{matches:he.partialMatches,pendingActionResult:[je,{type:"error",error:he.error}]}}else if(he.matches)ne=he.matches;else{let{notFoundMatches:je,error:He,route:at}=pr(q.pathname);return{matches:je,pendingActionResult:[at.id,{type:"error",error:He}]}}}let ye,xe=hl(ne,q);if(!xe.route.action&&!xe.route.lazy)ye={type:"error",error:ur(405,{method:$.method,pathname:q.pathname,routeId:xe.route.id})};else if(ye=(await fr("action",L,$,[xe],ne,null))[xe.route.id],$.signal.aborted)return{shortCircuited:!0};if(to(ye)){let he;return we&&we.replace!=null?he=we.replace:he=zv(ye.response.headers.get("Location"),new URL($.url),d)===L.location.pathname+L.location.search,await Xt($,ye,!0,{submission:Z,replace:he}),{shortCircuited:!0}}if(Qn(ye)){let he=eo(ne,xe.route.id);return(we&&we.replace)!==!0&&(K="PUSH"),{matches:ne,pendingActionResult:[he.route.id,ye]}}return{matches:ne,pendingActionResult:[xe.route.id,ye]}}async function Vi($,q,Z,ne,pe,we,be,ye,xe,he,je){let He=pe||Tf(q,we),at=we||be||Qv(He),kt=!V&&!xe;if(ne){if(kt){let mt=Mi(je);Re({navigation:He,...mt!==void 0?{actionData:mt}:{}},{flushSync:he})}let Ze=await Sn(Z,q.pathname,$.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){let mt=eo(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[mt]:Ze.error}}}else if(Ze.matches)Z=Ze.matches;else{let{error:mt,notFoundMatches:en,route:_r}=pr(q.pathname);return{matches:en,loaderData:{},errors:{[_r.id]:mt}}}}let Qe=u||a,[it,lt]=Fv(t.history,L,Z,at,q,xe===!0,D,ue,te,de,me,Qe,d,je);if(Pe=++Ge,it.length===0&&lt.length===0){let Ze=Br();return rt(q,{matches:Z,loaderData:{},errors:je&&Qn(je[1])?{[je[0]]:je[1].error}:null,...qv(je),...Ze?{fetchers:new Map(L.fetchers)}:{}},{flushSync:he}),{shortCircuited:!0}}if(kt){let Ze={};if(!ne){Ze.navigation=He;let mt=Mi(je);mt!==void 0&&(Ze.actionData=mt)}lt.length>0&&(Ze.fetchers=Is(lt)),Re(Ze,{flushSync:he})}lt.forEach(Ze=>{Jt(Ze.key),Ze.controller&&Ne.set(Ze.key,Ze.controller)});let gr=()=>lt.forEach(Ze=>Jt(Ze.key));C&&C.signal.addEventListener("abort",gr);let{loaderResults:yr,fetcherResults:hn}=await ai(L,Z,it,lt,$);if($.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",gr),lt.forEach(Ze=>Ne.delete(Ze.key));let Zt=dc(yr);if(Zt)return await Xt($,Zt.result,!0,{replace:ye}),{shortCircuited:!0};if(Zt=dc(hn),Zt)return me.add(Zt.key),await Xt($,Zt.result,!0,{replace:ye}),{shortCircuited:!0};let{loaderData:ci,errors:zr}=Hv(L,Z,yr,je,lt,hn);xe&&L.errors&&(zr={...L.errors,...zr});let vr=Br(),ut=Oi(Pe),di=vr||ut||lt.length>0;return{matches:Z,loaderData:ci,errors:zr,...di?{fetchers:new Map(L.fetchers)}:{}}}function Mi($){if($&&!Qn($[1]))return{[$[0]]:$[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Is($){return $.forEach(q=>{let Z=L.fetchers.get(q.key),ne=ll(void 0,Z?Z.data:void 0);L.fetchers.set(q.key,ne)}),new Map(L.fetchers)}async function go($,q,Z,ne){Jt($);let pe=(ne&&ne.flushSync)===!0,we=u||a,be=Yf(L.location,L.matches,d,Z,q,ne==null?void 0:ne.relative),ye=ds(we,be,d),xe=mr(ye,we,be);if(xe.active&&xe.matches&&(ye=xe.matches),!ye){dt($,q,ur(404,{pathname:be}),{flushSync:pe});return}let{path:he,submission:je,error:He}=Ov(!0,be,ne);if(He){dt($,q,He,{flushSync:pe});return}let at=hl(ye,he),kt=(ne&&ne.preventScrollReset)===!0;if(je&&Nr(je.formMethod)){await Li($,q,he,at,ye,xe.active,pe,kt,je);return}de.set($,{routeId:q,path:he}),await hr($,q,he,at,ye,xe.active,pe,kt,je)}async function Li($,q,Z,ne,pe,we,be,ye,xe){jr(),de.delete($);function he(gt){if(!gt.route.action&&!gt.route.lazy){let bn=ur(405,{method:xe.formMethod,pathname:Z,routeId:q});return dt($,q,bn,{flushSync:be}),!0}return!1}if(!we&&he(ne))return;let je=L.fetchers.get($);Rn($,x2(xe,je),{flushSync:be});let He=new AbortController,at=Xo(t.history,Z,He.signal,xe);if(we){let gt=await Sn(pe,Z,at.signal);if(gt.type==="aborted")return;if(gt.type==="error"){dt($,q,gt.error,{flushSync:be});return}else if(gt.matches){if(pe=gt.matches,ne=hl(pe,Z),he(ne))return}else{dt($,q,ur(404,{pathname:Z}),{flushSync:be});return}}Ne.set($,He);let kt=Ge,it=(await fr("action",L,at,[ne],pe,$))[ne.route.id];if(at.signal.aborted){Ne.get($)===He&&Ne.delete($);return}if(te.has($)){if(to(it)||Qn(it)){Rn($,us(void 0));return}}else{if(to(it))if(Ne.delete($),Pe>kt){Rn($,us(void 0));return}else return me.add($),Rn($,ll(xe)),Xt(at,it,!1,{fetcherSubmission:xe,preventScrollReset:ye});if(Qn(it)){dt($,q,it.error);return}}let lt=L.navigation.location||L.location,gr=Xo(t.history,lt,He.signal),yr=u||a,hn=L.navigation.state!=="idle"?ds(yr,L.navigation.location,d):L.matches;Je(hn,"Didn't find any matches after fetcher action");let Zt=++Ge;se.set($,Zt);let ci=ll(xe,it.data);L.fetchers.set($,ci);let[zr,vr]=Fv(t.history,L,hn,xe,lt,!1,D,ue,te,de,me,yr,d,[ne.route.id,it]);vr.filter(gt=>gt.key!==$).forEach(gt=>{let bn=gt.key,fn=L.fetchers.get(bn),yo=ll(void 0,fn?fn.data:void 0);L.fetchers.set(bn,yo),Jt(bn),gt.controller&&Ne.set(bn,gt.controller)}),Re({fetchers:new Map(L.fetchers)});let ut=()=>vr.forEach(gt=>Jt(gt.key));He.signal.addEventListener("abort",ut);let{loaderResults:di,fetcherResults:Ze}=await ai(L,hn,zr,vr,gr);if(He.signal.aborted)return;He.signal.removeEventListener("abort",ut),se.delete($),Ne.delete($),vr.forEach(gt=>Ne.delete(gt.key));let mt=dc(di);if(mt)return Xt(gr,mt.result,!1,{preventScrollReset:ye});if(mt=dc(Ze),mt)return me.add(mt.key),Xt(gr,mt.result,!1,{preventScrollReset:ye});let{loaderData:en,errors:_r}=Hv(L,hn,di,void 0,vr,Ze);if(L.fetchers.has($)){let gt=us(it.data);L.fetchers.set($,gt)}Oi(Zt),L.navigation.state==="loading"&&Zt>Pe?(Je(K,"Expected pending action"),C&&C.abort(),rt(L.navigation.location,{matches:hn,loaderData:en,errors:_r,fetchers:new Map(L.fetchers)})):(Re({errors:_r,loaderData:Wv(L.loaderData,en,hn,_r),fetchers:new Map(L.fetchers)}),D=!1)}async function hr($,q,Z,ne,pe,we,be,ye,xe){let he=L.fetchers.get($);Rn($,ll(xe,he?he.data:void 0),{flushSync:be});let je=new AbortController,He=Xo(t.history,Z,je.signal);if(we){let it=await Sn(pe,Z,He.signal);if(it.type==="aborted")return;if(it.type==="error"){dt($,q,it.error,{flushSync:be});return}else if(it.matches)pe=it.matches,ne=hl(pe,Z);else{dt($,q,ur(404,{pathname:Z}),{flushSync:be});return}}Ne.set($,je);let at=Ge,Qe=(await fr("loader",L,He,[ne],pe,$))[ne.route.id];if(Ne.get($)===je&&Ne.delete($),!He.signal.aborted){if(te.has($)){Rn($,us(void 0));return}if(to(Qe))if(Pe>at){Rn($,us(void 0));return}else{me.add($),await Xt(He,Qe,!1,{preventScrollReset:ye});return}if(Qn(Qe)){dt($,q,Qe.error);return}Rn($,us(Qe.data))}}async function Xt($,q,Z,{submission:ne,fetcherSubmission:pe,preventScrollReset:we,replace:be}={}){q.response.headers.has("X-Remix-Revalidate")&&(D=!0);let ye=q.response.headers.get("Location");Je(ye,"Expected a Location header on the redirect Response"),ye=zv(ye,new URL($.url),d);let xe=Il(L.location,ye,{_isRedirect:!0});if(n){let Qe=!1;if(q.response.headers.has("X-Remix-Reload-Document"))Qe=!0;else if(Up.test(ye)){const it=t.history.createURL(ye);Qe=it.origin!==e.location.origin||Mr(it.pathname,d)==null}if(Qe){be?e.location.replace(ye):e.location.assign(ye);return}}C=null;let he=be===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:He,formEncType:at}=L.navigation;!ne&&!pe&&je&&He&&at&&(ne=Qv(L.navigation));let kt=ne||pe;if(i2.has(q.response.status)&&kt&&Nr(kt.formMethod))await dn(he,xe,{submission:{...kt,formAction:ye},preventScrollReset:we||k,enableViewTransition:Z?R:void 0});else{let Qe=Tf(xe,ne);await dn(he,xe,{overrideNavigation:Qe,fetcherSubmission:pe,preventScrollReset:we||k,enableViewTransition:Z?R:void 0})}}async function fr($,q,Z,ne,pe,we){let be,ye={};try{be=await f2(f,$,q,Z,ne,pe,we,o,i)}catch(xe){return ne.forEach(he=>{ye[he.route.id]={type:"error",error:xe}}),ye}for(let[xe,he]of Object.entries(be))if(_2(he)){let je=he.result;ye[xe]={type:"redirect",response:g2(je,Z,xe,pe,d)}}else ye[xe]=await m2(he);return ye}async function ai($,q,Z,ne,pe){let we=fr("loader",$,pe,Z,q,null),be=Promise.all(ne.map(async he=>{if(he.matches&&he.match&&he.controller){let He=(await fr("loader",$,Xo(t.history,he.path,he.controller.signal),[he.match],he.matches,he.key))[he.match.route.id];return{[he.key]:He}}else return Promise.resolve({[he.key]:{type:"error",error:ur(404,{pathname:he.path})}})})),ye=await we,xe=(await be).reduce((he,je)=>Object.assign(he,je),{});return{loaderResults:ye,fetcherResults:xe}}function jr(){D=!0,de.forEach(($,q)=>{Ne.has(q)&&ue.add(q),Jt(q)})}function Rn($,q,Z={}){L.fetchers.set($,q),Re({fetchers:new Map(L.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function dt($,q,Z,ne={}){let pe=eo(L.matches,q);Un($),Re({errors:{[pe.route.id]:Z},fetchers:new Map(L.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Rt($){return W.set($,(W.get($)||0)+1),te.has($)&&te.delete($),L.fetchers.get($)||s2}function Un($){let q=L.fetchers.get($);Ne.has($)&&!(q&&q.state==="loading"&&se.has($))&&Jt($),de.delete($),se.delete($),me.delete($),te.delete($),ue.delete($),L.fetchers.delete($)}function Rs($){let q=(W.get($)||0)-1;q<=0?(W.delete($),te.add($)):W.set($,q),Re({fetchers:new Map(L.fetchers)})}function Jt($){let q=Ne.get($);q&&(q.abort(),Ne.delete($))}function Fr($){for(let q of $){let Z=Rt(q),ne=us(Z.data);L.fetchers.set(q,ne)}}function Br(){let $=[],q=!1;for(let Z of me){let ne=L.fetchers.get(Z);Je(ne,`Expected fetcher: ${Z}`),ne.state==="loading"&&(me.delete(Z),$.push(Z),q=!0)}return Fr($),q}function Oi($){let q=[];for(let[Z,ne]of se)if(ne<$){let pe=L.fetchers.get(Z);Je(pe,`Expected fetcher: ${Z}`),pe.state==="loading"&&(Jt(Z),se.delete(Z),q.push(Z))}return Fr(q),q.length>0}function ks($,q){let Z=L.blockers.get($)||al;return ge.get($)!==q&&ge.set($,q),Z}function ji($){L.blockers.delete($),ge.delete($)}function Ur($,q){let Z=L.blockers.get($)||al;Je(Z.state==="unblocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="proceeding"||Z.state==="blocked"&&q.state==="unblocked"||Z.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${q.state}`);let ne=new Map(L.blockers);ne.set($,q),Re({blockers:ne})}function Fi({currentLocation:$,nextLocation:q,historyAction:Z}){if(ge.size===0)return;ge.size>1&&un(!1,"A router only supports one blocker at a time");let ne=Array.from(ge.entries()),[pe,we]=ne[ne.length-1],be=L.blockers.get(pe);if(!(be&&be.state==="proceeding")&&we({currentLocation:$,nextLocation:q,historyAction:Z}))return pe}function pr($){let q=ur(404,{pathname:$}),Z=u||a,{matches:ne,route:pe}=Kv(Z);return{notFoundMatches:ne,route:pe,error:q}}function Bi($,q,Z){if(x=$,b=q,P=Z||null,!I&&L.navigation===xf){I=!0;let ne=zn(L.location,L.matches);ne!=null&&Re({restoreScrollPosition:ne})}return()=>{x=null,b=null,P=null}}function li($,q){return P&&P($,q.map(ne=>LS(ne,L.loaderData)))||$.key}function kn($,q){if(x&&b){let Z=li($,q);x[Z]=b()}}function zn($,q){if(x){let Z=li($,q),ne=x[Z];if(typeof ne=="number")return ne}return null}function mr($,q,Z){if(p)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Lc(q,Z,d,!0)}}else return{active:!0,matches:Lc(q,Z,d,!0)||[]};return{active:!1,matches:null}}async function Sn($,q,Z){if(!p)return{type:"success",matches:$};let ne=$;for(;;){let pe=u==null,we=u||a,be=o;try{await p({path:q,matches:ne,patch:(he,je)=>{Z.aborted||Uv(he,je,we,be,i)}})}catch(he){return{type:"error",error:he,partialMatches:ne}}finally{pe&&!Z.aborted&&(a=[...a])}if(Z.aborted)return{type:"aborted"};let ye=ds(we,q,d);if(ye)return{type:"success",matches:ye};let xe=Lc(we,q,d,!0);if(!xe||ne.length===xe.length&&ne.every((he,je)=>he.route.id===xe[je].route.id))return{type:"success",matches:null};ne=xe}}function bs($){o={},u=Qc($,i,void 0,o)}function ui($,q){let Z=u==null;Uv($,q,u||a,o,i),Z&&(a=[...a],Re({}))}return Y={get basename(){return d},get future(){return g},get state(){return L},get routes(){return a},get window(){return e},initialize:We,subscribe:Ie,enableScrollRestoration:Bi,navigate:Wt,fetch:go,revalidate:Or,createHref:$=>t.history.createHref($),encodeLocation:$=>t.history.encodeLocation($),getFetcher:Rt,deleteFetcher:Rs,dispose:$e,getBlocker:ks,deleteBlocker:ji,patchRoutes:ui,_internalFetchControllers:Ne,_internalSetRoutes:bs},Y}function l2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Yf(t,e,n,i,o,a){let u,d;if(o){u=[];for(let p of e)if(u.push(p),p.route.id===o){d=p;break}}else u=e,d=e[e.length-1];let f=Bp(i||".",Fp(u),Mr(t.pathname,n)||t.pathname,a==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d){let p=zp(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(x=>x).forEach(x=>g.append("index",x));let w=g.toString();f.search=w?`?${w}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Zr([n,f.pathname])),vs(f)}function Ov(t,e,n){if(!n||!l2(n))return{path:e};if(n.formMethod&&!w2(n.formMethod))return{path:e,error:ur(405,{method:n.formMethod})};let i=()=>({path:e,error:ur(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),u=Qw(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Nr(a))return i();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[x,P])=>`${w}${x}=${P}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Nr(a))return i();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Je(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=Jf(n.formData),f=n.formData;else if(n.body instanceof FormData)d=Jf(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=$v(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=$v(d)}catch{return i()}let p={formMethod:a,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Nr(p.formMethod))return{path:e,submission:p};let g=Cs(e);return t&&g.search&&zp(g.search)&&d.append("index",""),g.search=`?${d}`,{path:vs(g),submission:p}}function jv(t,e,n=!1){let i=t.findIndex(o=>o.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Fv(t,e,n,i,o,a,u,d,f,p,g,y,w,x){let P=x?Qn(x[1])?x[1].error:x[1].data:void 0,b=t.createURL(e.location),I=t.createURL(o),N=n;a&&e.errors?N=jv(n,Object.keys(e.errors)[0],!0):x&&Qn(x[1])&&(N=jv(n,x[0]));let F=x?x[1].statusCode:void 0,U=F&&F>=400,Y=N.filter((K,k)=>{let{route:C}=K;if(C.lazy)return!0;if(C.loader==null)return!1;if(a)return Xf(C,e.loaderData,e.errors);if(u2(e.loaderData,e.matches[k],K))return!0;let R=e.matches[k],M=K;return Bv(K,{currentUrl:b,currentParams:R.params,nextUrl:I,nextParams:M.params,...i,actionResult:P,actionStatus:F,defaultShouldRevalidate:U?!1:u||b.pathname+b.search===I.pathname+I.search||b.search!==I.search||c2(R,M)})}),L=[];return p.forEach((K,k)=>{if(a||!n.some(V=>V.route.id===K.routeId)||f.has(k))return;let C=ds(y,K.path,w);if(!C){L.push({key:k,routeId:K.routeId,path:K.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),M=hl(C,K.path),O=!1;g.has(k)?O=!1:d.has(k)?(d.delete(k),O=!0):R&&R.state!=="idle"&&R.data===void 0?O=u:O=Bv(M,{currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:I,nextParams:n[n.length-1].params,...i,actionResult:P,actionStatus:F,defaultShouldRevalidate:U?!1:u}),O&&L.push({key:k,routeId:K.routeId,path:K.path,matches:C,match:M,controller:new AbortController})}),[Y,L]}function Xf(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,o=n!=null&&n[t.id]!==void 0;return!i&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!o}function u2(t,e,n){let i=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return i||o}function c2(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Bv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Uv(t,e,n,i,o){let a;if(t){let f=i[t];Je(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),a=f.children}else a=n;let u=e.filter(f=>!a.some(p=>Gw(f,p))),d=Qc(u,o,[t||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...d)}function Gw(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>Gw(n,a))}):!1}async function d2(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let o=n[t.id];Je(o,"No route found in manifest");let a={};for(let u in i){let f=o[u]!==void 0&&u!=="hasErrorBoundary";un(!f,`Route "${o.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!VS.has(u)&&(a[u]=i[u])}Object.assign(o,a),Object.assign(o,{...e(o),lazy:void 0})}async function h2({matches:t}){let e=t.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,a)=>Object.assign(i,{[e[a].route.id]:o}),{})}async function f2(t,e,n,i,o,a,u,d,f,p){let g=a.map(x=>x.route.lazy?d2(x.route,f,d):void 0),y=a.map((x,P)=>{let b=g[P],I=o.some(F=>F.route.id===x.route.id);return{...x,shouldLoad:I,resolve:async F=>(F&&i.method==="GET"&&(x.route.lazy||x.route.loader)&&(I=!0),I?p2(e,i,x,b,F,p):Promise.resolve({type:"data",result:void 0}))}}),w=await t({matches:y,request:i,params:a[0].params,fetcherKey:u,context:p});try{await Promise.all(g)}catch{}return w}async function p2(t,e,n,i,o,a){let u,d,f=p=>{let g,y=new Promise((P,b)=>g=b);d=()=>g(),e.signal.addEventListener("abort",d);let w=P=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):p({request:e,params:n.params,context:a},...P!==void 0?[P]:[]),x=(async()=>{try{return{type:"data",result:await(o?o(b=>w(b)):w())}}catch(P){return{type:"error",result:P}}})();return Promise.race([x,y])};try{let p=n.route[t];if(i)if(p){let g,[y]=await Promise.all([f(p).catch(w=>{g=w}),i]);if(g!==void 0)throw g;u=y}else if(await i,p=n.route[t],p)u=await f(p);else if(t==="action"){let g=new URL(e.url),y=g.pathname+g.search;throw ur(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:"data",result:void 0};else if(p)u=await f(p);else{let g=new URL(e.url),y=g.pathname+g.search;throw ur(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function m2(t){var i,o,a,u;let{result:e,type:n}=t;if(Yw(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:"error",error:f}}return n==="error"?{type:"error",error:new Xc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(n==="error"){if(Gv(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new Xc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:wd(e)?e.status:void 0}}return Gv(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function g2(t,e,n,i,o){let a=t.headers.get("Location");if(Je(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Up.test(a)){let u=i.slice(0,i.findIndex(d=>d.route.id===n)+1);a=Yf(new URL(e.url),u,o,a),t.headers.set("Location",a)}return t}function zv(t,e,n){if(Up.test(t)){let i=t,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Mr(o.pathname,n)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return t}function Xo(t,e,n,i){let o=t.createURL(Qw(e)).toString(),a={signal:n};if(i&&Nr(i.formMethod)){let{formMethod:u,formEncType:d}=i;a.method=u.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(i.json)):d==="text/plain"?a.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?a.body=Jf(i.formData):a.body=i.formData}return new Request(o,a)}function Jf(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function $v(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function y2(t,e,n,i=!1,o=!1){let a={},u=null,d,f=!1,p={},g=n&&Qn(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,x=e[w];if(Je(!to(x),"Cannot handle redirect results in processLoaderData"),Qn(x)){let P=x.error;if(g!==void 0&&(P=g,g=void 0),u=u||{},o)u[w]=P;else{let b=eo(t,w);u[b.route.id]==null&&(u[b.route.id]=P)}i||(a[w]=Kw),f||(f=!0,d=wd(x.error)?x.error.status:500),x.headers&&(p[w]=x.headers)}else a[w]=x.data,x.statusCode&&x.statusCode!==200&&!f&&(d=x.statusCode),x.headers&&(p[w]=x.headers)}),g!==void 0&&n&&(u={[n[0]]:g},a[n[0]]=void 0),{loaderData:a,errors:u,statusCode:d||200,loaderHeaders:p}}function Hv(t,e,n,i,o,a){let{loaderData:u,errors:d}=y2(e,n,i);return o.forEach(f=>{let{key:p,match:g,controller:y}=f,w=a[p];if(Je(w,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(Qn(w)){let x=eo(t.matches,g==null?void 0:g.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:w.error}),t.fetchers.delete(p)}else if(to(w))Je(!1,"Unhandled fetcher revalidation redirect");else{let x=us(w.data);t.fetchers.set(p,x)}}),{loaderData:u,errors:d}}function Wv(t,e,n,i){let o=Object.entries(e).filter(([,a])=>a!==Kw).reduce((a,[u,d])=>(a[u]=d,a),{});for(let a of n){let u=a.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&a.route.loader&&(o[u]=t[u]),i&&i.hasOwnProperty(u))break}return o}function qv(t){return t?Qn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function eo(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Kv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(t,{pathname:e,routeId:n,method:i,type:o,message:a}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",i&&e&&n?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",i&&e&&n?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new Xc(t||500,u,new Error(d),!0)}function dc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,o]=e[n];if(to(o))return{key:i,result:o}}}function Qw(t){let e=typeof t=="string"?Cs(t):t;return vs({...e,hash:""})}function v2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _2(t){return Yw(t.result)&&r2.has(t.result.status)}function Qn(t){return t.type==="error"}function to(t){return(t&&t.type)==="redirect"}function Gv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Yw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function w2(t){return n2.has(t.toUpperCase())}function Nr(t){return e2.has(t.toUpperCase())}function zp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function hl(t,e){let n=typeof e=="string"?Cs(e).search:e.search;if(t[t.length-1].route.index&&zp(n||""))return t[t.length-1];let i=Hw(t);return i[i.length-1]}function Qv(t){let{formMethod:e,formAction:n,formEncType:i,text:o,formData:a,json:u}=t;if(!(!e||!n||!i)){if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:u,text:void 0}}}function Tf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function E2(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ll(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function x2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function us(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function T2(t,e){try{let n=t.sessionStorage.getItem(qw);if(n){let i=JSON.parse(n);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function S2(t,e){if(e.size>0){let n={};for(let[i,o]of e)n[i]=[...o];try{t.sessionStorage.setItem(qw,JSON.stringify(n))}catch(i){un(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function P2(){let t,e,n=new Promise((i,o)=>{t=async a=>{i(a);try{await n}catch{}},e=async a=>{o(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ao=B.createContext(null);ao.displayName="DataRouter";var $l=B.createContext(null);$l.displayName="DataRouterState";var $p=B.createContext({isTransitioning:!1});$p.displayName="ViewTransition";var Xw=B.createContext(new Map);Xw.displayName="Fetchers";var C2=B.createContext(null);C2.displayName="Await";var si=B.createContext(null);si.displayName="Navigation";var Ed=B.createContext(null);Ed.displayName="Location";var Di=B.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Hp=B.createContext(null);Hp.displayName="RouteError";function A2(t,{relative:e}={}){Je(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=B.useContext(si),{hash:o,pathname:a,search:u}=Wl(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Zr([n,a])),i.createHref({pathname:d,search:u,hash:o})}function Hl(){return B.useContext(Ed)!=null}function lo(){return Je(Hl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ed).location}var Jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zw(t){B.useContext(si).static||B.useLayoutEffect(t)}function e1(){let{isDataRoute:t}=B.useContext(Di);return t?B2():I2()}function I2(){Je(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(ao),{basename:e,navigator:n}=B.useContext(si),{matches:i}=B.useContext(Di),{pathname:o}=lo(),a=JSON.stringify(Fp(i)),u=B.useRef(!1);return Zw(()=>{u.current=!0}),B.useCallback((f,p={})=>{if(un(u.current,Jw),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Bp(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zr([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,o,t])}B.createContext(null);function Wl(t,{relative:e}={}){let{matches:n}=B.useContext(Di),{pathname:i}=lo(),o=JSON.stringify(Fp(n));return B.useMemo(()=>Bp(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function R2(t,e,n,i){Je(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(si),{matches:a}=B.useContext(Di),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let N=g&&g.path||"";t1(f,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=lo(),w;w=y;let x=w.pathname||"/",P=x;if(p!=="/"){let N=p.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=ds(t,{pathname:P});return un(g||b!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),un(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),V2(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Zr([p,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Zr([p,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,i)}function k2(){let t=F2(),e=wd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,u)}var b2=B.createElement(k2,null),N2=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(Di.Provider,{value:this.props.routeContext},B.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D2({routeContext:t,match:e,children:n}){let i=B.useContext(ao);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Di.Provider,{value:t},n)}function V2(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:y}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let y,w=!1,x=null,P=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||b2,u&&(d<0&&g===0?(t1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):d===g&&(w=!0,P=p.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,g+1)),I=()=>{let N;return y?N=x:w?N=P:p.route.Component?N=B.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,B.createElement(D2,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?B.createElement(N2,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:I(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):I()},null)}function Wp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M2(t){let e=B.useContext(ao);return Je(e,Wp(t)),e}function L2(t){let e=B.useContext($l);return Je(e,Wp(t)),e}function O2(t){let e=B.useContext(Di);return Je(e,Wp(t)),e}function qp(t){let e=O2(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function j2(){return qp("useRouteId")}function F2(){var i;let t=B.useContext(Hp),e=L2("useRouteError"),n=qp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function B2(){let{router:t}=M2("useNavigate"),e=qp("useNavigate"),n=B.useRef(!1);return Zw(()=>{n.current=!0}),B.useCallback(async(o,a={})=>{un(n.current,Jw),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Yv={};function t1(t,e,n){!e&&!Yv[t]&&(Yv[t]=!0,un(!1,n))}var Xv={};function Jv(t,e){!t&&!Xv[e]&&(Xv[e]=!0,console.warn(e))}function U2(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var z2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function $2({router:t,flushSync:e}){let[n,i]=B.useState(t.state),[o,a]=B.useState(),[u,d]=B.useState({isTransitioning:!1}),[f,p]=B.useState(),[g,y]=B.useState(),[w,x]=B.useState(),P=B.useRef(new Map),b=B.useCallback((U,{deletedFetchers:Y,flushSync:L,viewTransitionOpts:K})=>{U.fetchers.forEach((C,R)=>{C.data!==void 0&&P.current.set(R,C.data)}),Y.forEach(C=>P.current.delete(C)),Jv(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Jv(K==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!K||!k){e&&L?e(()=>i(U)):B.startTransition(()=>i(U));return}if(e&&L){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let C=t.window.document.startViewTransition(()=>{e(()=>i(U))});C.finished.finally(()=>{e(()=>{p(void 0),y(void 0),a(void 0),d({isTransitioning:!1})})}),e(()=>y(C));return}g?(f&&f.resolve(),g.skipTransition(),x({state:U,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(a(U),d({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[t.window,e,g,f]);B.useLayoutEffect(()=>t.subscribe(b),[t,b]),B.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new z2)},[u]),B.useEffect(()=>{if(f&&o&&t.window){let U=o,Y=f.promise,L=t.window.document.startViewTransition(async()=>{B.startTransition(()=>i(U)),await Y});L.finished.finally(()=>{p(void 0),y(void 0),a(void 0),d({isTransitioning:!1})}),y(L)}},[o,f,t.window]),B.useEffect(()=>{f&&o&&n.location.key===o.location.key&&f.resolve()},[f,g,n.location,o]),B.useEffect(()=>{!u.isTransitioning&&w&&(a(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[u.isTransitioning,w]);let I=B.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:U=>t.navigate(U),push:(U,Y,L)=>t.navigate(U,{state:Y,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(U,Y,L)=>t.navigate(U,{replace:!0,state:Y,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[t]),N=t.basename||"/",F=B.useMemo(()=>({router:t,navigator:I,static:!1,basename:N}),[t,I,N]);return B.createElement(B.Fragment,null,B.createElement(ao.Provider,{value:F},B.createElement($l.Provider,{value:n},B.createElement(Xw.Provider,{value:P.current},B.createElement($p.Provider,{value:u},B.createElement(q2,{basename:N,location:n.location,navigationType:n.historyAction,navigator:I},B.createElement(H2,{routes:t.routes,future:t.future,state:n})))))),null)}var H2=B.memo(W2);function W2({routes:t,future:e,state:n}){return R2(t,void 0,n,e)}function q2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){Je(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Cs(n));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:w="default"}=n,x=B.useMemo(()=>{let P=Mr(f,u);return P==null?null:{location:{pathname:P,search:p,hash:g,state:y,key:w},navigationType:i}},[u,f,p,g,y,w,i]);return un(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:B.createElement(si.Provider,{value:d},B.createElement(Ed.Provider,{children:e,value:x}))}var Oc="get",jc="application/x-www-form-urlencoded";function xd(t){return t!=null&&typeof t.tagName=="string"}function K2(t){return xd(t)&&t.tagName.toLowerCase()==="button"}function G2(t){return xd(t)&&t.tagName.toLowerCase()==="form"}function Q2(t){return xd(t)&&t.tagName.toLowerCase()==="input"}function Y2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X2(t,e){return t.button===0&&(!e||e==="_self")&&!Y2(t)}var hc=null;function J2(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var Z2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(t){return t!=null&&!Z2.has(t)?(un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):t}function eP(t,e){let n,i,o,a,u;if(G2(t)){let d=t.getAttribute("action");i=d?Mr(d,e):null,n=t.getAttribute("method")||Oc,o=Sf(t.getAttribute("enctype"))||jc,a=new FormData(t)}else if(K2(t)||Q2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Mr(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Oc,o=Sf(t.getAttribute("formenctype"))||Sf(d.getAttribute("enctype"))||jc,a=new FormData(d,t),!J2()){let{name:p,type:g,value:y}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,y)}}else{if(xd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oc,i=null,o=jc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}function Kp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function tP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rP(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await tP(a,n);return u.links?u.links():[]}return[]}));return aP(i.flat(1).filter(nP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(t,e,n,i,o,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var y;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function iP(t,e){return sP(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function sP(t){return[...new Set(t)]}function oP(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function aP(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(oP(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function lP(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uP(){let t=B.useContext(ao);return Kp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cP(){let t=B.useContext($l);return Kp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gp=B.createContext(void 0);Gp.displayName="FrameworkContext";function n1(){let t=B.useContext(Gp);return Kp(t,"You must render this element inside a <HydratedRouter> element"),t}function dP(t,e){let n=B.useContext(Gp),[i,o]=B.useState(!1),[a,u]=B.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,w=B.useRef(null);B.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let b=N=>{N.forEach(F=>{u(F.isIntersecting)})},I=new IntersectionObserver(b,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),B.useEffect(()=>{if(i){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[i]);let x=()=>{o(!0)},P=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:ul(d,x),onBlur:ul(f,P),onMouseEnter:ul(p,x),onMouseLeave:ul(g,P),onTouchStart:ul(y,x)}]:[!1,w,{}]}function ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hP({page:t,...e}){let{router:n}=uP(),i=B.useMemo(()=>ds(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?B.createElement(pP,{page:t,matches:i,...e}):null}function fP(t){let{manifest:e,routeModules:n}=n1(),[i,o]=B.useState([]);return B.useEffect(()=>{let a=!1;return rP(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function pP({page:t,matches:e,...n}){let i=lo(),{manifest:o,routeModules:a}=n1(),{loaderData:u,matches:d}=cP(),f=B.useMemo(()=>Zv(t,e,d,o,i,"data"),[t,e,d,o,i]),p=B.useMemo(()=>Zv(t,e,d,o,i,"assets"),[t,e,d,o,i]),g=B.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,P=!1;if(e.forEach(I=>{var F;let N=o.routes[I.route.id];!N||!N.hasLoader||(!f.some(U=>U.route.id===I.route.id)&&I.route.id in u&&((F=a[I.route.id])!=null&&F.shouldRevalidate)||N.hasClientLoader?P=!0:x.add(I.route.id))}),x.size===0)return[];let b=lP(t);return P&&x.size>0&&b.searchParams.set("_routes",e.filter(I=>x.has(I.route.id)).map(I=>I.route.id).join(",")),[b.pathname+b.search]},[u,i,o,f,e,t,a]),y=B.useMemo(()=>iP(p,o),[p,o]),w=fP(p);return B.createElement(B.Fragment,null,g.map(x=>B.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>B.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:P})=>B.createElement("link",{key:x,...P})))}function mP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var r1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r1&&(window.__reactRouterVersion="7.1.3")}catch{}function gP(t,e){return a2({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:bS({window:e==null?void 0:e.window}),hydrationData:yP(),routes:t,mapRouteProperties:U2,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function yP(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:vP(t.errors)}),t}function vP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")n[i]=new Xc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let u=new a(o.message);u.stack="",n[i]=u}catch{}}if(n[i]==null){let a=new Error(o.message);a.stack="",n[i]=a}}else n[i]=o;return n}var i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qp=B.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:y,...w},x){let{basename:P}=B.useContext(si),b=typeof p=="string"&&i1.test(p),I,N=!1;if(typeof p=="string"&&b&&(I=p,r1))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),O=Mr(M.pathname,P);M.origin===R.origin&&O!=null?p=O+M.search+M.hash:N=!0}catch{un(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=A2(p,{relative:o}),[U,Y,L]=dP(i,w),K=xP(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:y});function k(R){e&&e(R),R.defaultPrevented||K(R)}let C=B.createElement("a",{...w,...L,href:I||F,onClick:N||a?e:k,ref:mP(x,Y),target:f,"data-discover":!b&&n==="render"?"true":void 0});return U&&!b?B.createElement(B.Fragment,null,C,B.createElement(hP,{page:F})):C});Qp.displayName="Link";var _P=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let y=Wl(u,{relative:p.relative}),w=lo(),x=B.useContext($l),{navigator:P,basename:b}=B.useContext(si),I=x!=null&&AP(y)&&d===!0,N=P.encodeLocation?P.encodeLocation(y).pathname:y.pathname,F=w.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(F=F.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&b&&(U=Mr(U,b)||U);const Y=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=F===N||!o&&F.startsWith(N)&&F.charAt(Y)==="/",K=U!=null&&(U===N||!o&&U.startsWith(N)&&U.charAt(N.length)==="/"),k={isActive:L,isPending:K,isTransitioning:I},C=L?e:void 0,R;typeof i=="function"?R=i(k):R=[i,L?"active":null,K?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(k):a;return B.createElement(Qp,{...p,"aria-current":C,className:R,ref:g,style:M,to:u,viewTransition:d},typeof f=="function"?f(k):f)});_P.displayName="NavLink";var wP=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=Oc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,...w},x)=>{let P=PP(),b=CP(d,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&i1.test(d),F=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let Y=U.nativeEvent.submitter,L=(Y==null?void 0:Y.getAttribute("formmethod"))||u;P(Y||U.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:y})};return B.createElement("form",{ref:x,method:I,action:b,onSubmit:i?f:F,...w,"data-discover":!N&&t==="render"?"true":void 0})});wP.displayName="Form";function EP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(t){let e=B.useContext(ao);return Je(e,EP(t)),e}function xP(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=e1(),f=lo(),p=Wl(t,{relative:a});return B.useCallback(g=>{if(X2(g,e)){g.preventDefault();let y=n!==void 0?n:vs(f)===vs(p);d(t,{replace:y,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,p,n,i,e,t,o,a,u])}var TP=0,SP=()=>`__${String(++TP)}__`;function PP(){let{router:t}=s1("useSubmit"),{basename:e}=B.useContext(si),n=j2();return B.useCallback(async(i,o={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=eP(i,e);if(o.navigate===!1){let g=o.fetcherKey||SP();await t.fetch(g,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function CP(t,{relative:e}={}){let{basename:n}=B.useContext(si),i=B.useContext(Di);Je(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Wl(t||".",{relative:e})},u=lo();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Zr([n,a.pathname])),vs(a)}function AP(t,e={}){let n=B.useContext($p);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=s1("useViewTransitionState"),o=Wl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Mr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Mr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Yc(o.pathname,u)!=null||Yc(o.pathname,a)!=null}new TextEncoder;var IP=_d();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function RP(t){return B.createElement($2,{flushSync:IP.flushSync,...t})}var Tt={},fc={},pc={},mc={},Pf,e0;function kP(){if(e0)return Pf;e0=1;var t="Expected a function",e=NaN,n="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,f=typeof uc=="object"&&uc&&uc.Object===Object&&uc,p=typeof self=="object"&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),y=Object.prototype,w=y.toString,x=Math.max,P=Math.min,b=function(){return g.Date.now()};function I(K,k,C){var R,M,O,V,D,ue,Ne=0,Ge=!1,Pe=!1,se=!0;if(typeof K!="function")throw new TypeError(t);k=L(k)||0,F(C)&&(Ge=!!C.leading,Pe="maxWait"in C,O=Pe?x(L(C.maxWait)||0,k):O,se="trailing"in C?!!C.trailing:se);function me(Ie){var Re=R,rt=M;return R=M=void 0,Ne=Ie,V=K.apply(rt,Re),V}function de(Ie){return Ne=Ie,D=setTimeout(ge,k),Ge?me(Ie):V}function W(Ie){var Re=Ie-ue,rt=Ie-Ne,Wt=k-Re;return Pe?P(Wt,O-rt):Wt}function te(Ie){var Re=Ie-ue,rt=Ie-Ne;return ue===void 0||Re>=k||Re<0||Pe&&rt>=O}function ge(){var Ie=b();if(te(Ie))return Me(Ie);D=setTimeout(ge,W(Ie))}function Me(Ie){return D=void 0,se&&R?me(Ie):(R=M=void 0,V)}function Le(){D!==void 0&&clearTimeout(D),Ne=0,R=ue=M=D=void 0}function We(){return D===void 0?V:Me(b())}function $e(){var Ie=b(),Re=te(Ie);if(R=arguments,M=this,ue=Ie,Re){if(D===void 0)return de(ue);if(Pe)return D=setTimeout(ge,k),me(ue)}return D===void 0&&(D=setTimeout(ge,k)),V}return $e.cancel=Le,$e.flush=We,$e}function N(K,k,C){var R=!0,M=!0;if(typeof K!="function")throw new TypeError(t);return F(C)&&(R="leading"in C?!!C.leading:R,M="trailing"in C?!!C.trailing:M),I(K,k,{leading:R,maxWait:k,trailing:M})}function F(K){var k=typeof K;return!!K&&(k=="object"||k=="function")}function U(K){return!!K&&typeof K=="object"}function Y(K){return typeof K=="symbol"||U(K)&&w.call(K)==n}function L(K){if(typeof K=="number")return K;if(Y(K))return e;if(F(K)){var k=typeof K.valueOf=="function"?K.valueOf():K;K=F(k)?k+"":k}if(typeof K!="string")return K===0?K:+K;K=K.replace(i,"");var C=a.test(K);return C||u.test(K)?d(K.slice(2),C?2:8):o.test(K)?e:+K}return Pf=N,Pf}var cl={},t0;function Yp(){if(t0)return cl;t0=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.addPassiveEventListener=function(n,i,o){var a=o.name;a||(a=i,console.warn("Listener must be a named function.")),t.has(i)||t.set(i,new Set);var u=t.get(i);if(!u.has(a)){var d=function(){var f=!1;try{var p=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,p)}catch{}return f}();n.addEventListener(i,o,d?{passive:!0}:!1),u.add(a)}},cl.removePassiveEventListener=function(n,i,o){n.removeEventListener(i,o),t.get(i).delete(o.name||i)};var t=new Map;return cl}var n0;function Xp(){if(n0)return mc;n0=1,Object.defineProperty(mc,"__esModule",{value:!0});var t=kP(),e=i(t),n=Yp();function i(u){return u&&u.__esModule?u:{default:u}}var o=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,e.default)(d,f)},a={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(d,f){if(d){var p=o(function(g){a.scrollHandler(d)},f);a.scrollSpyContainers.push(d),(0,n.addPassiveEventListener)(d,"scroll",p)}},isMounted:function(d){return a.scrollSpyContainers.indexOf(d)!==-1},currentPositionX:function(d){if(d===document){var f=window.pageYOffset!==void 0,p=(document.compatMode||"")==="CSS1Compat";return f?window.pageXOffset:p?document.documentElement.scrollLeft:document.body.scrollLeft}else return d.scrollLeft},currentPositionY:function(d){if(d===document){var f=window.pageXOffset!==void 0,p=(document.compatMode||"")==="CSS1Compat";return f?window.pageYOffset:p?document.documentElement.scrollTop:document.body.scrollTop}else return d.scrollTop},scrollHandler:function(d){var f=a.scrollSpyContainers[a.scrollSpyContainers.indexOf(d)].spyCallbacks||[];f.forEach(function(p){return p(a.currentPositionX(d),a.currentPositionY(d))})},addStateHandler:function(d){a.spySetState.push(d)},addSpyHandler:function(d,f){var p=a.scrollSpyContainers[a.scrollSpyContainers.indexOf(f)];p.spyCallbacks||(p.spyCallbacks=[]),p.spyCallbacks.push(d),d(a.currentPositionX(f),a.currentPositionY(f))},updateStates:function(){a.spySetState.forEach(function(d){return d()})},unmount:function(d,f){a.scrollSpyContainers.forEach(function(p){return p.spyCallbacks&&p.spyCallbacks.length&&p.spyCallbacks.indexOf(f)>-1&&p.spyCallbacks.splice(p.spyCallbacks.indexOf(f),1)}),a.spySetState&&a.spySetState.length&&a.spySetState.indexOf(d)>-1&&a.spySetState.splice(a.spySetState.indexOf(d),1),document.removeEventListener("scroll",a.scrollHandler)},update:function(){return a.scrollSpyContainers.forEach(function(d){return a.scrollHandler(d)})}};return mc.default=a,mc}var gc={},yc={},r0;function Td(){if(r0)return yc;r0=1,Object.defineProperty(yc,"__esModule",{value:!0});var t=function(d,f){var p=d.indexOf("#")===0?d.substring(1):d,g=p?"#"+p:"",y=window&&window.location,w=g?y.pathname+y.search+g:y.pathname+y.search;f?history.pushState(history.state,"",w):history.replaceState(history.state,"",w)},e=function(){return window.location.hash.replace(/^#/,"")},n=function(d){return function(f){return d.contains?d!=f&&d.contains(f):!!(d.compareDocumentPosition(f)&16)}},i=function(d){return getComputedStyle(d).position!=="static"},o=function(d,f){for(var p=d.offsetTop,g=d.offsetParent;g&&!f(g);)p+=g.offsetTop,g=g.offsetParent;return{offsetTop:p,offsetParent:g}},a=function(d,f,p){if(p)return d===document?f.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(d).position!=="static"?f.offsetLeft:f.offsetLeft-d.offsetLeft;if(d===document)return f.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(i(d)){if(f.offsetParent!==d){var g=function(I){return I===d||I===document},y=o(f,g),w=y.offsetTop,x=y.offsetParent;if(x!==d)throw new Error("Seems containerElement is not an ancestor of the Element");return w}return f.offsetTop}if(f.offsetParent===d.offsetParent)return f.offsetTop-d.offsetTop;var P=function(I){return I===document};return o(f,P).offsetTop-o(d,P).offsetTop};return yc.default={updateHash:t,getHash:e,filterElementInContainer:n,scrollOffset:a},yc}var vc={},_c={},i0;function bP(){return i0||(i0=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),_c}var wc={},s0;function NP(){if(s0)return wc;s0=1,Object.defineProperty(wc,"__esModule",{value:!0});var t=Yp(),e=["mousedown","mousewheel","touchmove","keydown"];return wc.default={subscribe:function(i){return typeof document<"u"&&e.forEach(function(o){return(0,t.addPassiveEventListener)(document,o,i)})}},wc}var Ec={},o0;function Jp(){if(o0)return Ec;o0=1,Object.defineProperty(Ec,"__esModule",{value:!0});var t={registered:{},scrollEvent:{register:function(n,i){t.registered[n]=i},remove:function(n){t.registered[n]=null}}};return Ec.default=t,Ec}var a0;function o1(){if(a0)return vc;a0=1,Object.defineProperty(vc,"__esModule",{value:!0});var t=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var V=arguments[O];for(var D in V)Object.prototype.hasOwnProperty.call(V,D)&&(M[D]=V[D])}return M},e=Td();f(e);var n=bP(),i=f(n),o=NP(),a=f(o),u=Jp(),d=f(u);function f(M){return M&&M.__esModule?M:{default:M}}var p=function(O){return i.default[O.smooth]||i.default.defaultEasing},g=function(O){return typeof O=="function"?O:function(){return O}},y=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},w=function(){return y()||function(M,O,V){window.setTimeout(M,V||1e3/60,new Date().getTime())}}(),x=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},P=function(O){var V=O.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollLeft;var D=window.pageXOffset!==void 0,ue=(document.compatMode||"")==="CSS1Compat";return D?window.pageXOffset:ue?document.documentElement.scrollLeft:document.body.scrollLeft},b=function(O){var V=O.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollTop;var D=window.pageXOffset!==void 0,ue=(document.compatMode||"")==="CSS1Compat";return D?window.pageYOffset:ue?document.documentElement.scrollTop:document.body.scrollTop},I=function(O){var V=O.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollWidth-V.offsetWidth;var D=document.body,ue=document.documentElement;return Math.max(D.scrollWidth,D.offsetWidth,ue.clientWidth,ue.scrollWidth,ue.offsetWidth)},N=function(O){var V=O.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollHeight-V.offsetHeight;var D=document.body,ue=document.documentElement;return Math.max(D.scrollHeight,D.offsetHeight,ue.clientHeight,ue.scrollHeight,ue.offsetHeight)},F=function M(O,V,D){var ue=V.data;if(!V.ignoreCancelEvents&&ue.cancel){d.default.registered.end&&d.default.registered.end(ue.to,ue.target,ue.currentPositionY);return}if(ue.delta=Math.round(ue.targetPosition-ue.startPosition),ue.start===null&&(ue.start=D),ue.progress=D-ue.start,ue.percent=ue.progress>=ue.duration?1:O(ue.progress/ue.duration),ue.currentPosition=ue.startPosition+Math.ceil(ue.delta*ue.percent),ue.containerElement&&ue.containerElement!==document&&ue.containerElement!==document.body?V.horizontal?ue.containerElement.scrollLeft=ue.currentPosition:ue.containerElement.scrollTop=ue.currentPosition:V.horizontal?window.scrollTo(ue.currentPosition,0):window.scrollTo(0,ue.currentPosition),ue.percent<1){var Ne=M.bind(null,O,V);w.call(window,Ne);return}d.default.registered.end&&d.default.registered.end(ue.to,ue.target,ue.currentPosition)},U=function(O){O.data.containerElement=O?O.containerId?document.getElementById(O.containerId):O.container&&O.container.nodeType?O.container:document:null},Y=function(O,V,D,ue){V.data=V.data||x(),window.clearTimeout(V.data.delayTimeout);var Ne=function(){V.data.cancel=!0};if(a.default.subscribe(Ne),U(V),V.data.start=null,V.data.cancel=!1,V.data.startPosition=V.horizontal?P(V):b(V),V.data.targetPosition=V.absolute?O:O+V.data.startPosition,V.data.startPosition===V.data.targetPosition){d.default.registered.end&&d.default.registered.end(V.data.to,V.data.target,V.data.currentPosition);return}V.data.delta=Math.round(V.data.targetPosition-V.data.startPosition),V.data.duration=g(V.duration)(V.data.delta),V.data.duration=isNaN(parseFloat(V.data.duration))?1e3:parseFloat(V.data.duration),V.data.to=D,V.data.target=ue;var Ge=p(V),Pe=F.bind(null,Ge,V);if(V&&V.delay>0){V.data.delayTimeout=window.setTimeout(function(){d.default.registered.begin&&d.default.registered.begin(V.data.to,V.data.target),w.call(window,Pe)},V.delay);return}d.default.registered.begin&&d.default.registered.begin(V.data.to,V.data.target),w.call(window,Pe)},L=function(O){return O=t({},O),O.data=O.data||x(),O.absolute=!0,O},K=function(O){Y(0,L(O))},k=function(O,V){Y(O,L(V))},C=function(O){O=L(O),U(O),Y(O.horizontal?I(O):N(O),O)},R=function(O,V){V=L(V),U(V);var D=V.horizontal?P(V):b(V);Y(O+D,V)};return vc.default={animateTopScroll:Y,getAnimationType:p,scrollToTop:K,scrollToBottom:C,scrollTo:k,scrollMore:R},vc}var l0;function Sd(){if(l0)return gc;l0=1,Object.defineProperty(gc,"__esModule",{value:!0});var t=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var w=arguments[y];for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(g[x]=w[x])}return g},e=Td(),n=d(e),i=o1(),o=d(i),a=Jp(),u=d(a);function d(g){return g&&g.__esModule?g:{default:g}}var f={},p=void 0;return gc.default={unmount:function(){f={}},register:function(y,w){f[y]=w},unregister:function(y){delete f[y]},get:function(y){return f[y]||document.getElementById(y)||document.getElementsByName(y)[0]||document.getElementsByClassName(y)[0]},setActiveLink:function(y){return p=y},getActiveLink:function(){return p},scrollTo:function(y,w){var x=this.get(y);if(!x){console.warn("target Element not found");return}w=t({},w,{absolute:!1});var P=w.containerId,b=w.container,I=void 0;P?I=document.getElementById(P):b&&b.nodeType?I=b:I=document,w.absolute=!0;var N=w.horizontal,F=n.default.scrollOffset(I,x,N)+(w.offset||0);if(!w.smooth){u.default.registered.begin&&u.default.registered.begin(y,x),I===document?w.horizontal?window.scrollTo(F,0):window.scrollTo(0,F):I.scrollTop=F,u.default.registered.end&&u.default.registered.end(y,x);return}o.default.animateTopScroll(F,w,y,x)}},gc}var Cf={exports:{}},Af,u0;function DP(){if(u0)return Af;u0=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Af=t,Af}var If,c0;function VP(){if(c0)return If;c0=1;var t=DP();function e(){}function n(){}return n.resetWarningCache=e,If=function(){function i(u,d,f,p,g,y){if(y!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},If}var d0;function Pd(){return d0||(d0=1,Cf.exports=VP()()),Cf.exports}var xc={},h0;function a1(){if(h0)return xc;h0=1,Object.defineProperty(xc,"__esModule",{value:!0}),Yp();var t=Td(),e=n(t);function n(o){return o&&o.__esModule?o:{default:o}}var i={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(a){this.scroller=a,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(a,u){this.containers[a]=u},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var a=this,u=this.getHash();u?window.setTimeout(function(){a.scrollTo(u,!0),a.initialized=!0},10):this.initialized=!0},scrollTo:function(a,u){var d=this.scroller,f=d.get(a);if(f&&(u||a!==d.getActiveLink())){var p=this.containers[a]||document;d.scrollTo(a,{container:p})}},getHash:function(){return e.default.getHash()},changeHash:function(a,u){this.isInitialized()&&e.default.getHash()!==a&&e.default.updateHash(a,u)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return xc.default=i,xc}var f0;function Zp(){if(f0)return pc;f0=1,Object.defineProperty(pc,"__esModule",{value:!0});var t=Object.assign||function(N){for(var F=1;F<arguments.length;F++){var U=arguments[F];for(var Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&(N[Y]=U[Y])}return N},e=function(){function N(F,U){for(var Y=0;Y<U.length;Y++){var L=U[Y];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(F,L.key,L)}}return function(F,U,Y){return U&&N(F.prototype,U),Y&&N(F,Y),F}}(),n=Ni(),i=w(n),o=Xp(),a=w(o),u=Sd(),d=w(u),f=Pd(),p=w(f),g=a1(),y=w(g);function w(N){return N&&N.__esModule?N:{default:N}}function x(N,F){if(!(N instanceof F))throw new TypeError("Cannot call a class as a function")}function P(N,F){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:N}function b(N,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}var I={to:p.default.string.isRequired,containerId:p.default.string,container:p.default.object,activeClass:p.default.string,activeStyle:p.default.object,spy:p.default.bool,horizontal:p.default.bool,smooth:p.default.oneOfType([p.default.bool,p.default.string]),offset:p.default.number,delay:p.default.number,isDynamic:p.default.bool,onClick:p.default.func,duration:p.default.oneOfType([p.default.number,p.default.func]),absolute:p.default.bool,onSetActive:p.default.func,onSetInactive:p.default.func,ignoreCancelEvents:p.default.bool,hashSpy:p.default.bool,saveHashHistory:p.default.bool,spyThrottle:p.default.number};return pc.default=function(N,F){var U=F||d.default,Y=function(K){b(k,K);function k(C){x(this,k);var R=P(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C));return L.call(R),R.state={active:!1},R}return e(k,[{key:"getScrollSpyContainer",value:function(){var R=this.props.containerId,M=this.props.container;return R&&!M?document.getElementById(R):M&&M.nodeType?M:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var R=this.getScrollSpyContainer();a.default.isMounted(R)||a.default.mount(R,this.props.spyThrottle),this.props.hashSpy&&(y.default.isMounted()||y.default.mount(U),y.default.mapContainer(this.props.to,R)),a.default.addSpyHandler(this.spyHandler,R),this.setState({container:R})}}},{key:"componentWillUnmount",value:function(){a.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var R="";this.state&&this.state.active?R=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():R=this.props.className;var M={};this.state&&this.state.active?M=t({},this.props.style,this.props.activeStyle):M=t({},this.props.style);var O=t({},this.props);for(var V in I)O.hasOwnProperty(V)&&delete O[V];return O.className=R,O.style=M,O.onClick=this.handleClick,i.default.createElement(N,O)}}]),k}(i.default.PureComponent),L=function(){var k=this;this.scrollTo=function(C,R){U.scrollTo(C,t({},k.state,R))},this.handleClick=function(C){k.props.onClick&&k.props.onClick(C),C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault(),k.scrollTo(k.props.to,k.props)},this.spyHandler=function(C,R){var M=k.getScrollSpyContainer();if(!(y.default.isMounted()&&!y.default.isInitialized())){var O=k.props.horizontal,V=k.props.to,D=null,ue=void 0,Ne=void 0;if(O){var Ge=0,Pe=0,se=0;if(M.getBoundingClientRect){var me=M.getBoundingClientRect();se=me.left}if(!D||k.props.isDynamic){if(D=U.get(V),!D)return;var de=D.getBoundingClientRect();Ge=de.left-se+C,Pe=Ge+de.width}var W=C-k.props.offset;ue=W>=Math.floor(Ge)&&W<Math.floor(Pe),Ne=W<Math.floor(Ge)||W>=Math.floor(Pe)}else{var te=0,ge=0,Me=0;if(M.getBoundingClientRect){var Le=M.getBoundingClientRect();Me=Le.top}if(!D||k.props.isDynamic){if(D=U.get(V),!D)return;var We=D.getBoundingClientRect();te=We.top-Me+R,ge=te+We.height}var $e=R-k.props.offset;ue=$e>=Math.floor(te)&&$e<Math.floor(ge),Ne=$e<Math.floor(te)||$e>=Math.floor(ge)}var Ie=U.getActiveLink();if(Ne){if(V===Ie&&U.setActiveLink(void 0),k.props.hashSpy&&y.default.getHash()===V){var Re=k.props.saveHashHistory,rt=Re===void 0?!1:Re;y.default.changeHash("",rt)}k.props.spy&&k.state.active&&(k.setState({active:!1}),k.props.onSetInactive&&k.props.onSetInactive(V,D))}if(ue&&(Ie!==V||k.state.active===!1)){U.setActiveLink(V);var Wt=k.props.saveHashHistory,Or=Wt===void 0?!1:Wt;k.props.hashSpy&&y.default.changeHash(V,Or),k.props.spy&&(k.setState({active:!0}),k.props.onSetActive&&k.props.onSetActive(V,D))}}}};return Y.propTypes=I,Y.defaultProps={offset:0},Y},pc}var p0;function MP(){if(p0)return fc;p0=1,Object.defineProperty(fc,"__esModule",{value:!0});var t=Ni(),e=o(t),n=Zp(),i=o(n);function o(p){return p&&p.__esModule?p:{default:p}}function a(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function u(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function d(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var f=function(p){d(g,p);function g(){var y,w,x,P;a(this,g);for(var b=arguments.length,I=Array(b),N=0;N<b;N++)I[N]=arguments[N];return P=(w=(x=u(this,(y=g.__proto__||Object.getPrototypeOf(g)).call.apply(y,[this].concat(I))),x),x.render=function(){return e.default.createElement("a",x.props,x.props.children)},w),u(x,P)}return g}(e.default.Component);return fc.default=(0,i.default)(f),fc}var Tc={},m0;function LP(){if(m0)return Tc;m0=1,Object.defineProperty(Tc,"__esModule",{value:!0});var t=function(){function g(y,w){for(var x=0;x<w.length;x++){var P=w[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,w,x){return w&&g(y.prototype,w),x&&g(y,x),y}}(),e=Ni(),n=a(e),i=Zp(),o=a(i);function a(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(g){f(y,g);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return t(y,[{key:"render",value:function(){return n.default.createElement("button",this.props,this.props.children)}}]),y}(n.default.Component);return Tc.default=(0,o.default)(p),Tc}var Sc={},Pc={},g0;function l1(){if(g0)return Pc;g0=1,Object.defineProperty(Pc,"__esModule",{value:!0});var t=Object.assign||function(x){for(var P=1;P<arguments.length;P++){var b=arguments[P];for(var I in b)Object.prototype.hasOwnProperty.call(b,I)&&(x[I]=b[I])}return x},e=function(){function x(P,b){for(var I=0;I<b.length;I++){var N=b[I];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,b,I){return b&&x(P.prototype,b),I&&x(P,I),P}}(),n=Ni(),i=p(n),o=_d();p(o);var a=Sd(),u=p(a),d=Pd(),f=p(d);function p(x){return x&&x.__esModule?x:{default:x}}function g(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}function y(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:x}function w(x,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}return Pc.default=function(x){var P=function(b){w(I,b);function I(N){g(this,I);var F=y(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N));return F.childBindings={domNode:null},F}return e(I,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(F){this.props.name!==F.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;u.default.unregister(this.props.name)}},{key:"registerElems",value:function(F){u.default.register(F,this.childBindings.domNode)}},{key:"render",value:function(){return i.default.createElement(x,t({},this.props,{parentBindings:this.childBindings}))}}]),I}(i.default.Component);return P.propTypes={name:f.default.string,id:f.default.string},P},Pc}var y0;function OP(){if(y0)return Sc;y0=1,Object.defineProperty(Sc,"__esModule",{value:!0});var t=Object.assign||function(x){for(var P=1;P<arguments.length;P++){var b=arguments[P];for(var I in b)Object.prototype.hasOwnProperty.call(b,I)&&(x[I]=b[I])}return x},e=function(){function x(P,b){for(var I=0;I<b.length;I++){var N=b[I];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,b,I){return b&&x(P.prototype,b),I&&x(P,I),P}}(),n=Ni(),i=f(n),o=l1(),a=f(o),u=Pd(),d=f(u);function f(x){return x&&x.__esModule?x:{default:x}}function p(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}function g(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:x}function y(x,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}var w=function(x){y(P,x);function P(){return p(this,P),g(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return e(P,[{key:"render",value:function(){var I=this,N=t({},this.props);return delete N.name,N.parentBindings&&delete N.parentBindings,i.default.createElement("div",t({},N,{ref:function(U){I.props.parentBindings.domNode=U}}),this.props.children)}}]),P}(i.default.Component);return w.propTypes={name:d.default.string,id:d.default.string},Sc.default=(0,a.default)(w),Sc}var Rf,v0;function jP(){if(v0)return Rf;v0=1;var t=Object.assign||function(w){for(var x=1;x<arguments.length;x++){var P=arguments[x];for(var b in P)Object.prototype.hasOwnProperty.call(P,b)&&(w[b]=P[b])}return w},e=function(){function w(x,P){for(var b=0;b<P.length;b++){var I=P[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}}return function(x,P,b){return P&&w(x.prototype,P),b&&w(x,b),x}}();function n(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function i(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function o(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var a=Ni();_d(),Td();var u=Xp(),d=Sd(),f=Pd(),p=a1(),g={to:f.string.isRequired,containerId:f.string,container:f.object,activeClass:f.string,spy:f.bool,smooth:f.oneOfType([f.bool,f.string]),offset:f.number,delay:f.number,isDynamic:f.bool,onClick:f.func,duration:f.oneOfType([f.number,f.func]),absolute:f.bool,onSetActive:f.func,onSetInactive:f.func,ignoreCancelEvents:f.bool,hashSpy:f.bool,spyThrottle:f.number},y={Scroll:function(x,P){console.warn("Helpers.Scroll is deprecated since v1.7.0");var b=P||d,I=function(F){o(U,F);function U(Y){n(this,U);var L=i(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Y));return N.call(L),L.state={active:!1},L}return e(U,[{key:"getScrollSpyContainer",value:function(){var L=this.props.containerId,K=this.props.container;return L?document.getElementById(L):K&&K.nodeType?K:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var L=this.getScrollSpyContainer();u.isMounted(L)||u.mount(L,this.props.spyThrottle),this.props.hashSpy&&(p.isMounted()||p.mount(b),p.mapContainer(this.props.to,L)),this.props.spy&&u.addStateHandler(this.stateHandler),u.addSpyHandler(this.spyHandler,L),this.setState({container:L})}}},{key:"componentWillUnmount",value:function(){u.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var L="";this.state&&this.state.active?L=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():L=this.props.className;var K=t({},this.props);for(var k in g)K.hasOwnProperty(k)&&delete K[k];return K.className=L,K.onClick=this.handleClick,a.createElement(x,K)}}]),U}(a.Component),N=function(){var U=this;this.scrollTo=function(Y,L){b.scrollTo(Y,t({},U.state,L))},this.handleClick=function(Y){U.props.onClick&&U.props.onClick(Y),Y.stopPropagation&&Y.stopPropagation(),Y.preventDefault&&Y.preventDefault(),U.scrollTo(U.props.to,U.props)},this.stateHandler=function(){b.getActiveLink()!==U.props.to&&(U.state!==null&&U.state.active&&U.props.onSetInactive&&U.props.onSetInactive(),U.setState({active:!1}))},this.spyHandler=function(Y){var L=U.getScrollSpyContainer();if(!(p.isMounted()&&!p.isInitialized())){var K=U.props.to,k=null,C=0,R=0,M=0;if(L.getBoundingClientRect){var O=L.getBoundingClientRect();M=O.top}if(!k||U.props.isDynamic){if(k=b.get(K),!k)return;var V=k.getBoundingClientRect();C=V.top-M+Y,R=C+V.height}var D=Y-U.props.offset,ue=D>=Math.floor(C)&&D<Math.floor(R),Ne=D<Math.floor(C)||D>=Math.floor(R),Ge=b.getActiveLink();if(Ne)return K===Ge&&b.setActiveLink(void 0),U.props.hashSpy&&p.getHash()===K&&p.changeHash(),U.props.spy&&U.state.active&&(U.setState({active:!1}),U.props.onSetInactive&&U.props.onSetInactive()),u.updateStates();if(ue&&Ge!==K)return b.setActiveLink(K),U.props.hashSpy&&p.changeHash(K),U.props.spy&&(U.setState({active:!0}),U.props.onSetActive&&U.props.onSetActive(K)),u.updateStates()}}};return I.propTypes=g,I.defaultProps={offset:0},I},Element:function(x){console.warn("Helpers.Element is deprecated since v1.7.0");var P=function(b){o(I,b);function I(N){n(this,I);var F=i(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N));return F.childBindings={domNode:null},F}return e(I,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(F){this.props.name!==F.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;d.unregister(this.props.name)}},{key:"registerElems",value:function(F){d.register(F,this.childBindings.domNode)}},{key:"render",value:function(){return a.createElement(x,t({},this.props,{parentBindings:this.childBindings}))}}]),I}(a.Component);return P.propTypes={name:f.string,id:f.string},P}};return Rf=y,Rf}var _0;function FP(){if(_0)return Tt;_0=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.Helpers=Tt.ScrollElement=Tt.ScrollLink=Tt.animateScroll=Tt.scrollSpy=Tt.Events=Tt.scroller=Tt.Element=Tt.Button=Tt.Link=void 0;var t=MP(),e=Y(t),n=LP(),i=Y(n),o=OP(),a=Y(o),u=Sd(),d=Y(u),f=Jp(),p=Y(f),g=Xp(),y=Y(g),w=o1(),x=Y(w),P=Zp(),b=Y(P),I=l1(),N=Y(I),F=jP(),U=Y(F);function Y(L){return L&&L.__esModule?L:{default:L}}return Tt.Link=e.default,Tt.Button=i.default,Tt.Element=a.default,Tt.scroller=d.default,Tt.Events=p.default,Tt.scrollSpy=y.default,Tt.animateScroll=x.default,Tt.ScrollLink=b.default,Tt.ScrollElement=N.default,Tt.Helpers=U.default,Tt.default={Link:e.default,Button:i.default,Element:a.default,scroller:d.default,Events:p.default,scrollSpy:y.default,animateScroll:x.default,ScrollLink:b.default,ScrollElement:N.default,Helpers:U.default},Tt}var _l=FP(),u1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w0=Pi.createContext&&Pi.createContext(u1),BP=["attr","size","title"];function UP(t,e){if(t==null)return{};var n=zP(t,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function zP(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jc.apply(this,arguments)}function E0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E0(Object(n),!0).forEach(function(i){$P(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $P(t,e,n){return e=HP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HP(t){var e=WP(t,"string");return typeof e=="symbol"?e:e+""}function WP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c1(t){return t&&t.map((e,n)=>Pi.createElement(e.tag,Zc({key:n},e.attr),c1(e.child)))}function dr(t){return e=>Pi.createElement(qP,Jc({attr:Zc({},t.attr)},e),c1(t.child))}function qP(t){var e=n=>{var{attr:i,size:o,title:a}=t,u=UP(t,BP),d=o||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Pi.createElement("svg",Jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:f,style:Zc(Zc({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Pi.createElement("title",null,a),t.children)};return w0!==void 0?Pi.createElement(w0.Consumer,null,n=>e(n)):e(u1)}function KP(t){return dr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function GP(t){return dr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Rl="/assets/PRM_Logo-removebg-preview-KUFNzN7f.png",QP=()=>{const[t,e]=B.useState(!1),[n,i]=B.useState(!0),[o,a]=B.useState(0),u="Prajñā Package: 💰 Original Price Rs. 614/- | 🔥 Discounted Price Rs. 449/-| Prameya Package: 💰 Original Price Rs. 974/- | 💥 Discounted Price Rs. 699/- | 📚 6 Workshops | ";B.useEffect(()=>{const f=()=>{const p=window.scrollY;i(p<=o),a(p)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[o]);const d=[{title:"About Us",link:"about-us"},{title:"Books",link:"books"},{title:"Workshops",link:"workshops"},{title:"Gallery",link:"gallery"},{title:"Lets Collaborate",link:"collaborate"},{title:"Contact",link:"contact"}];return T.jsxs("header",{className:`fixed w-full z-50 bg-white shadow-md transition-transform duration-500 ${n?"translate-y-0 ":"-translate-y-full  "}`,children:[T.jsx("div",{className:"w-full bg-blue-600 hover:bg-orange-600 text-white text-center p-2 cursor-pointer text-sm overflow-hidden",children:T.jsx(_l.Link,{to:"workshops",smooth:!0,duration:500,offset:-80,children:T.jsx("div",{className:"inline-block animate-running-text whitespace-nowrap",children:u.repeat(3)})})}),T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 relative",children:[T.jsxs("div",{className:"flex justify-between items-center py-4",children:[T.jsx("div",{className:"flex items-center",children:T.jsx(Qp,{to:"/owner-data",children:T.jsx("img",{src:Rl,alt:"PRM Logo",className:"h-14 w-auto"})})}),T.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:d.map((f,p)=>T.jsx(_l.Link,{to:f.link,smooth:!0,duration:500,offset:-80,className:"text-gray-700 hover:text-orange-600 font-medium transition-colors duration-300 text-sm uppercase tracking-wide",children:f.title},p))}),T.jsx("div",{className:"md:hidden absolute right-0 top-1/2 -translate-y-1/2",children:T.jsx("button",{onClick:()=>e(!t),className:"text-gray-500 hover:text-gray-600 p-3 z-60",children:t?T.jsx(GP,{size:28}):T.jsx(KP,{size:28})})})]}),t&&T.jsx("div",{className:"md:hidden absolute top-full left-0 w-full bg-white shadow-lg",children:T.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:d.map((f,p)=>T.jsx(_l.Link,{to:f.link,smooth:!0,duration:500,offset:-80,className:"block px-3 py-2 text-gray-700 hover:text-blue-600 font-medium",onClick:()=>e(!1),children:f.title},p))})})]})]})},em=B.createContext({});function tm(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cd=B.createContext(null),nm=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class YP extends B.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function XP({children:t,isPresent:e}){const n=B.useId(),i=B.useRef(null),o=B.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=B.useContext(nm);return B.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p}=o.current;if(e||!i.current||!u||!d)return;i.current.dataset.motionPopId=n;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),T.jsx(YP,{isPresent:e,childRef:i,sizeRef:o,children:B.cloneElement(t,{ref:i})})}const JP=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:u})=>{const d=tm(ZP),f=B.useId(),p=B.useCallback(y=>{d.set(y,!0);for(const w of d.values())if(!w)return;i&&i()},[d,i]),g=B.useMemo(()=>({id:f,initial:e,isPresent:n,custom:o,onExitComplete:p,register:y=>(d.set(y,!1),()=>d.delete(y))}),a?[Math.random(),p]:[n,p]);return B.useMemo(()=>{d.forEach((y,w)=>d.set(w,!1))},[n]),B.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),u==="popLayout"&&(t=T.jsx(XP,{isPresent:n,children:t})),T.jsx(Cd.Provider,{value:g,children:t})};function ZP(){return new Map}function d1(t=!0){const e=B.useContext(Cd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=B.useId();B.useEffect(()=>{t&&o(a)},[t]);const u=B.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const Cc=t=>t.key||"";function x0(t){const e=[];return B.Children.forEach(t,n=>{B.isValidElement(n)&&e.push(n)}),e}const rm=typeof window<"u",h1=rm?B.useLayoutEffect:B.useEffect,Zf=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1})=>{const[d,f]=d1(u),p=B.useMemo(()=>x0(t),[t]),g=u&&!d?[]:p.map(Cc),y=B.useRef(!0),w=B.useRef(p),x=tm(()=>new Map),[P,b]=B.useState(p),[I,N]=B.useState(p);h1(()=>{y.current=!1,w.current=p;for(let Y=0;Y<I.length;Y++){const L=Cc(I[Y]);g.includes(L)?x.delete(L):x.get(L)!==!0&&x.set(L,!1)}},[I,g.length,g.join("-")]);const F=[];if(p!==P){let Y=[...p];for(let L=0;L<I.length;L++){const K=I[L],k=Cc(K);g.includes(k)||(Y.splice(L,0,K),F.push(K))}a==="wait"&&F.length&&(Y=F),N(x0(Y)),b(p);return}const{forceRender:U}=B.useContext(em);return T.jsx(T.Fragment,{children:I.map(Y=>{const L=Cc(Y),K=u&&!d?!1:p===I||g.includes(L),k=()=>{if(x.has(L))x.set(L,!0);else return;let C=!0;x.forEach(R=>{R||(C=!1)}),C&&(U==null||U(),N(w.current),u&&(f==null||f()),i&&i())};return T.jsx(JP,{isPresent:K,initial:!y.current||n?void 0:!1,custom:K?void 0:e,presenceAffectsLayout:o,mode:a,onExitComplete:K?void 0:k,children:Y},L)})})},Yn=t=>t;let ep=Yn;function im(t){let e;return()=>(e===void 0&&(e=t()),e)}const ua=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ci=t=>t*1e3,Ai=t=>t/1e3,eC={skipAnimations:!1,useManualTiming:!1};function tC(t){let e=new Set,n=new Set,i=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(f.schedule(p),t()),p(u)}const f={schedule:(p,g=!1,y=!1)=>{const x=y&&i?e:n;return g&&a.add(p),x.has(p)||x.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(u=p,i){o=!0;return}i=!0,[e,n]=[n,e],e.forEach(d),e.clear(),i=!1,o&&(o=!1,f.process(p))}};return f}const Ac=["read","resolveKeyframes","update","preRender","render","postRender"],nC=40;function f1(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Ac.reduce((N,F)=>(N[F]=tC(a),N),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:y,postRender:w}=u,x=()=>{const N=performance.now();n=!1,o.delta=i?1e3/60:Math.max(Math.min(N-o.timestamp,nC),1),o.timestamp=N,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),g.process(o),y.process(o),w.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(x))},P=()=>{n=!0,i=!0,o.isProcessing||t(x)};return{schedule:Ac.reduce((N,F)=>{const U=u[F];return N[F]=(Y,L=!1,K=!1)=>(n||P(),U.schedule(Y,L,K)),N},{}),cancel:N=>{for(let F=0;F<Ac.length;F++)u[Ac[F]].cancel(N)},state:o,steps:u}}const{schedule:wt,cancel:_s,state:on,steps:kf}=f1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0),p1=B.createContext({strict:!1}),T0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ca={};for(const t in T0)ca[t]={isEnabled:e=>T0[t].some(n=>!!e[n])};function rC(t){for(const e in t)ca[e]={...ca[e],...t[e]}}const iC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iC.has(t)}let m1=t=>!ed(t);function sC(t){t&&(m1=e=>e.startsWith("on")?!ed(e):t(e))}try{sC(require("@emotion/is-prop-valid").default)}catch{}function oC(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(m1(o)||n===!0&&ed(o)||!e&&!ed(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}function aC(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Ad=B.createContext({});function kl(t){return typeof t=="string"||Array.isArray(t)}function Id(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const sm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],om=["initial",...sm];function Rd(t){return Id(t.animate)||om.some(e=>kl(t[e]))}function g1(t){return!!(Rd(t)||t.variants)}function lC(t,e){if(Rd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||kl(n)?n:void 0,animate:kl(i)?i:void 0}}return t.inherit!==!1?e:{}}function uC(t){const{initial:e,animate:n}=lC(t,B.useContext(Ad));return B.useMemo(()=>({initial:e,animate:n}),[S0(e),S0(n)])}function S0(t){return Array.isArray(t)?t.join(" "):t}const cC=Symbol.for("motionComponentSymbol");function na(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dC(t,e,n){return B.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):na(n)&&(n.current=i))},[e])}const am=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hC="framerAppearId",y1="data-"+am(hC),{schedule:lm,cancel:CM}=f1(queueMicrotask,!1),v1=B.createContext({});function fC(t,e,n,i,o){var a,u;const{visualElement:d}=B.useContext(Ad),f=B.useContext(p1),p=B.useContext(Cd),g=B.useContext(nm).reducedMotion,y=B.useRef(null);i=i||f.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=y.current,x=B.useContext(v1);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&pC(y.current,n,o,x);const P=B.useRef(!1);B.useInsertionEffect(()=>{w&&P.current&&w.update(n,p)});const b=n[y1],I=B.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,b)));return h1(()=>{w&&(P.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),lm.render(w.render),I.current&&w.animationState&&w.animationState.animateChanges())}),B.useEffect(()=>{w&&(!I.current&&w.animationState&&w.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,b)}),I.current=!1))}),w}function pC(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_1(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&na(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}function _1(t){if(t)return t.options.allowProjection!==!1?t.projection:_1(t.parent)}function mC({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:o}){var a,u;t&&rC(t);function d(p,g){let y;const w={...B.useContext(nm),...p,layoutId:gC(p)},{isStatic:x}=w,P=uC(p),b=i(p,x);if(!x&&rm){yC();const I=vC(w);y=I.MeasureLayout,P.visualElement=fC(o,b,w,e,I.ProjectionNode)}return T.jsxs(Ad.Provider,{value:P,children:[y&&P.visualElement?T.jsx(y,{visualElement:P.visualElement,...w}):null,n(o,p,dC(b,P.visualElement,g),b,x,P.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=B.forwardRef(d);return f[cC]=o,f}function gC({layoutId:t}){const e=B.useContext(em).id;return e&&t!==void 0?e+"-"+t:t}function yC(t,e){B.useContext(p1).strict}function vC(t){const{drag:e,layout:n}=ca;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const _C=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function um(t){return typeof t!="string"||t.includes("-")?!1:!!(_C.indexOf(t)>-1||/[A-Z]/u.test(t))}function P0(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function cm(t,e,n,i){if(typeof e=="function"){const[o,a]=P0(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=P0(i);e=e(n!==void 0?n:t.custom,o,a)}return e}const tp=t=>Array.isArray(t),wC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),EC=t=>tp(t)?t[t.length-1]||0:t,Tn=t=>!!(t&&t.getVelocity);function Fc(t){const e=Tn(t)?t.get():t;return wC(e)?e.toValue():e}function xC({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,o,a){const u={latestValues:TC(i,o,a,t),renderState:e()};return n&&(u.onMount=d=>n({props:i,current:d,...u}),u.onUpdate=d=>n(d)),u}const w1=t=>(e,n)=>{const i=B.useContext(Ad),o=B.useContext(Cd),a=()=>xC(t,e,i,o);return n?a():tm(a)};function TC(t,e,n,i){const o={},a=i(t,{});for(const w in a)o[w]=Fc(a[w]);let{initial:u,animate:d}=t;const f=Rd(t),p=g1(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!Id(y)){const w=Array.isArray(y)?y:[y];for(let x=0;x<w.length;x++){const P=cm(t,w[x]);if(P){const{transitionEnd:b,transition:I,...N}=P;for(const F in N){let U=N[F];if(Array.isArray(U)){const Y=g?U.length-1:0;U=U[Y]}U!==null&&(o[F]=U)}for(const F in b)o[F]=b[F]}}}return o}const wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uo=new Set(wa),E1=t=>e=>typeof e=="string"&&e.startsWith(t),x1=E1("--"),SC=E1("var(--"),dm=t=>SC(t)?PC.test(t.split("/*")[0].trim()):!1,PC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,T1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ii=(t,e,n)=>n>e?e:n<t?t:n,Ea={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bl={...Ea,transform:t=>Ii(0,1,t)},Ic={...Ea,default:1},ql=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cs=ql("deg"),ei=ql("%"),Oe=ql("px"),CC=ql("vh"),AC=ql("vw"),C0={...ei,parse:t=>ei.parse(t)/100,transform:t=>ei.transform(t*100)},IC={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe},RC={rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:Ic,scaleX:Ic,scaleY:Ic,scaleZ:Ic,skew:cs,skewX:cs,skewY:cs,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:bl,originX:C0,originY:C0,originZ:Oe},A0={...Ea,transform:Math.round},hm={...IC,...RC,zIndex:A0,size:Oe,fillOpacity:bl,strokeOpacity:bl,numOctaves:A0},kC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bC=wa.length;function NC(t,e,n){let i="",o=!0;for(let a=0;a<bC;a++){const u=wa[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=T1(d,hm[u]);if(!f){o=!1;const g=kC[u]||u;i+=`${g}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function fm(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(uo.has(f)){u=!0;continue}else if(x1(f)){o[f]=p;continue}else{const g=T1(p,hm[f]);f.startsWith("origin")?(d=!0,a[f]=g):i[f]=g}}if(e.transform||(u||n?i.transform=NC(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${p} ${g}`}}const DC={offset:"stroke-dashoffset",array:"stroke-dasharray"},VC={offset:"strokeDashoffset",array:"strokeDasharray"};function MC(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?DC:VC;t[a.offset]=Oe.transform(-i);const u=Oe.transform(e),d=Oe.transform(n);t[a.array]=`${u} ${d}`}function I0(t,e,n){return typeof t=="string"?t:Oe.transform(e+n*t)}function LC(t,e,n){const i=I0(e,t.x,t.width),o=I0(n,t.y,t.height);return`${i} ${o}`}function pm(t,{attrX:e,attrY:n,attrScale:i,originX:o,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...p},g,y){if(fm(t,p,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:x,dimensions:P}=t;w.transform&&(P&&(x.transform=w.transform),delete w.transform),P&&(o!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=LC(P,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),u!==void 0&&MC(w,u,d,f,!1)}const mm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),S1=()=>({...mm(),attrs:{}}),gm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function P1(t,{style:e,vars:n},i,o){Object.assign(t.style,e,o&&o.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const C1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A1(t,e,n,i){P1(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(C1.has(o)?o:am(o),e.attrs[o])}const td={};function OC(t){Object.assign(td,t)}function I1(t,{layout:e,layoutId:n}){return uo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!td[t]||t==="opacity")}function ym(t,e,n){var i;const{style:o}=t,a={};for(const u in o)(Tn(o[u])||e.style&&Tn(e.style[u])||I1(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[u]=o[u]);return a}function R1(t,e,n){const i=ym(t,e,n);for(const o in t)if(Tn(t[o])||Tn(e[o])){const a=wa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}function jC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const R0=["x","y","width","height","cx","cy","r"],FC={useVisualState:w1({scrapeMotionValuesFromProps:R1,createRenderState:S1,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:o})=>{if(!n)return;let a=!!t.drag;if(!a){for(const d in o)if(uo.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<R0.length;d++){const f=R0[d];t[f]!==e[f]&&(u=!0)}u&&wt.read(()=>{jC(n,i),wt.render(()=>{pm(i,o,gm(n.tagName),t.transformTemplate),A1(n,i)})})}})},BC={useVisualState:w1({scrapeMotionValuesFromProps:ym,createRenderState:mm})};function k1(t,e,n){for(const i in e)!Tn(e[i])&&!I1(i,n)&&(t[i]=e[i])}function UC({transformTemplate:t},e){return B.useMemo(()=>{const n=mm();return fm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zC(t,e){const n=t.style||{},i={};return k1(i,n,t),Object.assign(i,UC(t,e)),i}function $C(t,e){const n={},i=zC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function HC(t,e,n,i){const o=B.useMemo(()=>{const a=S1();return pm(a,e,gm(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};k1(a,t.style,t),o.style={...a,...o.style}}return o}function WC(t=!1){return(n,i,o,{latestValues:a},u)=>{const f=(um(n)?HC:$C)(i,a,u,n),p=oC(i,typeof n=="string",t),g=n!==B.Fragment?{...p,...f,ref:o}:{},{children:y}=i,w=B.useMemo(()=>Tn(y)?y.get():y,[y]);return B.createElement(n,{...g,children:w})}}function qC(t,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...um(i)?FC:BC,preloadedFeatures:t,useRender:WC(o),createVisualElement:e,Component:i};return mC(u)}}function b1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function kd(t,e,n){const i=t.getProps();return cm(i,e,n!==void 0?n:i.custom,t)}const KC=im(()=>window.ScrollTimeline!==void 0);class GC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(o=>{if(KC()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{i.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class QC extends GC{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function vm(t,e){return t?t[e]||t.default||t:void 0}const np=2e4;function N1(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<np;)e+=n,i=t.next(e);return e>=np?1/0:e}function _m(t){return typeof t=="function"}function k0(t,e){t.timeline=e,t.onfinish=null}const wm=t=>Array.isArray(t)&&typeof t[0]=="number",YC={linearEasing:void 0};function XC(t,e){const n=im(t);return()=>{var i;return(i=YC[e])!==null&&i!==void 0?i:n()}}const nd=XC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),D1=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=t(ua(0,o-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function V1(t){return!!(typeof t=="function"&&nd()||!t||typeof t=="string"&&(t in rp||nd())||wm(t)||Array.isArray(t)&&t.every(V1))}const fl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,rp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fl([0,.65,.55,1]),circOut:fl([.55,0,1,.45]),backIn:fl([.31,.01,.66,-.59]),backOut:fl([.33,1.53,.69,.99])};function M1(t,e){if(t)return typeof t=="function"&&nd()?D1(t,e):wm(t)?fl(t):Array.isArray(t)?t.map(n=>M1(n,e)||rp.easeOut):rp[t]}const br={x:!1,y:!1};function L1(){return br.x||br.y}function JC(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const a=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function O1(t,e){const n=JC(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function b0(t){return e=>{e.pointerType==="touch"||L1()||t(e)}}function ZC(t,e,n={}){const[i,o,a]=O1(t,n),u=b0(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const g=b0(y=>{p(y),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,o)});return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const j1=(t,e)=>e?t===e?!0:j1(t,e.parentElement):!1,Em=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tA(t){return eA.has(t.tagName)||t.tabIndex!==-1}const pl=new WeakSet;function N0(t){return e=>{e.key==="Enter"&&t(e)}}function bf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nA=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=N0(()=>{if(pl.has(n))return;bf(n,"down");const o=N0(()=>{bf(n,"up")}),a=()=>bf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function D0(t){return Em(t)&&!L1()}function rA(t,e,n={}){const[i,o,a]=O1(t,n),u=d=>{const f=d.currentTarget;if(!D0(d)||pl.has(f))return;pl.add(f);const p=e(d),g=(x,P)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),!(!D0(x)||!pl.has(f))&&(pl.delete(f),typeof p=="function"&&p(x,{success:P}))},y=x=>{g(x,n.useGlobalTarget||j1(f,x.target))},w=x=>{g(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return i.forEach(d=>{!tA(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",p=>nA(p,o),o)}),a}function iA(t){return t==="x"||t==="y"?br[t]?null:(br[t]=!0,()=>{br[t]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}const F1=new Set(["width","height","top","left","right","bottom",...wa]);let Bc;function sA(){Bc=void 0}const ti={now:()=>(Bc===void 0&&ti.set(on.isProcessing||eC.useManualTiming?on.timestamp:performance.now()),Bc),set:t=>{Bc=t,queueMicrotask(sA)}};function xm(t,e){t.indexOf(e)===-1&&t.push(e)}function Tm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Sm{constructor(){this.subscriptions=[]}add(e){return xm(this.subscriptions,e),()=>Tm(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function B1(t,e){return e?t*(1e3/e):0}const V0=30,oA=t=>!isNaN(parseFloat(t));class aA{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const a=ti.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sm);const i=this.events[e].add(n);return e==="change"?()=>{i(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>V0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,V0);return B1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nl(t,e){return new aA(t,e)}function lA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nl(n))}function uA(t,e){const n=kd(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const d=EC(a[u]);lA(t,u,d)}}function cA(t){return!!(Tn(t)&&t.add)}function ip(t,e){const n=t.getValue("willChange");if(cA(n))return n.add(e)}function U1(t){return t.props[y1]}const z1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dA=1e-7,hA=12;function fA(t,e,n,i,o){let a,u,d=0;do u=e+(n-e)/2,a=z1(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>dA&&++d<hA);return u}function Kl(t,e,n,i){if(t===e&&n===i)return Yn;const o=a=>fA(a,0,1,t,n);return a=>a===0||a===1?a:z1(o(a),e,i)}const $1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,H1=t=>e=>1-t(1-e),W1=Kl(.33,1.53,.69,.99),Pm=H1(W1),q1=$1(Pm),K1=t=>(t*=2)<1?.5*Pm(t):.5*(2-Math.pow(2,-10*(t-1))),Cm=t=>1-Math.sin(Math.acos(t)),G1=H1(Cm),Q1=$1(Cm),Y1=t=>/^0[^.\s]+$/u.test(t);function pA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Y1(t):!0}const wl=t=>Math.round(t*1e5)/1e5,Am=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mA(t){return t==null}const gA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Im=(t,e)=>n=>!!(typeof n=="string"&&gA.test(n)&&n.startsWith(t)||e&&!mA(n)&&Object.prototype.hasOwnProperty.call(n,e)),X1=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,d]=i.match(Am);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},yA=t=>Ii(0,255,t),Nf={...Ea,transform:t=>Math.round(yA(t))},no={test:Im("rgb","red"),parse:X1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Nf.transform(t)+", "+Nf.transform(e)+", "+Nf.transform(n)+", "+wl(bl.transform(i))+")"};function vA(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const sp={test:Im("#"),parse:vA,transform:no.transform},ra={test:Im("hsl","hue"),parse:X1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ei.transform(wl(e))+", "+ei.transform(wl(n))+", "+wl(bl.transform(i))+")"},wn={test:t=>no.test(t)||sp.test(t)||ra.test(t),parse:t=>no.test(t)?no.parse(t):ra.test(t)?ra.parse(t):sp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):ra.transform(t)},_A=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wA(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Am))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_A))===null||n===void 0?void 0:n.length)||0)>0}const J1="number",Z1="color",EA="var",xA="var(",M0="${}",TA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(TA,f=>(wn.test(f)?(i.color.push(a),o.push(Z1),n.push(wn.parse(f))):f.startsWith(xA)?(i.var.push(a),o.push(EA),n.push(f)):(i.number.push(a),o.push(J1),n.push(parseFloat(f))),++a,M0)).split(M0);return{values:n,split:d,indexes:i,types:o}}function eE(t){return Dl(t).values}function tE(t){const{split:e,types:n}=Dl(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const d=n[u];d===J1?a+=wl(o[u]):d===Z1?a+=wn.transform(o[u]):a+=o[u]}return a}}const SA=t=>typeof t=="number"?0:t;function PA(t){const e=eE(t);return tE(t)(e.map(SA))}const ws={test:wA,parse:eE,createTransformer:tE,getAnimatableNone:PA},CA=new Set(["brightness","contrast","saturate","opacity"]);function AA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Am)||[];if(!i)return t;const o=n.replace(i,"");let a=CA.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const IA=/\b([a-z-]*)\(.*?\)/gu,op={...ws,getAnimatableNone:t=>{const e=t.match(IA);return e?e.map(AA).join(" "):t}},RA={...hm,color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:op,WebkitFilter:op},Rm=t=>RA[t];function nE(t,e){let n=Rm(t);return n!==op&&(n=ws),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kA=new Set(["auto","none","0"]);function bA(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!kA.has(a)&&Dl(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=nE(n,o)}const L0=t=>t===Ea||t===Oe,O0=(t,e)=>parseFloat(t.split(", ")[e]),j0=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return O0(o[1],e);{const a=i.match(/^matrix\((.+)\)$/u);return a?O0(a[1],t):0}},NA=new Set(["x","y","z"]),DA=wa.filter(t=>!NA.has(t));function VA(t){const e=[];return DA.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const da={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:j0(4,13),y:j0(5,14)};da.translateX=da.x;da.translateY=da.y;const io=new Set;let ap=!1,lp=!1;function rE(){if(lp){const t=Array.from(io).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=VA(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var d;(d=i.getValue(a))===null||d===void 0||d.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}lp=!1,ap=!1,io.forEach(t=>t.complete()),io.clear()}function iE(){io.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lp=!0)})}function MA(){iE(),rE()}class km{constructor(e,n,i,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(io.add(this),ap||(ap=!0,wt.read(iE),wt.resolveKeyframes(rE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o==null?void 0:o.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const f=i.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),io.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,io.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),LA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OA(t){const e=LA.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function oE(t,e,n=1){const[i,o]=OA(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return sE(u)?parseFloat(u):u}return dm(o)?oE(o,e,n+1):o}const aE=t=>e=>e.test(t),jA={test:t=>t==="auto",parse:t=>t},lE=[Ea,Oe,ei,cs,AC,CC,jA],F0=t=>lE.find(aE(t));class uE extends km{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),dm(p))){const g=oE(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!F1.has(i)||e.length!==2)return;const[o,a]=e,u=F0(o),d=F0(a);if(u!==d)if(L0(u)&&L0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)pA(e[o])&&i.push(o);i.length&&bA(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=da[i](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const B0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ws.test(t)||t==="0")&&!t.startsWith("url("));function FA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function BA(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=B0(o,e),d=B0(a,e);return!u||!d?!1:FA(t)||(n==="spring"||_m(n))&&i}const UA=t=>t!==null;function bd(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(UA),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||i===void 0?o[a]:i}const zA=40;class cE{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ti.now(),this.options={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MA(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ti.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!BA(e,i,o,a))if(u)this.options.duration=0;else{f&&f(bd(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ct=(t,e,n)=>t+(e-t)*n;function Df(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $A({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;o=Df(f,d,t+1/3),a=Df(f,d,t),u=Df(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function rd(t,e){return n=>n>0?e:t}const Vf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},HA=[sp,no,ra],WA=t=>HA.find(e=>e.test(t));function U0(t){const e=WA(t);if(!e)return!1;let n=e.parse(t);return e===ra&&(n=$A(n)),n}const z0=(t,e)=>{const n=U0(t),i=U0(e);if(!n||!i)return rd(t,e);const o={...n};return a=>(o.red=Vf(n.red,i.red,a),o.green=Vf(n.green,i.green,a),o.blue=Vf(n.blue,i.blue,a),o.alpha=Ct(n.alpha,i.alpha,a),no.transform(o))},qA=(t,e)=>n=>e(t(n)),Gl=(...t)=>t.reduce(qA),up=new Set(["none","hidden"]);function KA(t,e){return up.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GA(t,e){return n=>Ct(t,e,n)}function bm(t){return typeof t=="number"?GA:typeof t=="string"?dm(t)?rd:wn.test(t)?z0:XA:Array.isArray(t)?dE:typeof t=="object"?wn.test(t)?z0:QA:rd}function dE(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>bm(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function QA(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=bm(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function YA(t,e){var n;const i=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=t.indexes[u][o[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;i[a]=f,o[u]++}return i}const XA=(t,e)=>{const n=ws.createTransformer(e),i=Dl(t),o=Dl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?up.has(t)&&!o.values.length||up.has(e)&&!i.values.length?KA(t,e):Gl(dE(YA(i,o),o.values),n):rd(t,e)};function hE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):bm(t)(t,e)}const JA=5;function fE(t,e,n){const i=Math.max(e-JA,0);return B1(n-t(i),e-i)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$0=.001;function ZA({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:i=Nt.mass}){let o,a,u=1-e;u=Ii(Nt.minDamping,Nt.maxDamping,u),t=Ii(Nt.minDuration,Nt.maxDuration,Ai(t)),u<1?(o=p=>{const g=p*u,y=g*t,w=g-n,x=cp(p,u),P=Math.exp(-y);return $0-w/x*P},a=p=>{const y=p*u*t,w=y*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,P=Math.exp(-y),b=cp(Math.pow(p,2),u);return(-o(p)+$0>0?-1:1)*((w-x)*P)/b}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-.001+g*y},a=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const d=5/t,f=tI(o,a,d);if(t=Ci(t),isNaN(f))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const eI=12;function tI(t,e,n){let i=n;for(let o=1;o<eI;o++)i=i-t(i)/e(i);return i}function cp(t,e){return t*Math.sqrt(1-e*e)}const nI=["duration","bounce"],rI=["stiffness","damping","mass"];function H0(t,e){return e.some(n=>t[n]!==void 0)}function iI(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!H0(t,rI)&&H0(t,nI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Ii(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Nt.mass,stiffness:o,damping:a}}else{const n=ZA(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function pE(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:y,velocity:w,isResolvedFromDuration:x}=iI({...n,velocity:-Ai(n.velocity||0)}),P=w||0,b=p/(2*Math.sqrt(f*g)),I=u-a,N=Ai(Math.sqrt(f/g)),F=Math.abs(I)<5;i||(i=F?Nt.restSpeed.granular:Nt.restSpeed.default),o||(o=F?Nt.restDelta.granular:Nt.restDelta.default);let U;if(b<1){const L=cp(N,b);U=K=>{const k=Math.exp(-b*N*K);return u-k*((P+b*N*I)/L*Math.sin(L*K)+I*Math.cos(L*K))}}else if(b===1)U=L=>u-Math.exp(-N*L)*(I+(P+N*I)*L);else{const L=N*Math.sqrt(b*b-1);U=K=>{const k=Math.exp(-b*N*K),C=Math.min(L*K,300);return u-k*((P+b*N*I)*Math.sinh(C)+L*I*Math.cosh(C))/L}}const Y={calculatedDuration:x&&y||null,next:L=>{const K=U(L);if(x)d.done=L>=y;else{let k=0;b<1&&(k=L===0?Ci(P):fE(U,L,K));const C=Math.abs(k)<=i,R=Math.abs(u-K)<=o;d.done=C&&R}return d.value=d.done?u:K,d},toString:()=>{const L=Math.min(N1(Y),np),K=D1(k=>Y.next(L*k).value,L,30);return L+"ms "+K}};return Y}function W0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const y=t[0],w={done:!1,value:y},x=C=>d!==void 0&&C<d||f!==void 0&&C>f,P=C=>d===void 0?f:f===void 0||Math.abs(d-C)<Math.abs(f-C)?d:f;let b=n*e;const I=y+b,N=u===void 0?I:u(I);N!==I&&(b=N-y);const F=C=>-b*Math.exp(-C/i),U=C=>N+F(C),Y=C=>{const R=F(C),M=U(C);w.done=Math.abs(R)<=p,w.value=w.done?N:M};let L,K;const k=C=>{x(w.value)&&(L=C,K=pE({keyframes:[w.value,P(w.value)],velocity:fE(U,C,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let R=!1;return!K&&L===void 0&&(R=!0,Y(C),k(C)),L!==void 0&&C>=L?K.next(C-L):(!R&&Y(C),w)}}}const sI=Kl(.42,0,1,1),oI=Kl(0,0,.58,1),mE=Kl(.42,0,.58,1),aI=t=>Array.isArray(t)&&typeof t[0]!="number",q0={linear:Yn,easeIn:sI,easeInOut:mE,easeOut:oI,circIn:Cm,circInOut:Q1,circOut:G1,backIn:Pm,backInOut:q1,backOut:W1,anticipate:K1},K0=t=>{if(wm(t)){ep(t.length===4);const[e,n,i,o]=t;return Kl(e,n,i,o)}else if(typeof t=="string")return ep(q0[t]!==void 0),q0[t];return t};function lI(t,e,n){const i=[],o=n||hE,a=t.length-1;for(let u=0;u<a;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Yn:e;d=Gl(f,d)}i.push(d)}return i}function uI(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(ep(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=lI(e,i,o),f=d.length,p=g=>{if(u&&g<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const w=ua(t[y],t[y+1],g);return d[y](w)};return n?g=>p(Ii(t[0],t[a-1],g)):p}function cI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=ua(0,e,i);t.push(Ct(n,1,o))}}function dI(t){const e=[0];return cI(e,t.length-1),e}function hI(t,e){return t.map(n=>n*e)}function fI(t,e){return t.map(()=>e||mE).splice(0,t.length-1)}function id({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=aI(i)?i.map(K0):K0(i),a={done:!1,value:e[0]},u=hI(n&&n.length===e.length?n:dI(e),t),d=uI(u,e,{ease:Array.isArray(o)?o:fI(e,o)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const pI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>_s(e),now:()=>on.isProcessing?on.timestamp:ti.now()}},mI={decay:W0,inertia:W0,tween:id,keyframes:id,spring:pE},gI=t=>t/100;class Nm extends cE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:o,keyframes:a}=this.options,u=(o==null?void 0:o.KeyframeResolver)||km,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,d,n,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,d=_m(n)?n:mI[n]||id;let f,p;d!==id&&typeof e[0]!="number"&&(f=Gl(gI,hE(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=N1(g));const{calculatedDuration:y}=g,w=y+o,x=w*(i+1)-o;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:y,resolvedDuration:w,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:y}=i;if(this.startTime===null)return a.next(0);const{delay:w,repeat:x,repeatType:P,repeatDelay:b,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-w*(this.speed>=0?1:-1),F=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,Y=a;if(x){const C=Math.min(this.currentTime,g)/y;let R=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&R--,R=Math.min(R,x+1),!!(R%2)&&(P==="reverse"?(M=1-M,b&&(M-=b/y)):P==="mirror"&&(Y=u)),U=Ii(0,1,M)*y}const L=F?{done:!1,value:f[0]}:Y.next(U);d&&(L.value=d(L.value));let{done:K}=L;!F&&p!==null&&(K=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return k&&o!==void 0&&(L.value=bd(f,this.options,o)),I&&I(L.value),k&&this.finish(),L}get duration(){const{resolved:e}=this;return e?Ai(e.calculatedDuration):0}get time(){return Ai(this.currentTime)}set time(e){e=Ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ai(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pI,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yI=new Set(["opacity","clipPath","filter","transform"]);function vI(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=M1(d,o);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:i,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const _I=im(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sd=10,wI=2e4;function EI(t){return _m(t.type)||t.type==="spring"||!V1(t.ease)}function xI(t,e){const n=new Nm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const o=[];let a=0;for(;!i.done&&a<wI;)i=n.sample(a),o.push(i.value),a+=sd;return{times:void 0,keyframes:o,duration:a-sd,ease:"linear"}}const gE={anticipate:K1,backInOut:q1,circInOut:Q1};function TI(t){return t in gE}class G0 extends cE{constructor(e){super(e);const{name:n,motionValue:i,element:o,keyframes:a}=this.options;this.resolver=new uE(a,(u,d)=>this.onKeyframesResolved(u,d),n,i,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:o,ease:a,type:u,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&nd()&&TI(a)&&(a=gE[a]),EI(this.options)){const{onComplete:y,onUpdate:w,motionValue:x,element:P,...b}=this.options,I=xI(e,b);e=I.keyframes,e.length===1&&(e[1]=e[0]),i=I.duration,o=I.times,a=I.ease,u="keyframes"}const g=vI(d.owner.current,f,e,{...this.options,duration:i,times:o,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(k0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;d.set(bd(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ai(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ai(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Yn;const{animation:i}=n;k0(i,e)}return Yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:o,type:a,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:y,element:w,...x}=this.options,P=new Nm({...x,keyframes:i,duration:o,type:a,ease:u,times:d,isGenerator:!0}),b=Ci(this.time);p.setWithVelocity(P.sample(b-sd).value,P.sample(b).value,sd)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:o,repeatType:a,damping:u,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return _I()&&i&&yI.has(i)&&!f&&!p&&!o&&a!=="mirror"&&u!==0&&d!=="inertia"}}const SI={type:"spring",stiffness:500,damping:25,restSpeed:10},PI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CI={type:"keyframes",duration:.8},AI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},II=(t,{keyframes:e})=>e.length>2?CI:uo.has(t)?t.startsWith("scale")?PI(e[1]):SI:AI;function RI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Dm=(t,e,n,i={},o,a)=>u=>{const d=vm(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ci(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:o};RI(d)||(g={...g,...II(t,g)}),g.duration&&(g.duration=Ci(g.duration)),g.repeatDelay&&(g.repeatDelay=Ci(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!a&&e.get()!==void 0){const w=bd(g.keyframes,d);if(w!==void 0)return wt.update(()=>{g.onUpdate(w),g.onComplete()}),new QC([])}return!a&&G0.supports(g)?new G0(g):new Nm(g)};function kI({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yE(t,e,{delay:n=0,transitionOverride:i,type:o}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;i&&(u=i);const p=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const y in f){const w=t.getValue(y,(a=t.latestValues[y])!==null&&a!==void 0?a:null),x=f[y];if(x===void 0||g&&kI(g,y))continue;const P={delay:n,...vm(u||{},y)};let b=!1;if(window.MotionHandoffAnimation){const N=U1(t);if(N){const F=window.MotionHandoffAnimation(N,y,wt);F!==null&&(P.startTime=F,b=!0)}}ip(t,y),w.start(Dm(y,w,x,t.shouldReduceMotion&&F1.has(y)?{type:!1}:P,t,b));const I=w.animation;I&&p.push(I)}return d&&Promise.all(p).then(()=>{wt.update(()=>{d&&uA(t,d)})}),p}function dp(t,e,n={}){var i;const o=kd(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const u=o?()=>Promise.all(yE(t,o,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:w}=a;return bI(t,e,g+p,y,w,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function bI(t,e,n=0,i=0,o=1,a){const u=[],d=(t.variantChildren.size-1)*i,f=o===1?(p=0)=>p*i:(p=0)=>d-p*i;return Array.from(t.variantChildren).sort(NI).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(dp(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function NI(t,e){return t.sortNodePosition(e)}function DI(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>dp(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=dp(t,e,n);else{const o=typeof e=="function"?kd(t,e,n.custom):e;i=Promise.all(yE(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const VI=om.length;function vE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<VI;n++){const i=om[n],o=t.props[i];(kl(o)||o===!1)&&(e[i]=o)}return e}const MI=[...sm].reverse(),LI=sm.length;function OI(t){return e=>Promise.all(e.map(({animation:n,options:i})=>DI(t,n,i)))}function jI(t){let e=OI(t),n=Q0(),i=!0;const o=f=>(p,g)=>{var y;const w=kd(t,g,f==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(w){const{transition:x,transitionEnd:P,...b}=w;p={...p,...b,...P}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,g=vE(t.parent)||{},y=[],w=new Set;let x={},P=1/0;for(let I=0;I<LI;I++){const N=MI[I],F=n[N],U=p[N]!==void 0?p[N]:g[N],Y=kl(U),L=N===f?F.isActive:null;L===!1&&(P=I);let K=U===g[N]&&U!==p[N]&&Y;if(K&&i&&t.manuallyAnimateOnMount&&(K=!1),F.protectedKeys={...x},!F.isActive&&L===null||!U&&!F.prevProp||Id(U)||typeof U=="boolean")continue;const k=FI(F.prevProp,U);let C=k||N===f&&F.isActive&&!K&&Y||I>P&&Y,R=!1;const M=Array.isArray(U)?U:[U];let O=M.reduce(o(N),{});L===!1&&(O={});const{prevResolvedValues:V={}}=F,D={...V,...O},ue=Pe=>{C=!0,w.has(Pe)&&(R=!0,w.delete(Pe)),F.needsAnimating[Pe]=!0;const se=t.getValue(Pe);se&&(se.liveStyle=!1)};for(const Pe in D){const se=O[Pe],me=V[Pe];if(x.hasOwnProperty(Pe))continue;let de=!1;tp(se)&&tp(me)?de=!b1(se,me):de=se!==me,de?se!=null?ue(Pe):w.add(Pe):se!==void 0&&w.has(Pe)?ue(Pe):F.protectedKeys[Pe]=!0}F.prevProp=U,F.prevResolvedValues=O,F.isActive&&(x={...x,...O}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(K&&k)||R)&&y.push(...M.map(Pe=>({animation:Pe,options:{type:N}})))}if(w.size){const I={};w.forEach(N=>{const F=t.getBaseTarget(N),U=t.getValue(N);U&&(U.liveStyle=!0),I[N]=F??null}),y.push({animation:I})}let b=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(y):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var x;return(x=w.animationState)===null||x===void 0?void 0:x.setActive(f,p)}),n[f].isActive=p;const y=u(f);for(const w in n)n[w].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Q0(),i=!0}}}function FI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!b1(e,t):!1}function Ys(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q0(){return{animate:Ys(!0),whileInView:Ys(),whileHover:Ys(),whileTap:Ys(),whileDrag:Ys(),whileFocus:Ys(),exit:Ys()}}class As{constructor(e){this.isMounted=!1,this.node=e}update(){}}class BI extends As{constructor(e){super(e),e.animationState||(e.animationState=jI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Id(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let UI=0;class zI extends As{constructor(){super(...arguments),this.id=UI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const $I={animation:{Feature:BI},exit:{Feature:zI}};function Vl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ql(t){return{point:{x:t.pageX,y:t.pageY}}}const HI=t=>e=>Em(e)&&t(e,Ql(e));function El(t,e,n,i){return Vl(t,e,HI(n),i)}const Y0=(t,e)=>Math.abs(t-e);function WI(t,e){const n=Y0(t.x,e.x),i=Y0(t.y,e.y);return Math.sqrt(n**2+i**2)}class _E{constructor(e,n,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Lf(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=WI(y.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:P}=y,{timestamp:b}=on;this.history.push({...P,timestamp:b});const{onStart:I,onMove:N}=this.handlers;w||(I&&I(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Mf(w,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:x,onSessionEnd:P,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Lf(y.type==="pointercancel"?this.lastMoveEventInfo:Mf(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(y,I),P&&P(y,I)},!Em(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=o||window;const u=Ql(e),d=Mf(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=on;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Lf(d,this.history)),this.removeListeners=Gl(El(this.contextWindow,"pointermove",this.handlePointerMove),El(this.contextWindow,"pointerup",this.handlePointerUp),El(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_s(this.updatePoint)}}function Mf(t,e){return e?{point:e(t.point)}:t}function X0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lf({point:t},e){return{point:t,delta:X0(t,wE(e)),offset:X0(t,qI(e)),velocity:KI(e,.1)}}function qI(t){return t[0]}function wE(t){return t[t.length-1]}function KI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=wE(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Ci(e)));)n--;if(!i)return{x:0,y:0};const a=Ai(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const EE=1e-4,GI=1-EE,QI=1+EE,xE=.01,YI=0-xE,XI=0+xE;function Jn(t){return t.max-t.min}function JI(t,e,n){return Math.abs(t-e)<=n}function J0(t,e,n,i=.5){t.origin=i,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=Jn(n)/Jn(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GI&&t.scale<=QI||isNaN(t.scale))&&(t.scale=1),(t.translate>=YI&&t.translate<=XI||isNaN(t.translate))&&(t.translate=0)}function xl(t,e,n,i){J0(t.x,e.x,n.x,i?i.originX:void 0),J0(t.y,e.y,n.y,i?i.originY:void 0)}function Z0(t,e,n){t.min=n.min+e.min,t.max=t.min+Jn(e)}function ZI(t,e,n){Z0(t.x,e.x,n.x),Z0(t.y,e.y,n.y)}function e_(t,e,n){t.min=e.min-n.min,t.max=t.min+Jn(e)}function Tl(t,e,n){e_(t.x,e.x,n.x),e_(t.y,e.y,n.y)}function eR(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ct(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ct(n,t,i.max):Math.min(t,n)),t}function t_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tR(t,{top:e,left:n,bottom:i,right:o}){return{x:t_(t.x,n,o),y:t_(t.y,e,i)}}function n_(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function nR(t,e){return{x:n_(t.x,e.x),y:n_(t.y,e.y)}}function rR(t,e){let n=.5;const i=Jn(t),o=Jn(e);return o>i?n=ua(e.min,e.max-i,t.min):i>o&&(n=ua(t.min,t.max-o,e.min)),Ii(0,1,n)}function iR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hp=.35;function sR(t=hp){return t===!1?t=0:t===!0&&(t=hp),{x:r_(t,"left","right"),y:r_(t,"top","bottom")}}function r_(t,e,n){return{min:i_(t,e),max:i_(t,n)}}function i_(t,e){return typeof t=="number"?t:t[e]||0}const s_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ia=()=>({x:s_(),y:s_()}),o_=()=>({min:0,max:0}),Vt=()=>({x:o_(),y:o_()});function lr(t){return[t("x"),t("y")]}function TE({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function oR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Of(t){return t===void 0||t===1}function fp({scale:t,scaleX:e,scaleY:n}){return!Of(t)||!Of(e)||!Of(n)}function Xs(t){return fp(t)||SE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SE(t){return a_(t.x)||a_(t.y)}function a_(t){return t&&t!=="0%"}function od(t,e,n){const i=t-n,o=e*i;return n+o}function l_(t,e,n,i,o){return o!==void 0&&(t=od(t,o,i)),od(t,n,i)+e}function pp(t,e=0,n=1,i,o){t.min=l_(t.min,e,n,i,o),t.max=l_(t.max,e,n,i,o)}function PE(t,{x:e,y:n}){pp(t.x,e.translate,e.scale,e.originPoint),pp(t.y,n.translate,n.scale,n.originPoint)}const u_=.999999999999,c_=1.0000000000001;function lR(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=n[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,PE(t,u)),i&&Xs(a.latestValues)&&oa(t,a.latestValues))}e.x<c_&&e.x>u_&&(e.x=1),e.y<c_&&e.y>u_&&(e.y=1)}function sa(t,e){t.min=t.min+e,t.max=t.max+e}function d_(t,e,n,i,o=.5){const a=Ct(t.min,t.max,o);pp(t,e,n,a,i)}function oa(t,e){d_(t.x,e.x,e.scaleX,e.scale,e.originX),d_(t.y,e.y,e.scaleY,e.scale,e.originY)}function CE(t,e){return TE(aR(t.getBoundingClientRect(),e))}function uR(t,e,n){const i=CE(t,n),{scroll:o}=e;return o&&(sa(i.x,o.offset.x),sa(i.y,o.offset.y)),i}const AE=({current:t})=>t?t.ownerDocument.defaultView:null,cR=new WeakMap;class dR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ql(g).point)},a=(g,y)=>{const{drag:w,dragPropagation:x,onDragStart:P}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iA(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(I=>{let N=this.getAxisMotionValue(I).get()||0;if(ei.test(N)){const{projection:F}=this.visualElement;if(F&&F.layout){const U=F.layout.layoutBox[I];U&&(N=Jn(U)*(parseFloat(N)/100))}}this.originPoint[I]=N}),P&&wt.postRender(()=>P(g,y)),ip(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},u=(g,y)=>{const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:P,onDrag:b}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:I}=y;if(x&&this.currentDirection===null){this.currentDirection=hR(I),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",y.point,I),this.updateAxis("y",y.point,I),this.visualElement.render(),b&&b(g,y)},d=(g,y)=>this.stop(g,y),f=()=>lr(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new _E(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:AE(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&wt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Rc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=eR(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&na(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=tR(o.layoutBox,n):this.constraints=!1,this.elastic=sR(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&lr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=iR(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!na(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=uR(i,o.root,this.visualElement.getTransformPagePoint());let u=nR(o.layout.layoutBox,a);if(n){const d=n(oR(u));this.hasMutatedConstraints=!!d,d&&(u=TE(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=lr(g=>{if(!Rc(g,n,this.currentDirection))return;let y=f[g]||{};u&&(y={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,P={type:"inertia",velocity:i?e[g]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,P)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ip(this.visualElement,e),i.start(Dm(e,i,0,n,this.visualElement,!1))}stopAnimation(){lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){lr(n=>{const{drag:i}=this.getProps();if(!Rc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n];a.set(e[n]-Ct(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!na(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};lr(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=rR({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),lr(u=>{if(!Rc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(Ct(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;cR.set(this.visualElement,this);const e=this.visualElement.current,n=El(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();na(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),wt.read(i);const u=Vl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(lr(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=hp,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Rc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fR extends As{constructor(e){super(e),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new dR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const h_=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class pR extends As{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(e){this.session=new _E(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:h_(e),onStart:h_(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&wt.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=El(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=f_(t,e.target.x),i=f_(t,e.target.y);return`${n}% ${i}%`}},mR={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=ws.parse(t);if(o.length>5)return i;const a=ws.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=Ct(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};class gR extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;OC(yR),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Uc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,u=i.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||wt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IE(t){const[e,n]=d1(),i=B.useContext(em);return T.jsx(gR,{...t,layoutGroup:i,switchLayoutGroup:B.useContext(v1),isPresent:e,safeToRemove:n})}const yR={borderRadius:{...dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dl,borderTopRightRadius:dl,borderBottomLeftRadius:dl,borderBottomRightRadius:dl,boxShadow:mR};function vR(t,e,n){const i=Tn(t)?t:Nl(t);return i.start(Dm("",i,e,n)),i.animation}function _R(t){return t instanceof SVGElement&&t.tagName!=="svg"}const wR=(t,e)=>t.depth-e.depth;class ER{constructor(){this.children=[],this.isDirty=!1}add(e){xm(this.children,e),this.isDirty=!0}remove(e){Tm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wR),this.isDirty=!1,this.children.forEach(e)}}function xR(t,e){const n=ti.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(_s(i),t(a-e))};return wt.read(i,!0),()=>_s(i)}const RE=["TopLeft","TopRight","BottomLeft","BottomRight"],TR=RE.length,p_=t=>typeof t=="string"?parseFloat(t):t,m_=t=>typeof t=="number"||Oe.test(t);function SR(t,e,n,i,o,a){o?(t.opacity=Ct(0,n.opacity!==void 0?n.opacity:1,PR(i)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,CR(i))):a&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<TR;u++){const d=`border${RE[u]}Radius`;let f=g_(e,d),p=g_(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||m_(f)===m_(p)?(t[d]=Math.max(Ct(p_(f),p_(p),i),0),(ei.test(p)||ei.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,i))}function g_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const PR=kE(0,.5,G1),CR=kE(.5,.95,Yn);function kE(t,e,n){return i=>i<t?0:i>e?1:n(ua(t,e,i))}function y_(t,e){t.min=e.min,t.max=e.max}function ar(t,e){y_(t.x,e.x),y_(t.y,e.y)}function v_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function __(t,e,n,i,o){return t-=e,t=od(t,1/n,i),o!==void 0&&(t=od(t,1/o,i)),t}function AR(t,e=0,n=1,i=.5,o,a=t,u=t){if(ei.test(e)&&(e=parseFloat(e),e=Ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ct(a.min,a.max,i);t===a&&(d-=e),t.min=__(t.min,e,n,d,o),t.max=__(t.max,e,n,d,o)}function w_(t,e,[n,i,o],a,u){AR(t,e[n],e[i],e[o],e.scale,a,u)}const IR=["x","scaleX","originX"],RR=["y","scaleY","originY"];function E_(t,e,n,i){w_(t.x,e,IR,n?n.x:void 0,i?i.x:void 0),w_(t.y,e,RR,n?n.y:void 0,i?i.y:void 0)}function x_(t){return t.translate===0&&t.scale===1}function bE(t){return x_(t.x)&&x_(t.y)}function T_(t,e){return t.min===e.min&&t.max===e.max}function kR(t,e){return T_(t.x,e.x)&&T_(t.y,e.y)}function S_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function NE(t,e){return S_(t.x,e.x)&&S_(t.y,e.y)}function P_(t){return Jn(t.x)/Jn(t.y)}function C_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bR{constructor(){this.members=[]}add(e){xm(this.members,e),e.scheduleRender()}remove(e){if(Tm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NR(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:w,skewX:x,skewY:P}=n;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),w&&(i+=`rotateY(${w}deg) `),x&&(i+=`skewX(${x}deg) `),P&&(i+=`skewY(${P}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const Js={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ml=typeof window<"u"&&window.MotionDebug!==void 0,jf=["","X","Y","Z"],DR={visibility:"hidden"},A_=1e3;let VR=0;function Ff(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function DE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=U1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&DE(i)}function VE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=VR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ml&&(Js.totalNodes=Js.resolvedTargetDeltas=Js.recalculatedProjection=0),this.nodes.forEach(OR),this.nodes.forEach(zR),this.nodes.forEach($R),this.nodes.forEach(jR),ml&&window.MotionDebug.record(Js)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new ER)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Sm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_R(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let y;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=xR(w,250),Uc.hasAnimatedSinceResize&&(Uc.hasAnimatedSinceResize=!1,this.nodes.forEach(R_))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:x,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||g.getDefaultTransition()||GR,{onLayoutAnimationStart:I,onLayoutAnimationComplete:N}=g.getProps(),F=!this.targetLayout||!NE(this.targetLayout,P)||x,U=!w&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||w&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,U);const Y={...vm(b,"layout"),onPlay:I,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else w||R_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I_);return}this.isUpdating||this.nodes.forEach(BR),this.isUpdating=!1,this.nodes.forEach(UR),this.nodes.forEach(MR),this.nodes.forEach(LR),this.clearAllSnapshots();const d=ti.now();on.delta=Ii(0,1e3/60,d-on.timestamp),on.timestamp=d,on.isProcessing=!0,kf.update.process(on),kf.preRender.process(on),kf.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FR),this.sharedNodes.forEach(WR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!bE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(d||Xs(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),QR(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return Vt();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(YR))){const{scroll:g}=this.root;g&&(sa(f.x,g.offset.x),sa(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=Vt();if(ar(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:w}=g;g!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&ar(f,u),sa(f.x,y.offset.x),sa(f.y,y.offset.y))}return f}applyTransform(u,d=!1){const f=Vt();ar(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&oa(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Xs(g.latestValues)&&oa(f,g.latestValues)}return Xs(this.latestValues)&&oa(f,this.latestValues),f}removeTransform(u){const d=Vt();ar(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Xs(p.latestValues))continue;fp(p.latestValues)&&p.updateSnapshot();const g=Vt(),y=p.measurePageBox();ar(g,y),E_(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Xs(this.latestValues)&&E_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ar(this.target,this.layout.layoutBox),PE(this.target,this.targetDelta)):ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Tl(this.relativeTargetOrigin,this.target,x.target),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ml&&Js.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fp(this.parent.latestValues)||SE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===on.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ar(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,x=this.treeScale.y;lR(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Vt());const{target:P}=d;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v_(this.prevProjectionDelta.x,this.projectionDelta.x),v_(this.prevProjectionDelta.y,this.projectionDelta.y)),xl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==x||!C_(this.projectionDelta.x,this.prevProjectionDelta.x)||!C_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),ml&&Js.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ia(),this.projectionDelta=ia(),this.projectionDeltaWithTransform=ia()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},y=ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Vt(),x=f?f.source:void 0,P=this.layout?this.layout.source:void 0,b=x!==P,I=this.getStack(),N=!I||I.members.length<=1,F=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(KR));this.animationProgress=0;let U;this.mixTargetDelta=Y=>{const L=Y/1e3;k_(y.x,u.x,L),k_(y.y,u.y,L),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qR(this.relativeTarget,this.relativeTargetOrigin,w,L),U&&kR(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Vt()),ar(U,this.relativeTarget)),b&&(this.animationValues=g,SR(g,p,this.latestValues,L,F,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Uc.hasAnimatedSinceResize=!0,this.currentAnimation=vR(0,A_,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&ME(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Vt();const y=Jn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const w=Jn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}ar(d,f),oa(d,g),xl(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new bR),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Ff("z",u,p,this.animationValues);for(let g=0;g<jf.length;g++)Ff(`rotate${jf[g]}`,u,p,this.animationValues),Ff(`skew${jf[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DR;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Fc(u==null?void 0:u.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Fc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Xs(this.latestValues)&&(b.transform=g?g({},""):"none",this.hasProjected=!1),b}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=NR(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x,y:P}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${P.origin*100}% 0`,y.animationValues?p.opacity=y===this?(f=(d=w.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const b in td){if(w[b]===void 0)continue;const{correct:I,applyTo:N}=td[b],F=p.transform==="none"?w[b]:I(w[b],y);if(N){const U=N.length;for(let Y=0;Y<U;Y++)p[N[Y]]=F}else p[b]=F}return this.options.layoutId&&(p.pointerEvents=y===this?Fc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(I_),this.root.sharedNodes.clear()}}}function MR(t){t.updateLayout()}function LR(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?lr(y=>{const w=u?n.measuredBox[y]:n.layoutBox[y],x=Jn(w);w.min=i[y].min,w.max=w.min+x}):ME(a,n.layoutBox,i)&&lr(y=>{const w=u?n.measuredBox[y]:n.layoutBox[y],x=Jn(i[y]);w.max=w.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const d=ia();xl(d,i,n.layoutBox);const f=ia();u?xl(f,t.applyTransform(o,!0),n.measuredBox):xl(f,i,n.layoutBox);const p=!bE(d);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:x}=y;if(w&&x){const P=Vt();Tl(P,n.layoutBox,w.layoutBox);const b=Vt();Tl(b,i,x.layoutBox),NE(P,b)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=P,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function OR(t){ml&&Js.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FR(t){t.clearSnapshot()}function I_(t){t.clearMeasurements()}function BR(t){t.isLayoutDirty=!1}function UR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function R_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zR(t){t.resolveTargetDelta()}function $R(t){t.calcProjection()}function HR(t){t.resetSkewAndRotation()}function WR(t){t.removeLeadSnapshot()}function k_(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function b_(t,e,n,i){t.min=Ct(e.min,n.min,i),t.max=Ct(e.max,n.max,i)}function qR(t,e,n,i){b_(t.x,e.x,n.x,i),b_(t.y,e.y,n.y,i)}function KR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const GR={duration:.45,ease:[.4,0,.1,1]},N_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),D_=N_("applewebkit/")&&!N_("chrome/")?Math.round:Yn;function V_(t){t.min=D_(t.min),t.max=D_(t.max)}function QR(t){V_(t.x),V_(t.y)}function ME(t,e,n){return t==="position"||t==="preserve-aspect"&&!JI(P_(e),P_(n),.2)}function YR(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const XR=VE({attachResizeListener:(t,e)=>Vl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bf={current:void 0},LE=VE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bf.current){const t=new XR({});t.mount(window),t.setOptions({layoutScroll:!0}),Bf.current=t}return Bf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JR={pan:{Feature:pR},drag:{Feature:fR,ProjectionNode:LE,MeasureLayout:IE}};function M_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&wt.postRender(()=>a(e,Ql(e)))}class ZR extends As{mount(){const{current:e}=this.node;e&&(this.unmount=ZC(e,n=>(M_(this.node,n,"Start"),i=>M_(this.node,i,"End"))))}unmount(){}}class ek extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gl(Vl(this.node.current,"focus",()=>this.onFocus()),Vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L_(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&wt.postRender(()=>a(e,Ql(e)))}class tk extends As{mount(){const{current:e}=this.node;e&&(this.unmount=rA(e,n=>(L_(this.node,n,"Start"),(i,{success:o})=>L_(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mp=new WeakMap,Uf=new WeakMap,nk=t=>{const e=mp.get(t.target);e&&e(t)},rk=t=>{t.forEach(nk)};function ik({root:t,...e}){const n=t||document;Uf.has(n)||Uf.set(n,{});const i=Uf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(rk,{root:t,...e})),i[o]}function sk(t,e,n){const i=ik(e);return mp.set(t,n),i.observe(t),()=>{mp.delete(t),i.unobserve(t)}}const ok={some:0,all:1};class ak extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:ok[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(f)};return sk(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lk(e,n))&&this.startObserver()}unmount(){}}function lk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uk={inView:{Feature:ak},tap:{Feature:tk},focus:{Feature:ek},hover:{Feature:ZR}},ck={layout:{ProjectionNode:LE,MeasureLayout:IE}},gp={current:null},OE={current:!1};function dk(){if(OE.current=!0,!!rm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gp.current=t.matches;t.addListener(e),e()}else gp.current=!1}const hk=[...lE,wn,ws],fk=t=>hk.find(aE(t)),O_=new WeakMap;function pk(t,e,n){for(const i in e){const o=e[i],a=n[i];if(Tn(o))t.addValue(i,o);else if(Tn(a))t.addValue(i,Nl(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Nl(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const j_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mk{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=km,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ti.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,wt.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Rd(n),this.isVariantNode=g1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in w){const P=w[x];f[x]!==void 0&&Tn(P)&&P.set(f[x],!1)}}mount(e){this.current=e,O_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),OE.current||dk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O_.delete(this.current),this.projection&&this.projection.unmount(),_s(this.notifyUpdate),_s(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=uo.has(e),o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&wt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ca){const n=ca[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<j_.length;i++){const o=j_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=pk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Nl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(sE(o)||Y1(o))?o=parseFloat(o):!fk(o)&&ws.test(n)&&(o=nE(e,n)),this.setBaseTarget(e,Tn(o)?o.get():o)),Tn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=cm(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Tn(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jE extends mk{constructor(){super(...arguments),this.KeyframeResolver=uE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gk(t){return window.getComputedStyle(t)}class yk extends jE{constructor(){super(...arguments),this.type="html",this.renderInstance=P1}readValueFromInstance(e,n){if(uo.has(n)){const i=Rm(n);return i&&i.default||0}else{const i=gk(e),o=(x1(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CE(e,n)}build(e,n,i){fm(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ym(e,n,i)}}class vk extends jE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(uo.has(n)){const i=Rm(n);return i&&i.default||0}return n=C1.has(n)?n:am(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return R1(e,n,i)}build(e,n,i){pm(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,o){A1(e,n,i,o)}mount(e){this.isSVGTag=gm(e.tagName),super.mount(e)}}const _k=(t,e)=>um(t)?new vk(e):new yk(e,{allowProjection:t!==B.Fragment}),wk=qC({...$I,...uk,...JR,...ck},_k),_n=aC(wk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...d},f)=>B.createElement("svg",{ref:f,...xk,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:FE("lucide",o),...d},[...u.map(([p,g])=>B.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(t,e)=>{const n=B.forwardRef(({className:i,...o},a)=>B.createElement(Tk,{ref:a,iconNode:e,className:FE(`lucide-${Ek(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pk=It("BookOpen",Sk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Ak=It("Brain",Ck);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],F_=It("Calendar",Ik);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vm=It("ChevronLeft",Rk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mm=It("ChevronRight",kk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Nk=It("Clock",bk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vk=It("Compass",Dk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Lk=It("Contact",Mk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],jk=It("Folder",Ok);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bk=It("Image",Fk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],zk=It("Mail",Uk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BE=It("MapPin",$k);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Wk=It("Maximize2",Hk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Kk=It("Network",qk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Qk=It("Rocket",Gk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],B_=It("Send",Yk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Jk=It("ShoppingCart",Xk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]],eb=It("Sprout",Zk);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],U_=It("Star",tb);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],rb=It("Tag",nb);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sb=It("User",ib);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],z_=It("Users",ob);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lm=It("X",ab),lb=()=>{const t=[{title:"Active Engagement",description:"Students actively participate in the learning process. This approach enhances understanding and retention through hands-on activities.",icon:Qk},{title:"Holistic Development",description:"We promote comprehensive growth across cognitive, physical, social, and emotional domains. Our collaborative learning experiences support well-rounded student development.",icon:eb},{title:"Real-Life Application",description:"Our activities simulate authentic real-world scenarios. Students learn to connect classroom knowledge with practical, meaningful applications.",icon:BE},{title:"Student-Centered Learning",description:"Our approach prioritizes individual needs and interests. We empower students to take ownership of their unique learning journey.",icon:Vk},{title:"Critical Thinking",description:"Through carefully designed engaging activities, students develop essential problem-solving skills. We focus on nurturing analytical thinking and intellectual curiosity.",icon:Ak},{title:"Collaborative Spirit",description:"Our educational resources foster robust teamwork environments. Students develop crucial interpersonal communication skills through structured group activities.",icon:Kk}],[e,n]=B.useState(0),[i,o]=B.useState(!1),[a,u]=B.useState(!1);B.useEffect(()=>{const f=setTimeout(()=>{o(!0),u(!0)},1e3),p=setInterval(()=>{i&&n(g=>(g+1)%t.length)},5e3);return()=>{clearTimeout(f),clearInterval(p)}},[i]);const d={enter:f=>({x:f>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:f=>({zIndex:0,x:f<0?1e3:-1e3,opacity:0})};return T.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx(_n.img,{src:Rl,alt:"Background Logo",className:"w-4/5 max-w-3xl object-contain opacity-10"})}),T.jsxs(_n.div,{className:"relative z-10 container mx-auto px-4 pt-16 pb-20",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[T.jsxs("div",{className:"text-center space-y-8 mb-16",children:[T.jsx(_n.div,{className:"flex justify-center mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},children:T.jsx("img",{src:Rl,alt:"PRM Logo",className:"h-32 md:h-40 object-contain"})}),T.jsxs(_n.div,{initial:{opacity:0,y:20},animate:a?{opacity:1,y:0}:{},transition:{delay:.7,duration:.8},className:"max-w-3xl mx-auto",children:[T.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-8",children:"Welcome to PERUMA"}),T.jsx("p",{className:"text-xl text-gray-600 mb-10 px-4 leading-relaxed font-medium",children:"We specialize in creating innovative educational materials for Schools, NGOs, and Publishers. Our focus is on Activity-Based Learning (ABL) that makes education engaging, interactive, and meaningful."})]})]}),i&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"relative h-auto min-h-[24rem] flex justify-center items-center overflow-hidden px-4",children:T.jsx(Zf,{initial:!1,custom:e,children:T.jsx(_n.div,{custom:e,variants:d,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute w-full max-w-lg",children:T.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 md:p-10 rounded-xl shadow-2xl transform hover:scale-105 transition-transform duration-300 w-full",children:[T.jsx("div",{className:"mb-6 md:mb-8 flex justify-center",children:Pi.createElement(t[e].icon,{size:48,className:"text-blue-700 stroke-[1.5]"})}),T.jsx("h4",{className:"text-2xl md:text-3xl font-bold text-gray-800 text-center mb-4 md:mb-6",children:t[e].title}),T.jsx("p",{className:"text-base md:text-xl text-gray-700 text-justify leading-relaxed font-medium",children:t[e].description})]})},e)})}),T.jsx("div",{className:"flex justify-center gap-2 mt-8",children:t.map((f,p)=>T.jsx("button",{onClick:()=>n(p),className:`w-3 h-3 rounded-full transition-all duration-300 ${e===p?"bg-blue-500 w-6":"bg-gray-300 hover:bg-blue-300"}`,"aria-label":`View benefit ${p+1}`},p))})]})]})]})};function ub(t){return dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function cb(t){return dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function db(t){return dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function hb(t){return dr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function fb(t){return dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function pb(t){return dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function mb(t){return dr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function gb(t){return dr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function yb(t){return dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}const vb=({isOpen:t,onClose:e})=>t?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:T.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl md:text-2xl font-bold text-blue-800",children:"Terms and Conditions"}),T.jsx("button",{onClick:e,className:"text-red-500 hover:text-red-700 text-2xl",children:"×"})]}),T.jsxs("div",{className:"text-gray-700 text-sm md:text-base",children:[T.jsx("h3",{className:"font-semibold mb-2",children:"1. Acceptance of Terms"}),T.jsx("p",{className:"mb-4",children:"By accessing and using Peruma's services, you agree to these terms."}),T.jsx("h3",{className:"font-semibold mb-2",children:"2. Book Services"}),T.jsx("p",{className:"mb-4",children:"All book sales are final. Digital content is non-refundable."}),T.jsx("h3",{className:"font-semibold mb-2",children:"3. Privacy Policy"}),T.jsx("p",{className:"mb-4",children:"We protect your personal and purchase information."})]})]})}):null,_b=()=>{const[t,e]=B.useState(!1),[n,i]=B.useState(!1);return B.useEffect(()=>{const o=()=>{window.scrollY>200?e(!0):e(!1)};return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[]),T.jsxs(T.Fragment,{children:[T.jsx("footer",{className:"bg-gradient-to-r from-blue-600 via-blue-900 to-blue-700 text-white py-8 md:py-16 mt-8 relative",children:T.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 md:px-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-lg font-semibold text-white",children:[T.jsxs("div",{className:"text-2xl md:text-3xl font-extrabold tracking-wide text-white flex items-center mb-4 md:mb-0",children:[T.jsx(hb,{className:"mr-2"})," PERUMA"]}),T.jsx("div",{className:"flex space-x-6 md:space-x-8 items-center",children:[{Icon:ub,link:"https://www.instagram.com/peruma"},{Icon:cb,link:"https://www.linkedin.com/company/peruma"},{Icon:db,link:"https://www.twitter.com/peruma"},{Icon:mb,onClick:()=>i(!0)}].map(({Icon:o,link:a,onClick:u},d)=>a?T.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-orange-300 transition duration-300 ease-in-out transform hover:scale-125",children:T.jsx(o,{size:24,"md:size":28})},d):T.jsx("button",{onClick:u,className:"text-white hover:text-orange-300 transition duration-300 ease-in-out transform hover:scale-125",children:T.jsx(o,{size:24,"md:size":28})},d))})]}),T.jsx("div",{className:`mt-6 md:mt-10 p-4 md:p-8 bg-white text-black rounded-2xl shadow-2xl transform transition-all duration-700 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-10",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg md:text-xl font-semibold text-blue-800",children:"Our Bookstore"}),T.jsxs("div",{className:"text-xs md:text-sm text-gray-700 space-y-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(gb,{className:"mr-2 text-blue-600 flex-shrink-0"}),T.jsx("span",{className:"truncate",children:"#302, Book Haven Complex, Literature Lane, Bangalore-72"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(fb,{className:"mr-2 text-blue-600 flex-shrink-0"}),T.jsx("span",{className:"truncate",children:"Mon-Sat: 10 AM - 8 PM | Sun: 11 AM - 6 PM"})]})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg md:text-xl font-semibold text-blue-800",children:"Our Book Services"}),T.jsx("ul",{className:"text-xs md:text-sm text-gray-700 space-y-1",children:["Online Book Store","E-book Collections","Book Recommendation Engine","Literary Events & Workshops","Book Club Memberships"].map((o,a)=>T.jsxs("li",{className:"flex items-center",children:[T.jsx("span",{className:"text-blue-600 mr-2",children:"•"}),o]},a))})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg md:text-xl font-semibold text-blue-800",children:"Contact Information"}),T.jsxs("div",{className:"text-xs md:text-sm text-gray-700 space-y-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(pb,{className:"mr-2 text-blue-600 flex-shrink-0"}),T.jsx("a",{href:"mailto:perumabooks@gmail.com",className:"hover:text-blue-800 transition duration-300 truncate",children:"perumabooks@gmail.com"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(yb,{className:"mr-2 text-blue-600 flex-shrink-0"}),T.jsx("span",{children:"+91 86183 31380"})]}),T.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Support available: Mon-Sat, 9 AM - 6 PM"})]})]})]})})]})}),T.jsx(vb,{isOpen:n,onClose:()=>i(!1)})]})},wb="/assets/full-logo-peruma-M0z4aem4.png",Eb=()=>{const[t,e]=B.useState(null),[n,i]=B.useState(0),[o,a]=B.useState(!1),u=[{id:1,title:"BINARY CODING ACTIVITIES",price:"₹399.00",pages:"48",cover:"../books/book1.png",insideImages:["../books/book1.1.png","../books/book1.2.png","../books/book1.3.png","../books/book1.4.png"],description:"Coding concepts 🔹 Instructions 🔹 Quiz 🔹 Answers 🔹 120 Activities 🔹 Illustrations 🔹 Self-assessment Activity",highlights:["120 Coding Activities","Self-assessment Modules","Illustrated Examples","Interactive Learning"]},{id:2,title:"GRAPHS",price:"₹199.00",pages:"36",cover:"../books/book2.png",insideImages:["../books/book2.1.png","../books/book2.2.png","../books/book2.3.png","../books/book2.4.png"],description:"Concepts of graphs 🔹 Instructions 🔹 Quiz 🔹 Answers 🔹 16 Activities 🔹 Illustrations 🔹 4 types of graphs",highlights:["16 Graph Activities","4 Different Graph Types","Step-by-step Instructions","Practice Problems"]},{id:3,title:"INSPIRING PERSONALITIES",price:"₹199.00",pages:"72",cover:"../books/book3.png",insideImages:["../books/book3.1.png","../books/book3.2.png","../books/book3.3.png","../books/book3.4.png"],description:"Covers 30 Personalities 🔹 Highlights education, field of work, lifestyle, achievements, and legacy 🔹 Quiz 🔹 Answers",highlights:["30 Inspiring Stories","Detailed Biographies","Achievement Highlights","Educational Journey"]},{id:4,title:"NUMBERS",price:"₹99.00",pages:"32",cover:"../books/book4.png",insideImages:["../books/book4.1.png","../books/book4.2.png","../books/book4.3.png","../books/book4.4.png"],description:"Number Concepts 🔹 Instructions 🔹 Answers 🔹 13 Activities 🔹 Illustrations",highlights:["13 Math Activities","Basic Number Theory","Visual Learning","Practice Exercises"]},{id:5,title:"CRYPTIC MESSAGES",price:"₹99.00",pages:"32",cover:"../books/book5.png",insideImages:["../books/book5.1.png","../books/book5.2.png","../books/book5.3.png","../books/book5.4.png"],description:"Secrect Code concepts🔹 Problem-solving techniques 🔹 Step-by-step solutions 🔹 Practice exercises 🔹 Answers",highlights:["Cryptic Code","Real-world Applications","Detailed Solutions","Practice Sets"]},{id:6,title:"MATH PUZZLES",price:"₹99.00",pages:"48",cover:"../books/book6.png",insideImages:["../books/book6.1.png","../books/book6.2.png","../books/book6.3.png","../books/book6.4.png"],description:"Math/Problem solving Concepts 🔹 Self-assessment Activity 🔹 50 Activites 🔹 Instructions 🔹 Answers",highlights:["50 Activites","Logic First Approach","Simple Materials","Clear Instructions"]},{id:7,title:"WISDOM IN WORDS",price:"₹99.00",pages:"36",cover:"../books/book7.png",insideImages:["../books/book7.1.png","../books/book7.2.png","../books/book7.3.png","../books/book7.4.png"],description:"Concept of motivational quotes 🔹 90+ Quotes 🔹 Quiz 🔹 Answers",highlights:["Find your quotes","Motivational","Develops perspective","Positive thinking"]},{id:8,title:"SUDOKU",price:"₹79.00",pages:"32",cover:"../books/book8.png",insideImages:["../books/book8.1.png","../books/book8.2.png","../books/book8.3.png","../books/book8.4.png"],description:"Number Game / Problem solving🔹 Concepts 🔹 Instruction 🔹 24 Activites 🔹 Easy, Medium, Hard Levels",highlights:["Improves concentration","Cognitive skills","Logical thinking","Enhanced memory"]},{id:9,title:"MANDALA Colouring Art",price:"₹79.00",pages:"36",cover:"../books/book9.png",insideImages:["../books/book9.1.png","../books/book9.2.png","../books/book9.3.png","../books/book9.4.png"],description:"Colouring Concepts🔹 Instructions 🔹 34 Activities 🔹 Self-assessment Activity",highlights:["stimulates Creativity","Develops Patience","Mind relaxation","Attention span"]},{id:10,title:"MANDALA for Balancing Hands",price:"₹79.00",pages:"32",cover:"../books/book10.png",insideImages:["../books/book10.1.png","../books/book10.2.png","../books/book10.3.png","../books/book10.4.png"],description:"Motor Skill improvement and Colouring Concepts🔹 Instructions 🔹 30 Activities 🔹 Self-assessment Activity 🔹Easy, Medium, Hard Levels",highlights:["Cognitive skills","Balanced Hand Motions","Attention span","Improves concentration"]},{id:11,title:"HIDDEN WORDS",price:"₹79.00",pages:"28",cover:"../books/book11.png",insideImages:["../books/book11.1.png","../books/book11.2.png","../books/book11.3.png","../books/book11.4.png"],description:"Word search concepts 🔹 26 Activites 🔹 Instruction 🔹 Answers 🔹 self-assessment Activity",highlights:["Spelling skills","Short term memory","Observation skill","Learn new words"]},{id:12,title:"TRACE THE PATTERNS",price:"₹79.00",pages:"28",cover:"../books/book12.png",insideImages:["../books/book12.1.png","../books/book12.2.png","../books/book12.3.png","../books/book12.4.png"],description:"Handwriting improvement concept 🔹 50+ Activites",highlights:["TDrawing skills","Fine motor skills","Focus and concentration","Symmetry and Geometry"]},{id:13,title:"CONSTRUCT WORDS",price:"₹79.00",pages:"32",cover:"../books/book13.png",insideImages:["../books/book13.1.png","../books/book13.2.png","../books/book13.3.png","../books/book13.4.png"],description:"Word Formation Concepts 🔹 Step-by-step guides 🔹 30 Activites 🔹 Answers",highlights:["New words","Spelling skills","Language skills","Sort-term memory"]}],d=(g,y)=>{g.stopPropagation(),a(!0),setTimeout(()=>a(!1),3e3)},f=g=>{g.stopPropagation(),t&&i(y=>y===t.insideImages.length-1?0:y+1)},p=g=>{g.stopPropagation(),t&&i(y=>y===0?t.insideImages.length-1:y-1)};return T.jsxs("div",{className:"min-h-screen bg-gradient-to-b",children:[o&&T.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:"Interest Noted!."}),T.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 relative",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Educational Book Collection"}),T.jsx("p",{className:"text-lg text-blue-500",children:"Discover our comprehensive range of learning materials"})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 relative",children:[{icon:Pk,title:"Total Books",value:u.length},{icon:sb,title:"Author",value:"Dr. Pushpalatha G S"},{icon:zk,title:"Contact",value:"perumabooks@gmail.com"}].map((g,y)=>T.jsxs("div",{className:"bg-white rounded-xl overflow-auto  shadow-lg p-6 flex items-center space-x-4 border-2 border-blue-900 transform transition-all duration-500 hover:-translate-y-1 hover:shadow-lg",children:[T.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:T.jsx(g.icon,{className:"w-6 h-6 text-blue-600 sm:text-sm md:text-sm lg:text-lg"})}),T.jsxs("div",{children:[T.jsx("p",{className:" text-blue-600 font-medium sm:text-sm md:text-lg lg:text-lg",children:g.title}),T.jsx("p",{className:" font-semibold text-blue-1000  sm:text-sm md:text-sm lg:text-lg",children:g.value})]})]},y))}),T.jsxs("div",{className:"relative mb-8",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t-2 border-blue-900/10"})}),T.jsx("div",{className:"relative flex justify-center",children:T.jsxs("div",{className:"bg-gradient-to-b from-white to-blue-50 px-4 flex items-center space-x-2",children:[T.jsx(U_,{className:"w-6 h-6 text-blue-900"}),T.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Featured Books"}),T.jsx(U_,{className:"w-6 h-6 text-blue-900"})]})}),T.jsx("div",{className:"text-center mt-4",children:T.jsx("p",{className:"text-blue-1000",children:"Explore our handpicked selection of educational materials"})})]}),T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"min-h-screen flex flex-row gap-6 flex-wrap bg-gradient-to-b justify-around",children:u.map(g=>T.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl border-2 border-blue-900 w-full max-w-sm",onClick:()=>{e(g),i(0)},children:T.jsxs("div",{className:"p-4",children:[T.jsx("img",{src:g.cover,alt:g.title,className:"w-full h-48 object-contain mb-4"}),T.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:g.title}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-blue-600 font-medium",children:g.price}),T.jsxs("p",{className:"text-sm text-gray-600",children:["Pages: ",g.pages]}),T.jsx("div",{className:"pt-2 border-t",children:T.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:g.description})}),T.jsxs("button",{onClick:y=>d(y,g.title),className:"mt-4 w-full bg-blue-900 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:[T.jsx(B_,{className:"w-4 h-4"}),"Show Interest"]})]})]})},g.id))})})]}),t&&T.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50 p-4",onClick:()=>e(null),children:T.jsx("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2 border-blue-900",onClick:g=>g.stopPropagation(),children:T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:t.title}),T.jsxs("p",{className:"text-lg text-blue-600",children:[t.price," | ",t.pages," Pages"]})]}),T.jsx("button",{onClick:()=>e(null),className:"p-2 hover:bg-gray-100 rounded-full","aria-label":"Close modal",children:T.jsx(Lm,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:t.insideImages[n],alt:`Page ${n+1}`,className:"w-full rounded-lg shadow-md"}),T.jsxs("div",{className:"absolute inset-y-0 left-0 right-0 flex items-center justify-between px-4",children:[T.jsx("button",{onClick:p,className:"p-2 rounded-full bg-white/80 shadow-lg hover:bg-white","aria-label":"Previous image",children:T.jsx(Vm,{className:"w-6 h-6 text-blue-900"})}),T.jsx("button",{onClick:f,className:"p-2 rounded-full bg-white/80 shadow-lg hover:bg-white","aria-label":"Next image",children:T.jsx(Mm,{className:"w-6 h-6 text-blue-900"})})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Description"}),T.jsx("p",{className:"text-gray-700",children:t.description})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Highlights"}),T.jsx("ul",{className:"list-disc list-inside space-y-2",children:t.highlights.map((g,y)=>T.jsx("li",{className:"text-gray-700",children:g},y))})]}),T.jsx("div",{className:"pt-4",children:T.jsxs("button",{onClick:g=>d(g,t.title),className:"w-full bg-blue-900 text-white py-3 px-6 rounded-lg hover:bg-blue-800 transition-colors flex items-center justify-center gap-2",children:[T.jsx(B_,{className:"w-5 h-5"}),"Show Interest in This Book"]})})]})]})]})})})]})};function xb(t){return dr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.97 13.22a.75.75 0 0 1 1.06 0L11 18.19V3.75a.75.75 0 0 1 1.5 0v14.44l4.97-4.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734l-6.25 6.25a.75.75 0 0 1-1.06 0l-6.25-6.25a.75.75 0 0 1 0-1.06Z"},child:[]}]})(t)}const Tb=()=>{B.useState(!1);const[t,e]=B.useState(null),[n,i]=B.useState(null),[o,a]=B.useState(0),[u,d]=B.useState(!1);B.useEffect(()=>{const y=()=>{d(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const f=[{id:1,title:"Prajñā",cover:"../workshop/wok9.png",description:"Includes 6 innovative activities: Hidden words, Construct words, Inspiring Personalities, Wisdom in words, Trace the patterns, Mandala art",originalPrice:"Rs. 614/-",discountPrice:"Rs. 449/-",workshops:[{id:1,title:"Hidden Words",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok9.png",images:["../workshop/wok9.png"],description:"Intensive workshop exploring Hidden Words through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:2,title:"Construct words",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok8.png",images:["../workshop/wok8.png"],description:"Intensive workshop on Construct Words helps to form new words through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:3,title:"Inspiring Personalities",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok7.png",images:["../workshop/wok7.png"],description:"Intensive workshop on Inspiring Personalities teaches valuable life lessons.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:4,title:"Wisdom in words",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok13.png",images:["../workshop/wok13.png"],description:"Intensive workshop on Wisdom in words, a collection of inspiring quotes.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:5,title:"Trace the patterns",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok12.png",images:["../workshop/wok12.png"],description:"Intensive workshop on Trace the patterns, improves Handwriting.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:6,title:"Mandala art",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok10.png",images:["../workshop/wok10.png"],description:"Intensive workshop on Mandala Art for Balancing hands.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"}]},{id:2,title:"Prameya",cover:"../workshop/wok2.png",description:"Includes 6 innovative activities: Sudoku, Numbers, Math Puzzles, Graphs, Cryptic Messages, BCA",originalPrice:"Rs. 974/-",discountPrice:"Rs. 699/-",workshops:[{id:1,title:"Sudoku",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok2.png",images:["../workshop/wok2.png"],description:"Intensive workshop exploring Sudoku, number game and problem solving concepts through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:2,title:"Numbers",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok4.png",images:["../workshop/wok4.png"],description:"Intensive workshop exploring Numbers, from simple to complex concepts through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:3,title:"Math Puzzles",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok3.png",images:["../workshop/wok3.png"],description:"Intensive workshop exploring Math puzzles,improves problem solving skills through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:4,title:"Graphs",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok6.png",images:["../workshop/wok6.png"],description:"Intensive workshop exploring Grpahs,charting the self data through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:5,title:"Cryptic Messages",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok5.png",images:["../workshop/wok5.png"],description:"Intensive workshop exploring Cryptic Messages,learn secret code concepts through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"},{id:6,title:"Binary Coding Activities",instructor:"Dr. Pushpalatha G S",cover:"../workshop/wok1.png",images:["../workshop/wok1.png"],description:"Intensive workshop exploring Binary Coding Activities,get better understanding of coding concepts through interactive activities.",date:"Upcoming",capacity:30,duration:"3 days",location:"Tech Hub, Downtown"}]}],p=()=>{n&&a(y=>y===n.images.length-1?0:y+1)},g=()=>{n&&a(y=>y===0?n.images.length-1:y-1)};return T.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-gray-100 relative",children:T.jsxs("main",{className:"flex-1",children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[T.jsxs("div",{className:"text-center mb-8 w-full relative",children:[T.jsx("h1",{className:"text-3xl sm:text-2xl md:text-3xl lg:text-4xl font-extrabold text-gray-800 mb-2",children:"Cognitive Development Workshops"}),T.jsx("p",{className:"text-gray-600",children:"Unlock Your Potential with Comprehensive Learning Experiences"})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:f.map(y=>T.jsxs("div",{className:"bg-white rounded-xl p-2 shadow-lg overflow-hidden  hover:scale-105 border-2 border-blue-900 transform transition-all duration-500 hover:-translate-y-1 hover:shadow-lg",onClick:()=>{e(y),i(null)},children:[T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:y.cover,alt:y.title,className:"w-full h-64 object-cover"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),T.jsxs("div",{className:"p-6",children:[T.jsx("h3",{className:"font-semibold text-2xl text-gray-800 mb-3",children:y.title}),T.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:y.description}),T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[T.jsx(jk,{className:"w-5 h-5"}),T.jsxs("span",{className:"text-sm",children:[y.workshops.length," Workshops"]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(rb,{className:"w-5 h-5 text-red-500"}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-500 line-through text-sm mr-2",children:y.originalPrice}),T.jsx("span",{className:"text-blue-600 font-bold",children:y.discountPrice})]})]}),T.jsxs("button",{className:"px-4 py-2 bg-blue-900 text-white  rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:[T.jsx(Jk,{className:"w-5 h-5"}),"View Package"]})]})]})]})]},y.id))}),t&&T.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:y=>{y.target===y.currentTarget&&e(null)},children:T.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-5xl w-full mx-auto max-h-[90vh] overflow-y-auto",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:t.title}),T.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),T.jsx("button",{onClick:()=>e(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:T.jsx(Lm,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.workshops.map(y=>T.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer hover:shadow-xl transition-all",onClick:()=>{i(y),a(0)},children:[T.jsx("img",{src:y.cover,alt:y.title,className:"w-full h-48 object-cover"}),T.jsxs("div",{className:"p-4",children:[T.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:y.title}),T.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:y.description}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-blue-600 font-bold",children:y.price}),T.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[T.jsx(F_,{className:"w-4 h-4"}),T.jsx("span",{children:y.date})]})]})]})]},y.id))})]})}),n&&T.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:y=>{y.target===y.currentTarget&&i(null)},children:T.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-4xl w-full mx-auto max-h-[90vh] overflow-y-auto",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[T.jsx("div",{className:"w-full md:w-2/3 relative",children:n.images&&n.images.length>0&&T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:n.images[o],alt:`${n.title} image ${o+1}`,className:"w-full h-96 object-cover rounded-lg"}),n.images.length>1&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:g,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white/75 p-2 rounded-full transition",children:T.jsx(Vm,{className:"w-6 h-6"})}),T.jsx("button",{onClick:p,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white/75 p-2 rounded-full transition",children:T.jsx(Mm,{className:"w-6 h-6"})})]}),n.images.length>1&&T.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-2",children:n.images.map((y,w)=>T.jsx("button",{onClick:()=>a(w),className:`w-2 h-2 rounded-full ${w===o?"bg-blue-600":"bg-gray-300"}`},w))})]})}),T.jsxs("div",{className:"w-full md:w-1/3 space-y-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:n.title}),T.jsx("p",{className:"text-gray-600",children:n.description})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(z_,{className:"w-5 h-5 text-blue-600"}),T.jsxs("span",{children:["Instructor: ",n.instructor]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(F_,{className:"w-5 h-5 text-blue-600"}),T.jsx("span",{children:n.date})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(Nk,{className:"w-5 h-5 text-blue-600"}),T.jsxs("span",{children:["Duration: ",n.duration]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(BE,{className:"w-5 h-5 text-blue-600"}),T.jsxs("span",{children:["Location: ",n.location]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(z_,{className:"w-5 h-5 text-blue-600"}),T.jsxs("span",{children:["Capacity: ",n.capacity," participants"]})]})]}),T.jsx("div",{className:"flex justify-between items-center mt-4",children:T.jsx("span",{className:"text-2xl font-bold text-blue-600",children:n.price})})]})]})})})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mb-4 bg-white shadow-lg rounded-xl relative",children:[T.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Shop The Package"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(y=>T.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[T.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-600",children:[y.title," Package"]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{children:"Original Price"}),T.jsx("span",{className:"text-gray-500 line-through",children:y.originalPrice})]}),T.jsxs("div",{className:"flex justify-between items-center font-bold",children:[T.jsx("span",{children:"Discounted Price"}),T.jsx("span",{className:"text-blue-600",children:y.discountPrice})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{children:"Number of Workshops"}),T.jsx("span",{children:y.workshops.length})]}),T.jsxs("div",{className:"flex justify-center items-center gap-4 font-semibold",children:["To purchase the package"," ",T.jsx("span",{className:"text-blue-800",children:T.jsx(xb,{})})]}),T.jsx("div",{className:"flex justify-center lg:justify-start pt-4",children:T.jsxs(_l.Link,{to:"contact",smooth:!0,duration:500,offset:-80,className:"w-full py-2  bg-blue-900 text-white px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:[T.jsx(Lk,{className:"w-5 h-5"}),"Contact us"]})})]})]},y.id))})]})]})})};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Sb=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,g=a>>2,y=(a&3)<<4|d>>4;let w=(d&15)<<2|p>>6,x=p&63;f||(x=64,u||(w=64)),i.push(n[g],n[y],n[w],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||p==null||y==null)throw new Pb;const w=a<<2|d>>4;if(i.push(w),p!==64){const x=d<<4&240|p>>2;if(i.push(x),y!==64){const P=p<<6&192|y;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cb=function(t){const e=UE(t);return zE.encodeByteArray(e,!0)},ad=function(t){return Cb(t).replace(/\./g,"")},Ab=function(t){try{return zE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=()=>Ib().__FIREBASE_DEFAULTS__,kb=()=>{if(typeof process>"u"||typeof $_>"u")return;const t=$_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ab(t[1]);return e&&JSON.parse(e)},Om=()=>{try{return Rb()||kb()||bb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nb=t=>{var e,n;return(n=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Db=t=>{const e=Nb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},$E=()=>{var t;return(t=Om())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ad(JSON.stringify(n)),ad(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ob(){var t;const e=(t=Om())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jb(){return!Ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fb(){try{return typeof indexedDB=="object"}catch{return!1}}function Bb(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="FirebaseError";class xa extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Ub,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HE.prototype.create)}}class HE{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?zb(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new xa(o,d,i)}}function zb(t,e){return t.replace($b,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const $b=/\{\$([^}]+)}/g;function yp(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(H_(a)&&H_(u)){if(!yp(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function H_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){return t&&t._delegate?t._delegate:t}class Ml{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Vb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qb(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Wb(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wb(t){return t===Zs?void 0:t}function qb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const Gb={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},Qb=nt.INFO,Yb={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},Xb=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=Yb[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WE{constructor(e){this.name=e,this._logLevel=Qb,this._logHandler=Xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const Jb=(t,e)=>e.some(n=>t instanceof n);let W_,q_;function Zb(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eN(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,vp=new WeakMap,KE=new WeakMap,zf=new WeakMap,jm=new WeakMap;function tN(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(fs(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,t)}).catch(()=>{}),jm.set(e,t),e}function nN(t){if(vp.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});vp.set(t,e)}let _p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rN(t){_p=t(_p)}function iN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call($f(this),e,...n);return KE.set(i,e.sort?e.sort():[e]),fs(i)}:eN().includes(t)?function(...e){return t.apply($f(this),e),fs(qE.get(this))}:function(...e){return fs(t.apply($f(this),e))}}function sN(t){return typeof t=="function"?iN(t):(t instanceof IDBTransaction&&nN(t),Jb(t,Zb())?new Proxy(t,_p):t)}function fs(t){if(t instanceof IDBRequest)return tN(t);if(zf.has(t))return zf.get(t);const e=sN(t);return e!==t&&(zf.set(t,e),jm.set(e,t)),e}const $f=t=>jm.get(t);function oN(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),d=fs(u);return i&&u.addEventListener("upgradeneeded",f=>{i(fs(u.result),f.oldVersion,f.newVersion,fs(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const aN=["get","getKey","getAll","getAllKeys","count"],lN=["put","add","delete","clear"],Hf=new Map;function K_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=lN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||aN.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return Hf.set(e,a),a}rN(t=>({...t,get:(e,n,i)=>K_(e,n)||t.get(e,n,i),has:(e,n)=>!!K_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function cN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wp="@firebase/app",G_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new WE("@firebase/app"),dN="@firebase/app-compat",hN="@firebase/analytics-compat",fN="@firebase/analytics",pN="@firebase/app-check-compat",mN="@firebase/app-check",gN="@firebase/auth",yN="@firebase/auth-compat",vN="@firebase/database",_N="@firebase/data-connect",wN="@firebase/database-compat",EN="@firebase/functions",xN="@firebase/functions-compat",TN="@firebase/installations",SN="@firebase/installations-compat",PN="@firebase/messaging",CN="@firebase/messaging-compat",AN="@firebase/performance",IN="@firebase/performance-compat",RN="@firebase/remote-config",kN="@firebase/remote-config-compat",bN="@firebase/storage",NN="@firebase/storage-compat",DN="@firebase/firestore",VN="@firebase/vertexai",MN="@firebase/firestore-compat",LN="firebase",ON="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",jN={[wp]:"fire-core",[dN]:"fire-core-compat",[fN]:"fire-analytics",[hN]:"fire-analytics-compat",[mN]:"fire-app-check",[pN]:"fire-app-check-compat",[gN]:"fire-auth",[yN]:"fire-auth-compat",[vN]:"fire-rtdb",[_N]:"fire-data-connect",[wN]:"fire-rtdb-compat",[EN]:"fire-fn",[xN]:"fire-fn-compat",[TN]:"fire-iid",[SN]:"fire-iid-compat",[PN]:"fire-fcm",[CN]:"fire-fcm-compat",[AN]:"fire-perf",[IN]:"fire-perf-compat",[RN]:"fire-rc",[kN]:"fire-rc-compat",[bN]:"fire-gcs",[NN]:"fire-gcs-compat",[DN]:"fire-fst",[MN]:"fire-fst-compat",[VN]:"fire-vertex","fire-js":"fire-js",[LN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,FN=new Map,xp=new Map;function Q_(t,e){try{t.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ud(t){const e=t.name;if(xp.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,t);for(const n of ld.values())Q_(n,t);for(const n of FN.values())Q_(n,t);return!0}function BN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new HE("app","Firebase",UN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=ON;function GE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ep,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=$E()),!n)throw ps.create("no-options");const a=ld.get(o);if(a){if(yp(n,a.options)&&yp(i,a.config))return a;throw ps.create("duplicate-app",{appName:o})}const u=new Kb(o);for(const f of xp.values())u.addComponent(f);const d=new zN(n,i,u);return ld.set(o,d),d}function HN(t=Ep){const e=ld.get(t);if(!e&&t===Ep&&$E())return GE();if(!e)throw ps.create("no-app",{appName:t});return e}function aa(t,e,n){var i;let o=(i=jN[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(d.join(" "));return}ud(new Ml(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebase-heartbeat-database",qN=1,Ll="firebase-heartbeat-store";let Wf=null;function QE(){return Wf||(Wf=oN(WN,qN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw ps.create("idb-open",{originalErrorMessage:t.message})})),Wf}async function KN(t){try{const n=(await QE()).transaction(Ll),i=await n.objectStore(Ll).get(YE(t));return await n.done,i}catch(e){if(e instanceof xa)Ri.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function Y_(t,e){try{const i=(await QE()).transaction(Ll,"readwrite");await i.objectStore(Ll).put(e,YE(t)),await i.done}catch(n){if(n instanceof xa)Ri.warn(n.message);else{const i=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(i.message)}}}function YE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,QN=30*24*60*60*1e3;class YN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=QN}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ri.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X_(),{heartbeatsToSend:i,unsentEntries:o}=XN(this._heartbeatsCache.heartbeats),a=ad(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ri.warn(n),""}}}function X_(){return new Date().toISOString().substring(0,10)}function XN(t,e=GN){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),J_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class JN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fb()?Bb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function J_(t){return ad(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){ud(new Ml("platform-logger",e=>new uN(e),"PRIVATE")),ud(new Ml("heartbeat",e=>new YN(e),"PRIVATE")),aa(wp,G_,t),aa(wp,G_,"esm2017"),aa("fire-js","")}ZN("");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,XE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function R(){}R.prototype=C.prototype,k.D=C.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(M,O,V){for(var D=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)D[ue-2]=arguments[ue];return C.prototype[O].apply(M,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,C,R){R||(R=0);var M=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)M[O]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(O=0;16>O;++O)M[O]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=k.g[0],R=k.g[1],O=k.g[2];var V=k.g[3],D=C+(V^R&(O^V))+M[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=V+(O^C&(R^O))+M[1]+3905402710&4294967295,V=C+(D<<12&4294967295|D>>>20),D=O+(R^V&(C^R))+M[2]+606105819&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(C^O&(V^C))+M[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(V^R&(O^V))+M[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=V+(O^C&(R^O))+M[5]+1200080426&4294967295,V=C+(D<<12&4294967295|D>>>20),D=O+(R^V&(C^R))+M[6]+2821735955&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(C^O&(V^C))+M[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(V^R&(O^V))+M[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=V+(O^C&(R^O))+M[9]+2336552879&4294967295,V=C+(D<<12&4294967295|D>>>20),D=O+(R^V&(C^R))+M[10]+4294925233&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(C^O&(V^C))+M[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(V^R&(O^V))+M[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=V+(O^C&(R^O))+M[13]+4254626195&4294967295,V=C+(D<<12&4294967295|D>>>20),D=O+(R^V&(C^R))+M[14]+2792965006&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(C^O&(V^C))+M[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=C+(O^V&(R^O))+M[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(C^R))+M[6]+3225465664&4294967295,V=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(V^C))+M[11]+643717713&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^C&(O^V))+M[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(O^V&(R^O))+M[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(C^R))+M[10]+38016083&4294967295,V=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(V^C))+M[15]+3634488961&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^C&(O^V))+M[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(O^V&(R^O))+M[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(C^R))+M[14]+3275163606&4294967295,V=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(V^C))+M[3]+4107603335&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^C&(O^V))+M[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(O^V&(R^O))+M[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(C^R))+M[2]+4243563512&4294967295,V=C+(D<<9&4294967295|D>>>23),D=O+(C^R&(V^C))+M[7]+1735328473&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^C&(O^V))+M[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=C+(R^O^V)+M[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=V+(C^R^O)+M[8]+2272392833&4294967295,V=C+(D<<11&4294967295|D>>>21),D=O+(V^C^R)+M[11]+1839030562&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^C)+M[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(R^O^V)+M[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=V+(C^R^O)+M[4]+1272893353&4294967295,V=C+(D<<11&4294967295|D>>>21),D=O+(V^C^R)+M[7]+4139469664&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^C)+M[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(R^O^V)+M[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=V+(C^R^O)+M[0]+3936430074&4294967295,V=C+(D<<11&4294967295|D>>>21),D=O+(V^C^R)+M[3]+3572445317&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^C)+M[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(R^O^V)+M[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=V+(C^R^O)+M[12]+3873151461&4294967295,V=C+(D<<11&4294967295|D>>>21),D=O+(V^C^R)+M[15]+530742520&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^C)+M[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=C+(O^(R|~V))+M[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=V+(R^(C|~O))+M[7]+1126891415&4294967295,V=C+(D<<10&4294967295|D>>>22),D=O+(C^(V|~R))+M[14]+2878612391&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~C))+M[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=C+(O^(R|~V))+M[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=V+(R^(C|~O))+M[3]+2399980690&4294967295,V=C+(D<<10&4294967295|D>>>22),D=O+(C^(V|~R))+M[10]+4293915773&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~C))+M[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=C+(O^(R|~V))+M[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=V+(R^(C|~O))+M[15]+4264355552&4294967295,V=C+(D<<10&4294967295|D>>>22),D=O+(C^(V|~R))+M[6]+2734768916&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~C))+M[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=C+(O^(R|~V))+M[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=V+(R^(C|~O))+M[11]+3174756917&4294967295,V=C+(D<<10&4294967295|D>>>22),D=O+(C^(V|~R))+M[2]+718787259&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~C))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+V&4294967295}i.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var R=C-this.blockSize,M=this.B,O=this.h,V=0;V<C;){if(O==0)for(;V<=R;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<C;)if(M[O++]=k.charCodeAt(V++),O==this.blockSize){o(this,M),O=0;break}}else for(;V<C;)if(M[O++]=k[V++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=C},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var R=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=R&255,R/=256;for(this.u(k),k=Array(16),C=R=0;4>C;++C)for(var M=0;32>M;M+=8)k[R++]=this.g[C]>>>M&255;return k};function a(k,C){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=C(k)}function u(k,C){this.h=C;for(var R=[],M=!0,O=k.length-1;0<=O;O--){var V=k[O]|0;M&&V==C||(R[O]=V,M=!1)}this.g=R}var d={};function f(k){return-128<=k&&128>k?a(k,function(C){return new u([C|0],0>C?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return I(p(-k));for(var C=[],R=1,M=0;k>=R;M++)C[M]=k/R|0,R*=4294967296;return new u(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return I(g(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(C,8)),M=y,O=0;O<k.length;O+=8){var V=Math.min(8,k.length-O),D=parseInt(k.substring(O,O+V),C);8>V?(V=p(Math.pow(C,V)),M=M.j(V).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var y=f(0),w=f(1),x=f(16777216);t=u.prototype,t.m=function(){if(b(this))return-I(this).m();for(var k=0,C=1,R=0;R<this.g.length;R++){var M=this.i(R);k+=(0<=M?M:4294967296+M)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(b(this))return"-"+I(this).toString(k);for(var C=p(Math.pow(k,6)),R=this,M="";;){var O=Y(R,C).g;R=N(R,O.j(C));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=O,P(R))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=N(this,k),b(k)?-1:P(k)?0:1};function I(k){for(var C=k.g.length,R=[],M=0;M<C;M++)R[M]=~k.g[M];return new u(R,~k.h).add(w)}t.abs=function(){return b(this)?I(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0,O=0;O<=C;O++){var V=M+(this.i(O)&65535)+(k.i(O)&65535),D=(V>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);M=D>>>16,V&=65535,D&=65535,R[O]=D<<16|V}return new u(R,R[R.length-1]&-2147483648?-1:0)};function N(k,C){return k.add(I(C))}t.j=function(k){if(P(this)||P(k))return y;if(b(this))return b(k)?I(this).j(I(k)):I(I(this).j(k));if(b(k))return I(this.j(I(k)));if(0>this.l(x)&&0>k.l(x))return p(this.m()*k.m());for(var C=this.g.length+k.g.length,R=[],M=0;M<2*C;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<k.g.length;O++){var V=this.i(M)>>>16,D=this.i(M)&65535,ue=k.i(O)>>>16,Ne=k.i(O)&65535;R[2*M+2*O]+=D*Ne,F(R,2*M+2*O),R[2*M+2*O+1]+=V*Ne,F(R,2*M+2*O+1),R[2*M+2*O+1]+=D*ue,F(R,2*M+2*O+1),R[2*M+2*O+2]+=V*ue,F(R,2*M+2*O+2)}for(M=0;M<C;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=C;M<2*C;M++)R[M]=0;return new u(R,0)};function F(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function U(k,C){this.g=k,this.h=C}function Y(k,C){if(P(C))throw Error("division by zero");if(P(k))return new U(y,y);if(b(k))return C=Y(I(k),C),new U(I(C.g),I(C.h));if(b(C))return C=Y(k,I(C)),new U(I(C.g),C.h);if(30<k.g.length){if(b(k)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=C;0>=M.l(k);)R=L(R),M=L(M);var O=K(R,1),V=K(M,1);for(M=K(M,2),R=K(R,2);!P(M);){var D=V.add(M);0>=D.l(k)&&(O=O.add(R),V=D),M=K(M,1),R=K(R,1)}return C=N(k,O.j(C)),new U(O,C)}for(O=y;0<=k.l(C);){for(R=Math.max(1,Math.floor(k.m()/C.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=p(R),D=V.j(C);b(D)||0<D.l(k);)R-=M,V=p(R),D=V.j(C);P(V)&&(V=w),O=O.add(V),k=N(k,D)}return new U(O,k)}t.A=function(k){return Y(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)&k.i(M);return new u(R,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)|k.i(M);return new u(R,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)^k.i(M);return new u(R,this.h^k.h)};function L(k){for(var C=k.g.length+1,R=[],M=0;M<C;M++)R[M]=k.i(M)<<1|k.i(M-1)>>>31;return new u(R,k.h)}function K(k,C){var R=C>>5;C%=32;for(var M=k.g.length-R,O=[],V=0;V<M;V++)O[V]=0<C?k.i(V+R)>>>C|k.i(V+R+1)<<32-C:k.i(V+R);return new u(O,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,ms=u}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,gl,ZE,zc,Tp,ex,tx,nx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,E){return c==Array.prototype||c==Object.prototype||(c[v]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function o(c,v){if(v)e:{var E=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var G=c[A];if(!(G in E))break e;E=E[G]}c=c[c.length-1],A=E[c],v=v(A),v!=A&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}function a(c,v){c instanceof String&&(c+="");var E=0,A=!1,G={next:function(){if(!A&&E<c.length){var ee=E++;return{value:v(ee,c[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return a(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,E){return c.call.apply(c.bind,arguments)}function y(c,v,E){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),c.apply(v,G)}}return function(){return c.apply(v,arguments)}}function w(c,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,w.apply(null,arguments)}function x(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,v){function E(){}E.prototype=v.prototype,c.aa=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(A,G,ee){for(var fe=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)fe[ht-2]=arguments[ht];return v.prototype[G].apply(A,fe)}}function b(c){const v=c.length;if(0<v){const E=Array(v);for(let A=0;A<v;A++)E[A]=c[A];return E}return[]}function I(c,v){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(f(A)){const G=c.length||0,ee=A.length||0;c.length=G+ee;for(let fe=0;fe<ee;fe++)c[G+fe]=A[fe]}else c.push(A)}}class N{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var L=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function K(c,v,E){for(const A in c)v.call(E,c[A],A,c)}function k(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function C(c){const v={};for(const E in c)v[E]=c[E];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,v){let E,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(E in A)c[E]=A[E];for(let ee=0;ee<R.length;ee++)E=R[ee],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function O(c){var v=1;c=c.split(":");const E=[];for(;0<v&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function V(c){d.setTimeout(()=>{throw c},0)}function D(){var c=me;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ue{constructor(){this.h=this.g=null}add(v,E){const A=Ne.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Ne=new N(()=>new Ge,c=>c.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,se=!1,me=new ue,de=()=>{const c=d.Promise.resolve(void 0);Pe=()=>{c.then(W)}};var W=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){V(E)}var v=Ne;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}se=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return c}();function Le(c,v){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(L){e:{try{Y(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:We[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Le.aa.h.call(this)}}P(Le,ge);var We={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Re(c,v,E,A,G){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=G,this.key=++Ie,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,v,E,A,G){var ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);var fe=dn(c,v,A,G);return-1<fe?(v=c[fe],E||(v.fa=!1)):(v=new Re(v,this.src,ee,!!A,G),v.fa=E,c.push(v)),v};function Or(c,v){var E=v.type;if(E in c.g){var A=c.g[E],G=Array.prototype.indexOf.call(A,v,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(A,G,1),ee&&(rt(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function dn(c,v,E,A){for(var G=0;G<c.length;++G){var ee=c[G];if(!ee.da&&ee.listener==v&&ee.capture==!!E&&ee.ha==A)return G}return-1}var oi="closure_lm_"+(1e6*Math.random()|0),Vi={};function Mi(c,v,E,A,G){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)Mi(c,v[ee],E,A,G);return null}return E=Rn(E),c&&c[$e]?c.K(v,E,p(A)?!!A.capture:!1,G):Is(c,v,E,!1,A,G)}function Is(c,v,E,A,G,ee){if(!v)throw Error("Invalid event type");var fe=p(G)?!!G.capture:!!G,ht=ai(c);if(ht||(c[oi]=ht=new Wt(c)),E=ht.add(v,E,A,fe,ee),E.proxy)return E;if(A=go(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)Me||(G=fe),G===void 0&&(G=!1),c.addEventListener(v.toString(),A,G);else if(c.attachEvent)c.attachEvent(Xt(v.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function go(){function c(E){return v.call(c.src,c.listener,E)}const v=fr;return c}function Li(c,v,E,A,G){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Li(c,v[ee],E,A,G);else A=p(A)?!!A.capture:!!A,E=Rn(E),c&&c[$e]?(c=c.i,v=String(v).toString(),v in c.g&&(ee=c.g[v],E=dn(ee,E,A,G),-1<E&&(rt(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete c.g[v],c.h--)))):c&&(c=ai(c))&&(v=c.g[v.toString()],c=-1,v&&(c=dn(v,E,A,G)),(E=-1<c?v[c]:null)&&hr(E))}function hr(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[$e])Or(v.i,c);else{var E=c.type,A=c.proxy;v.removeEventListener?v.removeEventListener(E,A,c.capture):v.detachEvent?v.detachEvent(Xt(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=ai(v))?(Or(E,c),E.h==0&&(E.src=null,v[oi]=null)):rt(c)}}}function Xt(c){return c in Vi?Vi[c]:Vi[c]="on"+c}function fr(c,v){if(c.da)c=!0;else{v=new Le(v,this);var E=c.listener,A=c.ha||c.src;c.fa&&hr(c),c=E.call(A,v)}return c}function ai(c){return c=c[oi],c instanceof Wt?c:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rn(c){return typeof c=="function"?c:(c[jr]||(c[jr]=function(v){return c.handleEvent(v)}),c[jr])}function dt(){te.call(this),this.i=new Wt(this),this.M=this,this.F=null}P(dt,te),dt.prototype[$e]=!0,dt.prototype.removeEventListener=function(c,v,E,A){Li(this,c,v,E,A)};function Rt(c,v){var E,A=c.F;if(A)for(E=[];A;A=A.F)E.push(A);if(c=c.M,A=v.type||v,typeof v=="string")v=new ge(v,c);else if(v instanceof ge)v.target=v.target||c;else{var G=v;v=new ge(A,c),M(v,G)}if(G=!0,E)for(var ee=E.length-1;0<=ee;ee--){var fe=v.g=E[ee];G=Un(fe,A,!0,v)&&G}if(fe=v.g=c,G=Un(fe,A,!0,v)&&G,G=Un(fe,A,!1,v)&&G,E)for(ee=0;ee<E.length;ee++)fe=v.g=E[ee],G=Un(fe,A,!1,v)&&G}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var E=c.g[v],A=0;A<E.length;A++)rt(E[A]);delete c.g[v],c.h--}}this.F=null},dt.prototype.K=function(c,v,E,A){return this.i.add(String(c),v,!1,E,A)},dt.prototype.L=function(c,v,E,A){return this.i.add(String(c),v,!0,E,A)};function Un(c,v,E,A){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,ee=0;ee<v.length;++ee){var fe=v[ee];if(fe&&!fe.da&&fe.capture==E){var ht=fe.listener,Bt=fe.ha||fe.src;fe.fa&&Or(c.i,fe),G=ht.call(Bt,A)!==!1&&G}}return G&&!A.defaultPrevented}function Rs(c,v,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(c,v||0)}function Jt(c){c.g=Rs(()=>{c.g=null,c.i&&(c.i=!1,Jt(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Fr extends te{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(c){te.call(this),this.h=c,this.g={}}P(Br,te);var Oi=[];function ks(c){K(c.g,function(v,E){this.g.hasOwnProperty(E)&&hr(v)},c),c.g={}}Br.prototype.N=function(){Br.aa.N.call(this),ks(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=d.JSON.stringify,Ur=d.JSON.parse,Fi=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pr(){}pr.prototype.h=null;function Bi(c){return c.h||(c.h=c.i())}function li(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){ge.call(this,"d")}P(zn,ge);function mr(){ge.call(this,"c")}P(mr,ge);var Sn={},bs=null;function ui(){return bs=bs||new dt}Sn.La="serverreachability";function $(c){ge.call(this,Sn.La,c)}P($,ge);function q(c){const v=ui();Rt(v,new $(v))}Sn.STAT_EVENT="statevent";function Z(c,v){ge.call(this,Sn.STAT_EVENT,c),this.stat=v}P(Z,ge);function ne(c){const v=ui();Rt(v,new Z(v,c))}Sn.Ma="timingevent";function pe(c,v){ge.call(this,Sn.Ma,c),this.size=v}P(pe,ge);function we(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function ye(c,v,E,A,G,ee){c.info(function(){if(c.g)if(ee)for(var fe="",ht=ee.split("&"),Bt=0;Bt<ht.length;Bt++){var et=ht[Bt].split("=");if(1<et.length){var qt=et[0];et=et[1];var Lt=qt.split("_");fe=2<=Lt.length&&Lt[1]=="type"?fe+(qt+"="+et+"&"):fe+(qt+"=redacted&")}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+v+`
`+E+`
`+fe})}function xe(c,v,E,A,G,ee,fe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+v+`
`+E+`
`+ee+" "+fe})}function he(c,v,E,A){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+He(c,E)+(A?" "+A:"")})}function je(c,v){c.info(function(){return"TIMEOUT: "+v})}be.prototype.info=function(){};function He(c,v){if(!c.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var A=E[c];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var fe=1;fe<G.length;fe++)G[fe]=""}}}}return ji(E)}catch{return v}}var at={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qe;function it(){}P(it,pr),it.prototype.g=function(){return new XMLHttpRequest},it.prototype.i=function(){return{}},Qe=new it;function lt(c,v,E,A){this.j=c,this.i=v,this.l=E,this.R=A||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gr}function gr(){this.i=null,this.g="",this.h=!1}var yr={},hn={};function Zt(c,v,E){c.L=1,c.v=Hi($n(v)),c.m=E,c.P=!0,ci(c,null)}function ci(c,v){c.F=Date.now(),ut(c),c.A=$n(c.v);var E=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),qi(E.i,"t",A),c.C=0,E=c.j.J,c.h=new gr,c.g=pu(c.j,E?v:null,!c.m),0<c.O&&(c.M=new Fr(w(c.Y,c,c.g),c.O)),v=c.U,E=c.g,A=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Oi[0]=G.toString()),G=Oi);for(var ee=0;ee<G.length;ee++){var fe=Mi(E,G[ee],A||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),q(),ye(c.i,c.u,c.A,c.l,c.R,c.m)}lt.prototype.ca=function(c){c=c.target;const v=this.M;v&&Dn(c)==3?v.j():this.Y(c)},lt.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=Dn(this.g);var v=this.g.Ba();const er=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Na(this.g)))){this.J||Lt!=4||v==7||(v==8||0>=er?q(3):q(2)),Ze(this);var E=this.g.Z();this.X=E;t:if(zr(this)){var A=Na(this.g);c="";var G=A.length,ee=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),mt(this);var fe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,c+=this.h.i.decode(A[v],{stream:!(ee&&v==G-1)});A.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,xe(this.i,this.u,this.A,this.l,this.R,Lt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Bt=this.g;if((ht=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ht)){var et=ht;break t}}et=null}if(E=et)he(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,E);else{this.o=!1,this.s=3,ne(12),en(this),mt(this);break e}}if(this.P){E=!0;let Wn;for(;!this.J&&this.C<fe.length;)if(Wn=vr(this,fe),Wn==hn){Lt==4&&(this.s=4,ne(14),E=!1),he(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==yr){this.s=4,ne(15),he(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else he(this.i,this.l,Wn,null),_r(this,Wn);if(zr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||fe.length!=0||this.h.h||(this.s=1,ne(16),E=!1),this.o=this.o&&E,!E)he(this.i,this.l,fe,"[Invalid Chunked Response]"),en(this),mt(this);else if(0<fe.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Va(qt),qt.M=!0,ne(11))}}else he(this.i,this.l,fe,null),_r(this,fe);Lt==4&&en(this),this.o&&!this.J&&(Lt==4?Io(this.j,this):(this.o=!1,ut(this)))}else To(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),en(this),mt(this)}}}catch{}finally{}};function zr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,v){var E=c.C,A=v.indexOf(`
`,E);return A==-1?hn:(E=Number(v.substring(E,A)),isNaN(E)?yr:(A+=1,A+E>v.length?hn:(v=v.slice(A,A+E),c.C=A+E,v)))}lt.prototype.cancel=function(){this.J=!0,en(this)};function ut(c){c.S=Date.now()+c.I,di(c,c.I)}function di(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=we(w(c.ba,c),v)}function Ze(c){c.B&&(d.clearTimeout(c.B),c.B=null)}lt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(je(this.i,this.A),this.L!=2&&(q(),ne(17)),en(this),this.s=2,mt(this)):di(this,this.S-c)};function mt(c){c.j.G==0||c.J||Io(c.j,c)}function en(c){Ze(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,ks(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function _r(c,v){try{var E=c.j;if(E.G!=0&&(E.g==c||Pn(E.h,c))){if(!c.K&&Pn(E.h,c)&&E.G==3){try{var A=E.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Ao(E),Sr(E);else break e;Co(E),ne(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=we(w(E.Za,E),6e3));if(1>=yo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else gi(E,11)}else if((c.K||E.g==c)&&Ao(E),!F(v))for(G=E.Da.g.parse(v),v=0;v<G.length;v++){let et=G[v];if(E.T=et[0],et=et[1],E.G==2)if(et[0]=="c"){E.K=et[1],E.ia=et[2];const qt=et[3];qt!=null&&(E.la=qt,E.j.info("VER="+E.la));const Lt=et[4];Lt!=null&&(E.Aa=Lt,E.j.info("SVER="+E.Aa));const er=et[5];er!=null&&typeof er=="number"&&0<er&&(A=1.5*er,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Wn=c.g;if(Wn){const Os=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var ee=A.h;ee.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ia(ee,ee.h),ee.h=null))}if(A.D){const ko=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(A.ya=ko,ft(A.I,A.D,ko))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var fe=c;if(A.qa=fu(A,A.J?A.ia:null,A.W),fe.K){tu(A.h,fe);var ht=fe,Bt=A.L;Bt&&(ht.I=Bt),ht.B&&(Ze(ht),ut(ht)),A.g=fe}else Ls(A);0<E.i.length&&qr(E)}else et[0]!="stop"&&et[0]!="close"||gi(E,7);else E.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?gi(E,7):nn(E):et[0]!="noop"&&E.l&&E.l.ta(et),E.v=0)}}q(4)}catch{}}var gt=class{constructor(c,v){this.g=c,this.map=v}};function bn(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yo(c){return c.h?1:c.g?c.g.size:0}function Pn(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Ia(c,v){c.g?c.g.add(v):c.h=v}function tu(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}bn.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.D);return v}return b(c.i)}function vo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var v=[],E=c.length,A=0;A<E;A++)v.push(c[A]);return v}v=[],E=0;for(A in c)v[E++]=c[A];return v}function _o(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var v=[];c=c.length;for(var E=0;E<c;E++)v.push(E);return v}v=[],E=0;for(const A in c)v[E++]=A;return v}}}function Ui(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var E=_o(c),A=vo(c),G=A.length,ee=0;ee<G;ee++)v.call(void 0,A[ee],E&&E[ee],c)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(c,v){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var A=c[E].indexOf("="),G=null;if(0<=A){var ee=c[E].substring(0,A);G=c[E].substring(A+1)}else ee=c[E];v(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function hi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hi){this.h=c.h,Ds(this,c.j),this.o=c.o,this.g=c.g,zi(this,c.s),this.l=c.l;var v=c.i,E=new $r;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),$i(this,E),this.m=c.m}else c&&(v=String(c).match(Ns))?(this.h=!1,Ds(this,v[1]||"",!0),this.o=Ye(v[2]||""),this.g=Ye(v[3]||"",!0),zi(this,v[4]),this.l=Ye(v[5]||"",!0),$i(this,v[6]||"",!0),this.m=Ye(v[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}hi.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Wi(v,wo,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Wi(v,wo,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Wi(E,E.charAt(0)=="/"?su:iu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Wi(E,Ra)),c.join("")};function $n(c){return new hi(c)}function Ds(c,v,E){c.j=E?Ye(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function zi(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function $i(c,v,E){v instanceof $r?(c.i=v,Hr(c.i,c.h)):(E||(v=Wi(v,ou)),c.i=new $r(v,c.h))}function ft(c,v,E){c.i.set(v,E)}function Hi(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ye(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wi(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,ru),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wo=/[#\/\?@]/g,iu=/[#\?:]/g,su=/[#\?]/g,ou=/[#\?@]/g,Ra=/#/g;function $r(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wd(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=$r.prototype,t.add=function(c,v){tn(this),this.i=null,c=Zn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function wr(c,v){tn(c),v=Zn(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Er(c,v){return tn(c),v=Zn(c,v),c.g.has(v)}t.forEach=function(c,v){tn(this),this.g.forEach(function(E,A){E.forEach(function(G){c.call(v,G,A,this)},this)},this)},t.na=function(){tn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let A=0;A<v.length;A++){const G=c[A];for(let ee=0;ee<G.length;ee++)E.push(v[A])}return E},t.V=function(c){tn(this);let v=[];if(typeof c=="string")Er(this,c)&&(v=v.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)v=v.concat(c[E])}return v},t.set=function(c,v){return tn(this),this.i=null,c=Zn(this,c),Er(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},t.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function qi(c,v,E){wr(c,v),0<E.length&&(c.i=null,c.g.set(Zn(c,v),b(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var A=v[E];const ee=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var G=ee;fe[A]!==""&&(G+="="+encodeURIComponent(String(fe[A]))),c.push(G)}}return this.i=c.join("&")};function Zn(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Hr(c,v){v&&!c.j&&(tn(c),c.i=null,c.g.forEach(function(E,A){var G=A.toLowerCase();A!=G&&(wr(this,A),qi(this,G,E))},c)),c.j=v}function qd(c,v){const E=new be;if(d.Image){const A=new Image;A.onload=x(Nn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=x(Nn,E,"TestLoadImage: error",!1,v,A),A.onabort=x(Nn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=x(Nn,E,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else v(!1)}function au(c,v){const E=new be,A=new AbortController,G=setTimeout(()=>{A.abort(),Nn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:A.signal}).then(ee=>{clearTimeout(G),ee.ok?Nn(E,"TestPingServer: ok",!0,v):Nn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Nn(E,"TestPingServer: error",!1,v)})}function Nn(c,v,E,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(E)}catch{}}function Kd(){this.g=new Fi}function lu(c,v,E){const A=E||"";try{Ui(c,function(G,ee){let fe=G;p(G)&&(fe=ji(G)),v.push(A+ee+"="+encodeURIComponent(fe))})}catch(G){throw v.push(A+"type="+encodeURIComponent("_badmap")),G}}function fi(c){this.l=c.Ub||null,this.j=c.eb||!1}P(fi,pr),fi.prototype.g=function(){return new Vs(this.l,this.j)},fi.prototype.i=function(c){return function(){return c}}({});function Vs(c,v){dt.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Vs,dt),t=Vs.prototype,t.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,Tr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?xr(this):Tr(this),this.readyState==3&&uu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,xr(this))},t.Qa=function(c){this.g&&(this.response=c,xr(this))},t.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Tr(c)}t.setRequestHeader=function(c,v){this.u.append(c,v)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function Tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pi(c){let v="";return K(c,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function Ki(c,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=pi(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):ft(c,v,E))}function Et(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Et,dt);var Gd=/^https?$/i,ka=["POST","PUT"];t=Et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qe.g(),this.v=this.o?Bi(this.o):Bi(Qe),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ee){Ms(this,ee);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)E.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())E.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ka,v,void 0))||A||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of E)this.g.setRequestHeader(ee,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(c),this.u=!1}catch(ee){Ms(this,ee)}};function Ms(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Eo(c),Hn(c)}function Eo(c){c.A||(c.A=!0,Rt(c,"complete"),Rt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Rt(this,"complete"),Rt(this,"abort"),Hn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},t.bb=function(){ba(this)};function ba(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Rs(c.Ea,0,c);else if(Rt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=fe===0){var G=String(c.D).match(Ns)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),A=!Gd.test(G?G.toLowerCase():"")}E=A}if(E)Rt(c,"complete"),Rt(c,"success");else{c.m=6;try{var ee=2<Dn(c)?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.Z()+"]",Eo(c)}}finally{Hn(c)}}}}function Hn(c,v){if(c.g){xo(c);const E=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Rt(c,"ready");try{E.onreadystatechange=A}catch{}}}function xo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ur(v)}};function Na(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function To(c){const v={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(F(c[A]))continue;var E=O(c[A]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=v[G]||[];v[G]=ee,ee.push(E)}k(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function Da(c){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,c),this.cb=Wr("retryDelaySeedMs",1e4,c),this.Wa=Wr("forwardChannelMaxRetries",2,c),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bn(c&&c.concurrentRequestLimit),this.Da=new Kd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Da.prototype,t.la=8,t.G=1,t.connect=function(c,v,E,A){ne(0),this.W=c,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=fu(this,null,this.W),qr(this)};function nn(c){if(So(c),c.G==3){var v=c.U++,E=$n(c.I);if(ft(E,"SID",c.K),ft(E,"RID",v),ft(E,"TYPE","terminate"),mi(c,E),v=new lt(c,c.j,v),v.L=2,v.v=Hi($n(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=pu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ut(v)}hu(c)}function Sr(c){c.g&&(Va(c),c.g.cancel(),c.g=null)}function So(c){Sr(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ao(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function qr(c){if(!fn(c.h)&&!c.s){c.s=!0;var v=c.Ga;Pe||de(),se||(Pe(),se=!0),me.add(v,c),c.B=0}}function Qd(c,v){return yo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=we(w(c.Ga,c,v),du(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new lt(this,this.j,c);let ee=this.o;if(this.S&&(ee?(ee=C(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Gi(this,G,v),E=$n(this.I),ft(E,"RID",c),ft(E,"CVER",22),this.D&&ft(E,"X-HTTP-Session-Id",this.D),mi(this,E),ee&&(this.O?v="headers="+encodeURIComponent(String(pi(ee)))+"&"+v:this.m&&Ki(E,this.m,ee)),Ia(this.h,G),this.Ua&&ft(E,"TYPE","init"),this.P?(ft(E,"$req",v),ft(E,"SID","null"),G.T=!0,Zt(G,E,null)):Zt(G,E,v),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||fn(this.h)||Po(this))};function Po(c,v){var E;v?E=v.l:E=c.U++;const A=$n(c.I);ft(A,"SID",c.K),ft(A,"RID",E),ft(A,"AID",c.T),mi(c,A),c.m&&c.o&&Ki(A,c.m,c.o),E=new lt(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Gi(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,E),Zt(E,A,v)}function mi(c,v){c.H&&K(c.H,function(E,A){ft(v,A,E)}),c.l&&Ui({},function(E,A){ft(v,A,E)})}function Gi(c,v,E){E=Math.min(c.i.length,E);var A=c.l?w(c.l.Na,c.l,c):null;e:{var G=c.i;let ee=-1;for(;;){const fe=["count="+E];ee==-1?0<E?(ee=G[0].g,fe.push("ofs="+ee)):ee=0:fe.push("ofs="+ee);let ht=!0;for(let Bt=0;Bt<E;Bt++){let et=G[Bt].g;const qt=G[Bt].map;if(et-=ee,0>et)ee=Math.max(0,G[Bt].g-100),ht=!1;else try{lu(qt,fe,"req"+et+"_")}catch{A&&A(qt)}}if(ht){A=fe.join("&");break e}}}return c=c.i.splice(0,E),v.D=c,A}function Ls(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;Pe||de(),se||(Pe(),se=!0),me.add(v,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=we(w(c.Fa,c),du(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=we(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Sr(this),cu(this))};function Va(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function cu(c){c.g=new lt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=$n(c.qa);ft(v,"RID","rpc"),ft(v,"SID",c.K),ft(v,"AID",c.T),ft(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(v,"TO",c.ja),ft(v,"TYPE","xmlhttp"),mi(c,v),c.m&&c.o&&Ki(v,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Hi($n(v)),E.m=null,E.P=!0,ci(E,c)}t.Za=function(){this.C!=null&&(this.C=null,Sr(this),Co(this),ne(19))};function Ao(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Io(c,v){var E=null;if(c.g==v){Ao(c),Va(c),c.g=null;var A=2}else if(Pn(c.h,v))E=v.D,tu(c.h,v),A=1;else return;if(c.G!=0){if(v.o)if(A==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var G=c.B;A=ui(),Rt(A,new pe(A,E)),qr(c)}else Ls(c);else if(G=v.s,G==3||G==0&&0<v.X||!(A==1&&Qd(c,v)||A==2&&Co(c)))switch(E&&0<E.length&&(v=c.h,v.i=v.i.concat(E)),G){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function du(c,v){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*v}function gi(c,v){if(c.j.info("Error code "+v),v==2){var E=w(c.fb,c),A=c.Xa;const G=!A;A=new hi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ds(A,"https"),Hi(A),G?qd(A.toString(),E):au(A.toString(),E)}else ne(2);c.G=0,c.l&&c.l.sa(v),hu(c),So(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function hu(c){if(c.G=0,c.ka=[],c.l){const v=nu(c.h);(v.length!=0||c.i.length!=0)&&(I(c.ka,v),I(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function fu(c,v,E){var A=E instanceof hi?$n(E):new hi(E);if(A.g!="")v&&(A.g=v+"."+A.g),zi(A,A.s);else{var G=d.location;A=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var ee=new hi(null);A&&Ds(ee,A),v&&(ee.g=v),G&&zi(ee,G),E&&(ee.l=E),A=ee}return E=c.D,v=c.ya,E&&v&&ft(A,E,v),ft(A,"VER",c.la),mi(c,A),A}function pu(c,v,E){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Et(new fi({eb:E})):new Et(c.pa),v.Ha(c.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ma(){}t=Ma.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ro(){}Ro.prototype.g=function(c,v){return new Cn(c,v)};function Cn(c,v){dt.call(this),this.g=new Da(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!F(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Kr(this)}P(Cn,dt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){nn(this.g)},Cn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=ji(c),c=E);v.i.push(new gt(v.Ya++,c)),v.G==3&&qr(v)},Cn.prototype.N=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,Cn.aa.N.call(this)};function mu(c){zn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}P(mu,zn);function gu(){mr.call(this),this.status=1}P(gu,mr);function Kr(c){this.g=c}P(Kr,Ma),Kr.prototype.ua=function(){Rt(this.g,"a")},Kr.prototype.ta=function(c){Rt(this.g,new mu(c))},Kr.prototype.sa=function(c){Rt(this.g,new gu)},Kr.prototype.ra=function(){Rt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,nx=function(){return new Ro},tx=function(){return ui()},ex=Sn,Tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,zc=at,kt.COMPLETE="complete",ZE=kt,li.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,gl=li,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,JE=Et}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new WE("@firebase/firestore");function Jo(){return so.logLevel}function _e(t,...e){if(so.logLevel<=nt.DEBUG){const n=e.map(Fm);so.debug(`Firestore (${Ta}): ${t}`,...n)}}function ki(t,...e){if(so.logLevel<=nt.ERROR){const n=e.map(Fm);so.error(`Firestore (${Ta}): ${t}`,...n)}}function fa(t,...e){if(so.logLevel<=nt.WARN){const n=e.map(Fm);so.warn(`Firestore (${Ta}): ${t}`,...n)}}function Fm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t="Unexpected state"){const e=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: `+t;throw ki(e),new Error(e)}function ct(t,e){t||Be()}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class t4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n4{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string"),new rx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new En(e)}}class r4{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class i4{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new r4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ct(this.o===void 0);const i=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new s4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=a4(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%e.length))}return i}}function Xe(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new $t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new $t(0,0))}static max(){return new Ue(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Be(),i===void 0?i=e.length-n:i>e.length-n&&Be(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=Jr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Jr.isNumericId(e),o=Jr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class _t extends Jr{construct(e,n,i){return new _t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const l4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Jr{construct(e,n,i){return new ln(e,n,i)}static isValidIdentifier(e){return l4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Te(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Te(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Te(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new Te(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(_t.fromString(e))}static fromName(e){return new ke(_t.fromString(e).popFirst(5))}static empty(){return new ke(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new _t(e.slice()))}}function u4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(i===1e9?new $t(n+1,0):new $t(n,i));return new Es(o,ke.empty(),e)}function c4(t){return new Es(t.readTime,t.key,-1)}class Es{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Es(Ue.min(),ke.empty(),-1)}static max(){return new Es(Ue.max(),ke.empty(),-1)}}function d4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==h4)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,i)=>{n(e)})}static reject(e){return new re((n,i)=>{i(e)})}static waitFor(e){return new re((n,i)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&n()},f=>i(f))}),u=!0,a===o&&n()})}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next(o=>o?re.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new re((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{u[p]=g,++d,d===a&&i(u)},g=>o(g))}})}static doWhile(e,n){return new re((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function p4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nd.oe=-1;function Dd(t){return t==null}function cd(t){return t===0&&1/t==-1/0}function m4(t){return typeof t=="number"&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tw(e)),e=y4(t.get(n),e);return tw(e)}function y4(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function tw(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??an.RED,this.left=o??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new an(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(e,n,i,o,a){return this}insert(e,n,i){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rw(this.data.getIterator())}getIteratorFrom(e){return new rw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class rw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new Ht(ln.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ox("Invalid base64 string: "+a):a}}(e);return new cn(n)}static fromUint8Array(e){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const v4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(t){if(ct(!!t),typeof t=="string"){let e=0;const n=v4.exec(t);if(ct(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vd(t){const e=t.mapValue.fields.__previous_value__;return Bm(e)?Vd(e):e}function Ol(t){const e=xs(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,i,o,a,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bm(t)?4:E4(t)?9007199254740991:w4(t)?10:11:Be()}function ii(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=xs(o.timestampValue),d=xs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Ts(o.bytesValue).isEqual(Ts(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return Mt(o.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Mt(o.integerValue)===Mt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Mt(o.doubleValue),d=Mt(a.doubleValue);return u===d?cd(u)===cd(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(nw(u)!==nw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!ii(u[f],d[f])))return!1;return!0}(t,e);default:return Be()}}function Fl(t,e){return(t.values||[]).find(n=>ii(n,e))!==void 0}function ma(t,e){if(t===e)return 0;const n=Ss(t),i=Ss(e);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Mt(a.integerValue||a.doubleValue),f=Mt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return iw(t.timestampValue,e.timestampValue);case 4:return iw(Ol(t),Ol(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(a,u){const d=Ts(a),f=Ts(u);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Xe(d[p],f[p]);if(g!==0)return g}return Xe(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Xe(Mt(a.latitude),Mt(u.latitude));return d!==0?d:Xe(Mt(a.longitude),Mt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sw(t.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,g;const y=a.fields||{},w=u.fields||{},x=(d=y.value)===null||d===void 0?void 0:d.arrayValue,P=(f=w.value)===null||f===void 0?void 0:f.arrayValue,b=Xe(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:sw(x,P)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Nc.mapValue&&u===Nc.mapValue)return 0;if(a===Nc.mapValue)return 1;if(u===Nc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let y=0;y<f.length&&y<g.length;++y){const w=Xe(f[y],g[y]);if(w!==0)return w;const x=ma(d[f[y]],p[g[y]]);if(x!==0)return x}return Xe(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Be()}}function iw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=xs(t),i=xs(e),o=Xe(n.seconds,i.seconds);return o!==0?o:Xe(n.nanos,i.nanos)}function sw(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=ma(n[o],i[o]);if(a)return a}return Xe(n.length,i.length)}function ga(t){return Sp(t)}function Sp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=xs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Sp(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Sp(n.fields[u])}`;return o+"}"}(t.mapValue):Be()}function $c(t){switch(Ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(t);return e?16+$c(e):16;case 5:return 2*t.stringValue.length;case 6:return Ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+$c(a),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return co(i.fields,(a,u)=>{o+=a.length+$c(u)}),o}(t.mapValue);default:throw Be()}}function ow(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pp(t){return!!t&&"integerValue"in t}function Um(t){return!!t&&"arrayValue"in t}function aw(t){return!!t&&"nullValue"in t}function lw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function w4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Sl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=ln.emptyPath(),i={},o=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=d.popLast()}u?i[d.lastSegment()]=Sl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){co(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new cr(Sl(this.value))}}function ax(t){const e=[];return co(t.fields,(n,i)=>{const o=new ln([n]);if(Hc(i)){const a=ax(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,i,o,a,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,Ue.min(),Ue.min(),Ue.min(),cr.empty(),0)}static newFoundDocument(e,n,i,o){return new xn(e,1,n,Ue.min(),i,o,0)}static newNoDocument(e,n){return new xn(e,2,n,Ue.min(),Ue.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Ue.min(),Ue.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.position=e,this.inclusive=n}}function uw(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=ke.comparator(ke.fromName(u.referenceValue),n.key):i=ma(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function cw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function x4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{}class Ft extends lx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new S4(e,n,i):n==="array-contains"?new A4(e,i):n==="in"?new I4(e,i):n==="not-in"?new R4(e,i):n==="array-contains-any"?new k4(e,i):new Ft(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new P4(e,i):new C4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ma(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends lx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Lr(e,n)}matches(e){return ux(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ux(t){return t.op==="and"}function cx(t){return T4(t)&&ux(t)}function T4(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function Cp(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(cx(t))return t.filters.map(e=>Cp(e)).join(",");{const e=t.filters.map(n=>Cp(n)).join(",");return`${t.op}(${e})`}}function dx(t,e){return t instanceof Ft?function(i,o){return o instanceof Ft&&i.op===o.op&&i.field.isEqual(o.field)&&ii(i.value,o.value)}(t,e):t instanceof Lr?function(i,o){return o instanceof Lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,d)=>a&&dx(u,o.filters[d]),!0):!1}(t,e):void Be()}function hx(t){return t instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${ga(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(hx).join(" ,")+"}"}(t):"Filter"}class S4 extends Ft{constructor(e,n,i){super(e,n,i),this.key=ke.fromName(i.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class P4 extends Ft{constructor(e,n){super(e,"in",n),this.keys=fx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class C4 extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=fx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ke.fromName(i.referenceValue))}class A4 extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&Fl(n.arrayValue,this.value)}}class I4 extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class R4 extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fl(this.value.arrayValue,n)}}class k4 extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function dw(t,e=null,n=[],i=[],o=null,a=null,u=null){return new b4(t,e,n,i,o,a,u)}function zm(t){const e=ze(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Cp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ga(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ga(i)).join(",")),e.ue=n}return e.ue}function $m(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cw(t.startAt,e.startAt)&&cw(t.endAt,e.endAt)}function Ap(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,i=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function N4(t,e,n,i,o,a,u,d){return new Ca(t,e,n,i,o,a,u,d)}function px(t){return new Ca(t)}function hw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mx(t){return t.collectionGroup!==null}function Pl(t){const e=ze(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(ln.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Bl(a,i))}),n.has(ln.keyField().canonicalString())||e.ce.push(new Bl(ln.keyField(),i))}return e.ce}function ni(t){const e=ze(t);return e.le||(e.le=D4(e,Pl(t))),e.le}function D4(t,e){if(t.limitType==="F")return dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Bl(o.field,a)});const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ip(t,e){const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rp(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Md(t,e){return $m(ni(t),ni(e))&&t.limitType===e.limitType}function gx(t){return`${zm(ni(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>hx(o)).join(", ")}]`),Dd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>ga(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>ga(o)).join(",")),`Target(${i})`}(ni(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ke.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of Pl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(u,d,f){const p=uw(u,d,f);return u.inclusive?p<=0:p<0}(i.startAt,Pl(i),o)||i.endAt&&!function(u,d,f){const p=uw(u,d,f);return u.inclusive?p>=0:p>0}(i.endAt,Pl(i),o))}(t,e)}function V4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yx(t){return(e,n)=>{let i=!1;for(const o of Pl(t)){const a=M4(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function M4(t,e,n){const i=t.field.isKeyField()?ke.comparator(e.key,n.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?ma(f,p):Be()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return sx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new At(ke.comparator);function bi(){return L4}const vx=new At(ke.comparator);function yl(...t){let e=vx;for(const n of t)e=e.insert(n.key,n);return e}function _x(t){let e=vx;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ro(){return Cl()}function wx(){return Cl()}function Cl(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const O4=new At(ke.comparator),j4=new Ht(ke.comparator);function Ke(...t){let e=j4;for(const n of t)e=e.add(n);return e}const F4=new Ht(Xe);function B4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function Ex(t){return{integerValue:""+t}}function U4(t,e){return m4(e)?Ex(e):Hm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function z4(t,e,n){return t instanceof hd?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Bm(a)&&(a=Vd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(n,e):t instanceof Ul?Tx(t,e):t instanceof zl?Sx(t,e):function(o,a){const u=xx(o,a),d=fw(u)+fw(o.Pe);return Pp(u)&&Pp(o.Pe)?Ex(d):Hm(o.serializer,d)}(t,e)}function $4(t,e,n){return t instanceof Ul?Tx(t,e):t instanceof zl?Sx(t,e):n}function xx(t,e){return t instanceof fd?function(i){return Pp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class hd extends Od{}class Ul extends Od{constructor(e){super(),this.elements=e}}function Tx(t,e){const n=Px(e);for(const i of t.elements)n.some(o=>ii(o,i))||n.push(i);return{arrayValue:{values:n}}}class zl extends Od{constructor(e){super(),this.elements=e}}function Sx(t,e){let n=Px(e);for(const i of t.elements)n=n.filter(o=>!ii(o,i));return{arrayValue:{values:n}}}class fd extends Od{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function fw(t){return Mt(t.integerValue||t.doubleValue)}function Px(t){return Um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H4(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Ul&&o instanceof Ul||i instanceof zl&&o instanceof zl?pa(i.elements,o.elements,ii):i instanceof fd&&o instanceof fd?ii(i.Pe,o.Pe):i instanceof hd&&o instanceof hd}(t.transform,e.transform)}class W4{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jd{}function Cx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wm(t.key,Vr.none()):new Yl(t.key,t.data,Vr.none());{const n=t.data,i=cr.empty();let o=new Ht(ln.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new fo(t.key,i,new Dr(o.toArray()),Vr.none())}}function q4(t,e,n){t instanceof Yl?function(o,a,u){const d=o.value.clone(),f=mw(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(o,a,u){if(!Wc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=mw(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Ax(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Al(t,e,n,i){return t instanceof Yl?function(a,u,d,f){if(!Wc(a.precondition,u))return d;const p=a.value.clone(),g=gw(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof fo?function(a,u,d,f){if(!Wc(a.precondition,u))return d;const p=gw(a.fieldTransforms,f,u),g=u.data;return g.setAll(Ax(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,i):function(a,u,d){return Wc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function K4(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=xx(i.transform,o||null);a!=null&&(n===null&&(n=cr.empty()),n.set(i.field,a))}return n||null}function pw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&pa(i,o,(a,u)=>H4(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yl extends jd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fo extends jd{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ax(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function mw(t,e,n){const i=new Map;ct(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,$4(u,d,n[o]))}return i}function gw(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,z4(a,u,e))}return i}class Wm extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G4 extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&q4(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Al(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Al(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=wx();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(o.key)?null:d;const f=Cx(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ue.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,i)=>pw(n,i))&&pa(this.baseMutations,e.baseMutations,(n,i)=>pw(n,i))}}class qm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){ct(e.mutations.length===i.length);let o=function(){return O4}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new qm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,tt;function J4(t){switch(t){default:return Be();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function Ix(t){if(t===void 0)return ki("GRPC error has no .code"),ie.UNKNOWN;switch(t){case jt.OK:return ie.OK;case jt.CANCELLED:return ie.CANCELLED;case jt.UNKNOWN:return ie.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ie.INTERNAL;case jt.UNAVAILABLE:return ie.UNAVAILABLE;case jt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case jt.NOT_FOUND:return ie.NOT_FOUND;case jt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case jt.ABORTED:return ie.ABORTED;case jt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case jt.DATA_LOSS:return ie.DATA_LOSS;default:return Be()}}(tt=jt||(jt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new ms([4294967295,4294967295],0);function yw(t){const e=Z4().encode(t),n=new XE;return n.update(e),new Uint8Array(n.digest())}function vw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ms([n,i],0),new ms([o,a],0)]}class Km{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(i<0)throw new vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ms.fromNumber(this.Te)}de(e,n,i){let o=e.add(n.multiply(ms.fromNumber(i)));return o.compare(eD)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=yw(e),[i,o]=vw(n);for(let a=0;a<this.hashCount;a++){const u=this.de(i,o,a);if(!this.Ee(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Km(a,o,n);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const n=yw(e),[i,o]=vw(n);for(let a=0;a<this.hashCount;a++){const u=this.de(i,o,a);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fd(Ue.min(),o,new At(Xe),bi(),Ke())}}class Xl{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xl(i,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,i,o){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=o}}class Rx{constructor(e,n){this.targetId=e,this.me=n}}class kx{constructor(e,n,i=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class _w{constructor(){this.fe=0,this.ge=ww(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ke(),n=Ke(),i=Ke();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Be()}}),new Xl(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=ww()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tD{constructor(e){this.Be=e,this.Le=new Map,this.ke=bi(),this.qe=Dc(),this.Qe=Dc(),this.Ke=new At(Xe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.je(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.De(e.resumeToken));break;default:Be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((i,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,i=e.me.count,o=this.Ye(n);if(o){const a=o.target;if(Ap(a))if(i===0){const u=new ke(a.path);this.We(n,u,xn.newNoDocument(u,Ue.min()))}else ct(i===1);else{const u=this.Ze(n);if(u!==i){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,d;try{u=Ts(i).toUint8Array()}catch(f){if(f instanceof ox)return fa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Km(u,o,a)}catch(f){return fa(f instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,n,i){return n.me.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Be.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const u=this.Be.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(n,a,null),o++)}),o}it(e){const n=new Map;this.Le.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&Ap(d.target)){const f=new ke(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,xn.newNoDocument(f,e))}a.be&&(n.set(u,a.ve()),a.Ce())}});let i=Ke();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Fd(e,n,this.Ke,this.ke,i);return this.ke=bi(),this.qe=Dc(),this.Qe=Dc(),this.Ke=new At(Xe),o}Ue(e,n){if(!this.je(e))return;const i=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new _w,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ht(Xe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ht(Xe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new _w),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Dc(){return new At(ke.comparator)}function ww(){return new At(ke.comparator)}const nD={asc:"ASCENDING",desc:"DESCENDING"},rD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iD={and:"AND",or:"OR"};class sD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kp(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oD(t,e){return pd(t,e.toTimestamp())}function ri(t){return ct(!!t),Ue.fromTimestamp(function(n){const i=xs(n);return new $t(i.seconds,i.nanos)}(t))}function Gm(t,e){return bp(t,e).canonicalString()}function bp(t,e){const n=function(o){return new _t(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Nx(t){const e=_t.fromString(t);return ct(Ox(e)),e}function Np(t,e){return Gm(t.databaseId,e.path)}function qf(t,e){const n=Nx(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(Vx(n))}function Dx(t,e){return Gm(t.databaseId,e)}function aD(t){const e=Nx(t);return e.length===4?_t.emptyPath():Vx(e)}function Dp(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vx(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ew(t,e,n){return{name:Np(t,e),fields:n.value.mapValue.fields}}function lD(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(ct(g===void 0||typeof g=="string"),cn.fromBase64String(g||"")):(ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array),cn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const g=p.code===void 0?ie.UNKNOWN:Ix(p.code);return new Te(g,p.message||"")}(u);n=new kx(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=qf(t,i.document.name),a=ri(i.document.updateTime),u=i.document.createTime?ri(i.document.createTime):Ue.min(),d=new cr({mapValue:{fields:i.document.fields}}),f=xn.newFoundDocument(o,a,u,d),p=i.targetIds||[],g=i.removedTargetIds||[];n=new qc(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=qf(t,i.document),a=i.readTime?ri(i.readTime):Ue.min(),u=xn.newNoDocument(o,a),d=i.removedTargetIds||[];n=new qc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=qf(t,i.document),a=i.removedTargetIds||[];n=new qc([],a,o,null)}else{if(!("filter"in e))return Be();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new X4(o,a),d=i.targetId;n=new Rx(d,u)}}return n}function uD(t,e){let n;if(e instanceof Yl)n={update:Ew(t,e.key,e.value)};else if(e instanceof Wm)n={delete:Np(t,e.key)};else if(e instanceof fo)n={update:Ew(t,e.key,e.data),updateMask:vD(e.fieldMask)};else{if(!(e instanceof G4))return Be();n={verify:Np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const d=u.transform;if(d instanceof hd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ul)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof fd)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Be()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:oD(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be()}(t,e.precondition)),n}function cD(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(o,a){let u=o.updateTime?ri(o.updateTime):ri(a);return u.isEqual(Ue.min())&&(u=ri(a)),new W4(u,o.transformResults||[])}(n,e))):[]}function dD(t,e){return{documents:[Dx(t,e.path)]}}function hD(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Dx(t,o);const a=function(p){if(p.length!==0)return Lx(Lr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:ea(w.field),direction:mD(w.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=kp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:o}}function fD(t){let e=aD(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){ct(i===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(y){const w=Mx(y);return w instanceof Lr&&cx(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(y){return y.map(w=>function(P){return new Bl(ta(P.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(y){let w;return w=typeof y=="object"?y.value:y,Dd(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(y){const w=!!y.before,x=y.values||[];return new dd(x,w)}(n.startAt));let p=null;return n.endAt&&(p=function(y){const w=!y.before,x=y.values||[];return new dd(x,w)}(n.endAt)),N4(e,o,u,a,d,"F",f,p)}function pD(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ta(n.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ta(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ta(n.unaryFilter.field);return Ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ta(n.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Be()}}(t):t.fieldFilter!==void 0?function(n){return Ft.create(ta(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(i=>Mx(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Be()}}(n.compositeFilter.op))}(t):Be()}function mD(t){return nD[t]}function gD(t){return rD[t]}function yD(t){return iD[t]}function ea(t){return{fieldPath:t.canonicalString()}}function ta(t){return ln.fromServerFormat(t.fieldPath)}function Lx(t){return t instanceof Ft?function(n){if(n.op==="=="){if(lw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NAN"}};if(aw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NAN"}};if(aw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(n.field),op:gD(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const i=n.getFilters().map(o=>Lx(o));return i.length===1?i[0]:{compositeFilter:{op:yD(n.op),filters:i}}}(t):Be()}function vD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ox(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,i,o,a=Ue.min(),u=Ue.min(),d=cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.ht=e}}function wD(t){const e=fD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.ln=new xD}addToCollectionParentIndex(e,n){return this.ln.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Es.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class xD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Ht(_t.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ht(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ya(0)}static Qn(){return new ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw([t,e],[n,i]){const o=Xe(t,n);return o===0?Xe(e,i):o}class TD{constructor(e){this.Gn=e,this.buffer=new Ht(Tw),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Tw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){_e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pa(n)?_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Sa(n)}await this.Yn(3e5)})}}class PD{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Nd.oe);const i=new TD(n);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(xw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xw):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let i,o,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o))).next(y=>(i=y,d=Date.now(),this.removeTargets(e,i,n))).next(y=>(a=y,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(p=Date.now(),Jo()<=nt.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${y} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y})))}}function CD(t,e){return new PD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&Al(i.mutation,o,Dr.empty(),$t.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ke()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ke()){const o=ro();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let u=yl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=ro();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ke()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,i,o){let a=bi();const u=Cl(),d=function(){return Cl()}();return n.forEach((f,p)=>{const g=i.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof fo)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Al(g.mutation,p,g.mutation.getFieldMask(),$t.now())):u.set(p.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var y;return d.set(p,new ID(g,(y=u.get(p))!==null&&y!==void 0?y:null))}),d))}recalculateAndSaveOverlays(e,n){const i=Cl();let o=new At((u,d)=>u-d),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=i.get(f)||Dr.empty();g=d.applyToLocalView(p,g),i.set(f,g);const y=(o.get(d.batchId)||Ke()).add(f);o=o.insert(d.batchId,y)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,y=wx();g.forEach(w=>{if(!a.has(w)){const x=Cx(n.get(w),i.get(w));x!==null&&y.set(w,x),a=a.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return re.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):re.resolve(ro());let d=-1,f=a;return u.next(p=>re.forEach(p,(g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{f=f.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ke())).next(g=>({batchId:d,changes:_x(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(i=>{let o=yl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=yl();return this.indexManager.getCollectionParents(e,a).next(d=>re.forEach(d,f=>{const p=function(y,w){return new Ca(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(g=>{g.forEach((y,w)=>{u=u.insert(y,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,xn.newInvalidDocument(g)))});let d=yl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Al(g.mutation,p,Dr.empty(),$t.now()),Ld(n,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return re.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:wD(o.bundledQuery),readTime:ri(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.overlays=new At(ke.comparator),this.dr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ro();return re.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.Tt(e,n,a)}),re.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const o=ro(),a=n.length+1,u=new ke(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new At((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let g=a.get(p.largestBatchId);g===null&&(g=ro(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=ro(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=o)););return re.resolve(d)}Tt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Y4(n,i));let a=this.dr.get(n);a===void 0&&(a=Ke(),this.dr.set(n,a)),this.dr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Er=new Ht(Yt.Ar),this.Rr=new Ht(Yt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const i=new Yt(e,n);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.gr(new Yt(e,n))}pr(e,n){e.forEach(i=>this.removeReference(i,n))}yr(e){const n=new ke(new _t([])),i=new Yt(n,e),o=new Yt(n,e+1),a=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ke(new _t([])),i=new Yt(n,e),o=new Yt(n,e+1);let a=Ke();return this.Rr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Yt(e,0),i=this.Er.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ke.comparator(e.key,n.key)||Xe(e.br,n.br)}static Vr(e,n){return Xe(e.br,n.br)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ht(Yt.Ar)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Q4(a,n,i,o);this.mutationQueue.push(u);for(const d of o)this.vr=this.vr.add(new Yt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Fr(i),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],u=>{const d=this.Cr(u.br);a.push(d)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ht(Xe);return n.forEach(o=>{const a=new Yt(o,0),u=new Yt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{i=i.add(d.br)})}),re.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;ke.isDocumentKey(a)||(a=a.child(""));const u=new Yt(new ke(a),0);let d=new Ht(Xe);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(d=d.add(f.br)),!0)},u),re.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ct(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return re.forEach(n.mutations,o=>{const a=new Yt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,n){const i=new Yt(n,0),o=this.vr.firstAfterOrEqual(i);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Nr=e,this.docs=function(){return new At(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.Nr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let i=bi();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():xn.newInvalidDocument(o))}),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=bi();const u=n.path,d=new ke(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||d4(c4(g),i)<=0||(o.has(g.key)||Ld(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Be()}Br(e,n){return re.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new MD(this)}getSize(e){return re.resolve(this.size)}}class MD extends AD{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),re.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.persistence=e,this.Lr=new ho(n=>zm(n),$m),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.kr=0,this.qr=new Qm,this.targetCount=0,this.Qr=ya.qn()}forEachTarget(e,n){return this.Lr.forEach((i,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.kr&&(this.kr=n),re.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Un(n),re.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.Lr.forEach((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),re.waitFor(a).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.Lr.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this.qr.mr(n,i),re.resolve()}removeMatchingKeys(e,n,i){this.qr.pr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this.qr.Sr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Nd(0),this.Ur=!1,this.Ur=!0,this.Wr=new ND,this.referenceDelegate=e(this),this.Gr=new LD(this),this.indexManager=new ED,this.remoteDocumentCache=function(o){return new VD(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new _D(n),this.jr=new kD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Kr[e.toKey()];return i||(i=new DD(n,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const o=new OD(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,n){return re.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,n)))}}class OD extends f4{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Zr=new Qm,this.Xr=null}static ei(e){return new Ym(e)}get ti(){if(this.Xr)return this.Xr;throw Be()}addReference(e,n,i){return this.Zr.addReference(i,n),this.ti.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.Zr.removeReference(i,n),this.ti.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),re.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ti,i=>{const o=ke.fromPath(i);return this.ni(e,o).next(a=>{a||n.removeEntry(o,Ue.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(i=>{i?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return re.or([()=>re.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class md{constructor(e,n){this.persistence=e,this.ri=new ho(i=>g4(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=CD(this,n)}static ei(e,n){return new md(e,n)}Hr(){}Jr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}nr(e){let n=0;return this.er(e,i=>{n++}).next(()=>n)}er(e,n){return re.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?re.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Br(e,u=>this.ir(e,u,n).next(d=>{d||(i++,a.removeEntry(u,Ue.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$c(e.data.value)),n}ir(e,n,i){return re.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.ri.get(n);return re.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Wi=i,this.Gi=o}static zi(e,n){let i=Ke(),o=Ke();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Xm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jb()?8:p4(Lb())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.Xi(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,n,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new jD;return this.ts(e,n,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,n,u,d.size)})}).next(()=>a.result)}ns(e,n,i,o){return i.documentReadCount<this.Ji?(Jo()<=nt.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),re.resolve()):(Jo()<=nt.DEBUG&&_e("QueryEngine","Query:",Zo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Jo()<=nt.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):re.resolve())}Xi(e,n){if(hw(n))return re.resolve(null);let i=ni(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),i=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ke(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.rs(n,d);return this.ss(n,p,u,f.readTime)?this.Xi(e,Rp(n,null,"F")):this.os(e,p,n,f)}))})))}es(e,n,i,o){return hw(n)||o.isEqual(Ue.min())?re.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(n,a);return this.ss(n,u,i,o)?re.resolve(null):(Jo()<=nt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(n)),this.os(e,u,n,u4(o,-1)).next(d=>d))})}rs(e,n){let i=new Ht(yx(e));return n.forEach((o,a)=>{Ld(e,a)&&(i=i.add(a))}),i}ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,n,i){return Jo()<=nt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.Zi.getDocumentsMatchingQuery(e,n,Es.min(),i)}os(e,n,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,i,o){this.persistence=e,this._s=n,this.serializer=o,this.us=new At(Xe),this.cs=new ho(a=>zm(a),$m),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function UD(t,e,n,i){return new BD(t,e,n,i)}async function Fx(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],d=[];let f=Ke();for(const p of o){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(i,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:d}))})})}function zD(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,g){const y=p.batch,w=y.keys();let x=re.resolve();return w.forEach(P=>{x=x.next(()=>g.getEntry(f,P)).next(b=>{const I=p.docVersions.get(P);ct(I!==null),b.version.compareTo(I)<0&&(y.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(f,y))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=Ke();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function Bx(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function $D(t,e){const n=ze(t),i=e.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const d=[];e.targetChanges.forEach((g,y)=>{const w=o.get(y);if(!w)return;d.push(n.Gr.removeMatchingKeys(a,g.removedDocuments,y).next(()=>n.Gr.addMatchingKeys(a,g.addedDocuments,y)));let x=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?x=x.withResumeToken(cn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,i)),o=o.insert(y,x),function(b,I,N){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,x,g)&&d.push(n.Gr.updateTargetData(a,x))});let f=bi(),p=Ke();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(HD(a,u,e.documentUpdates).next(g=>{f=g.Is,p=g.ds})),!i.isEqual(Ue.min())){const g=n.Gr.getLastRemoteSnapshotVersion(a).next(y=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(g)}return re.waitFor(d).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.us=o,a))}function HD(t,e,n){let i=Ke(),o=Ke();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let u=bi();return n.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ue.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):_e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Is:u,ds:o}})}function WD(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function qD(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Gr.getTargetData(i,e).next(a=>a?(o=a,re.resolve(o)):n.Gr.allocateTargetId(i).next(u=>(o=new hs(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(i.targetId,i),n.cs.set(e,i.targetId)),i})}async function Vp(t,e,n){const i=ze(t),o=i.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Pa(u))throw u;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Sw(t,e,n){const i=ze(t);let o=Ue.min(),a=Ke();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const y=ze(f),w=y.cs.get(g);return w!==void 0?re.resolve(y.us.get(w)):y.Gr.getTargetData(p,g)}(i,u,ni(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,n?o:Ue.min(),n?a:Ke())).next(d=>(KD(i,V4(e),d),{documents:d,Es:a})))}function KD(t,e,n){let i=t.ls.get(e)||Ue.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.ls.set(e,i)}class Pw{constructor(){this.activeTargetIds=B4()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this._o=new Pw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,i){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Pw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function Kf(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class JD extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+n.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(n,i,o,a,u){const d=Kf(),f=this.No(n,i.toUriEncodedString());_e("RestConnection",`Sending RPC '${n}' ${d}:`,f,o);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,u),this.Lo(n,f,p,o).then(g=>(_e("RestConnection",`Received RPC '${n}' ${d}: `,g),g),g=>{throw fa("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",f,"request:",o),g})}ko(n,i,o,a,u,d){return this.Oo(n,i,o,a,u)}Bo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>n[u]=a),o&&o.headers.forEach((a,u)=>n[u]=a)}No(n,i){const o=YD[n];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,i,o){const a=Kf();return new Promise((u,d)=>{const f=new JE;f.setWithCredentials(!0),f.listenOnce(ZE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case zc.NO_ERROR:const g=f.getResponseJson();_e(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case zc.TIMEOUT:_e(vn,`RPC '${e}' ${a} timed out`),d(new Te(ie.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const y=f.getStatus();if(_e(vn,`RPC '${e}' ${a} failed with status:`,y,"response text:",f.getResponseText()),y>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const P=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(N)>=0?N:ie.UNKNOWN}(x.status);d(new Te(P,x.message))}else d(new Te(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Te(ie.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{_e(vn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);_e(vn,`RPC '${e}' ${a} sending request:`,o),f.send(n,"POST",p,i,15)})}qo(e,n,i){const o=Kf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nx(),d=tx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const g=a.join("");_e(vn,`Creating RPC '${e}' stream ${o}: ${g}`,f);const y=u.createWebChannel(g,f);let w=!1,x=!1;const P=new XD({Eo:I=>{x?_e(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(w||(_e(vn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),w=!0),_e(vn,`RPC '${e}' stream ${o} sending:`,I),y.send(I))},Ao:()=>y.close()}),b=(I,N,F)=>{I.listen(N,U=>{try{F(U)}catch(Y){setTimeout(()=>{throw Y},0)}})};return b(y,gl.EventType.OPEN,()=>{x||(_e(vn,`RPC '${e}' stream ${o} transport opened.`),P.So())}),b(y,gl.EventType.CLOSE,()=>{x||(x=!0,_e(vn,`RPC '${e}' stream ${o} transport closed`),P.Do())}),b(y,gl.EventType.ERROR,I=>{x||(x=!0,fa(vn,`RPC '${e}' stream ${o} transport errored:`,I),P.Do(new Te(ie.UNAVAILABLE,"The operation could not be completed")))}),b(y,gl.EventType.MESSAGE,I=>{var N;if(!x){const F=I.data[0];ct(!!F);const U=F,Y=(U==null?void 0:U.error)||((N=U[0])===null||N===void 0?void 0:N.error);if(Y){_e(vn,`RPC '${e}' stream ${o} received error:`,Y);const L=Y.status;let K=function(R){const M=jt[R];if(M!==void 0)return Ix(M)}(L),k=Y.message;K===void 0&&(K=ie.INTERNAL,k="Unknown error status: "+L+" with message "+Y.message),x=!0,P.Do(new Te(K,k)),y.close()}else _e(vn,`RPC '${e}' stream ${o} received:`,F),P.vo(F)}}),b(d,ex.STAT_EVENT,I=>{I.stat===Tp.PROXY?_e(vn,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===Tp.NOPROXY&&_e(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){return new sD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-i);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,i,o,a,u,d,f){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Ux(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===n&&this.I_(i,o)},i=>{e(()=>{const o=new Te(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,n){const i=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZD extends zx{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=lD(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ue.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?ri(u.readTime):Ue.min()}(e);return this.listener.R_(n,i)}V_(e){const n={};n.database=Dp(this.serializer),n.addTarget=function(a,u){let d;const f=u.target;if(d=Ap(f)?{documents:dD(a,f)}:{query:hD(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=bx(a,u.resumeToken);const p=kp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ue.min())>0){d.readTime=pd(a,u.snapshotVersion.toTimestamp());const p=kp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=pD(this.serializer,e);i&&(n.labels=i),this.c_(n)}m_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.c_(n)}}class eV extends zx{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=cD(e.writeResults,e.commitTime),i=ri(e.commitTime);return this.listener.y_(i,n)}w_(){const e={};e.database=Dp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>uD(this.serializer,i))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV extends class{}{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,bp(n,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ie.UNKNOWN,a.toString())})}ko(e,n,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,bp(n,i),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ie.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class nV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ki(n),this.C_=!1):_e("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{po(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=ze(f);p.k_.add(4),await Jl(p),p.K_.set("Unknown"),p.k_.delete(4),await Ud(p)}(this))})}),this.K_=new nV(i,o)}}async function Ud(t){if(po(t))for(const e of t.q_)await e(!0)}async function Jl(t){for(const e of t.q_)await e(!1)}function $x(t,e){const n=ze(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),tg(n)?eg(n):Aa(n).s_()&&Zm(n,e))}function Jm(t,e){const n=ze(t),i=Aa(n);n.L_.delete(e),i.s_()&&Hx(n,e),n.L_.size===0&&(i.s_()?i.a_():po(n)&&n.K_.set("Unknown"))}function Zm(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).V_(e)}function Hx(t,e){t.U_.xe(e),Aa(t).m_(e)}function eg(t){t.U_=new tD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.K_.F_()}function tg(t){return po(t)&&!Aa(t).i_()&&t.L_.size>0}function po(t){return ze(t).k_.size===0}function Wx(t){t.U_=void 0}async function iV(t){t.K_.set("Online")}async function sV(t){t.L_.forEach((e,n)=>{Zm(t,e)})}async function oV(t,e){Wx(t),tg(t)?(t.K_.O_(e),eg(t)):t.K_.set("Unknown")}async function aV(t,e,n){if(t.K_.set("Online"),e instanceof kx&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.L_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.L_.delete(d),o.U_.removeTarget(d))}(t,e)}catch(i){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gd(t,i)}else if(e instanceof qc?t.U_.$e(e):e instanceof Rx?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Ue.min()))try{const i=await Bx(t.localStore);n.compareTo(i)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const g=a.L_.get(f);if(!g)return;a.L_.set(f,g.withResumeToken(cn.EMPTY_BYTE_STRING,g.snapshotVersion)),Hx(a,f);const y=new hs(g.target,f,p,g.sequenceNumber);Zm(a,y)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){_e("RemoteStore","Failed to raise snapshot:",i),await gd(t,i)}}async function gd(t,e,n){if(!Pa(e))throw e;t.k_.add(1),await Jl(t),t.K_.set("Offline"),n||(n=()=>Bx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Ud(t)})}function qx(t,e){return e().catch(n=>gd(t,n,e))}async function zd(t){const e=ze(t),n=Ps(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;lV(e);)try{const o=await WD(e.localStore,i);if(o===null){e.B_.length===0&&n.a_();break}i=o.batchId,uV(e,o)}catch(o){await gd(e,o)}Kx(e)&&Gx(e)}function lV(t){return po(t)&&t.B_.length<10}function uV(t,e){t.B_.push(e);const n=Ps(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Kx(t){return po(t)&&!Ps(t).i_()&&t.B_.length>0}function Gx(t){Ps(t).start()}async function cV(t){Ps(t).w_()}async function dV(t){const e=Ps(t);for(const n of t.B_)e.g_(n.mutations)}async function hV(t,e,n){const i=t.B_.shift(),o=qm.from(i,e,n);await qx(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await zd(t)}async function fV(t,e){e&&Ps(t).f_&&await async function(i,o){if(function(u){return J4(u)&&u!==ie.ABORTED}(o.code)){const a=i.B_.shift();Ps(i).__(),await qx(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await zd(i)}}(t,e),Kx(t)&&Gx(t)}async function Aw(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const i=po(n);n.k_.add(3),await Jl(n),i&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Ud(n)}async function pV(t,e){const n=ze(t);e?(n.k_.delete(2),await Ud(n)):e||(n.k_.add(2),await Jl(n),n.K_.set("Unknown"))}function Aa(t){return t.W_||(t.W_=function(n,i,o){const a=ze(n);return a.b_(),new ZD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Ro:iV.bind(null,t),mo:sV.bind(null,t),po:oV.bind(null,t),R_:aV.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),tg(t)?eg(t):t.K_.set("Unknown")):(await t.W_.stop(),Wx(t))})),t.W_}function Ps(t){return t.G_||(t.G_=function(n,i,o){const a=ze(n);return a.b_(),new eV(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:cV.bind(null,t),po:fV.bind(null,t),p_:dV.bind(null,t),y_:hV.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await zd(t)):(await t.G_.stop(),t.B_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,d=new ng(e,n,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(t,e){if(ki("AsyncQueue",`${e}: ${t}`),Pa(t))return new Te(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static emptySet(e){return new la(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ke.comparator(n.key,i.key):(n,i)=>ke.comparator(n.key,i.key),this.keyedMap=yl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof la)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new la;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.z_=new At(ke.comparator)}track(e){const n=e.doc.key,i=this.z_.get(n);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(n,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(n):e.type===1&&i.type===2?this.z_=this.z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Be():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class va{constructor(e,n,i,o,a,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new va(e,n,la.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class gV{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,i){const o=ze(n),a=o.queries;o.queries=Rw(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(i)})})(this,new Te(ie.ABORTED,"Firestore shutting down"))}}function Rw(){return new ho(t=>gx(t),Md)}async function yV(t,e){const n=ze(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new mV,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await n.onListen(o,!0);break;case 1:a.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const d=rg(u,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&ig(n)}async function vV(t,e){const n=ze(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _V(t,e){const n=ze(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const d of u.J_)d.ta(o)&&(i=!0);u.H_=o}}i&&ig(n)}function wV(t,e,n){const i=ze(t),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(n);i.queries.delete(e)}function ig(t){t.X_.forEach(e=>{e.next()})}var Mp,kw;(kw=Mp||(Mp={})).na="default",kw.Cache="cache";class EV{constructor(e,n,i){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new va(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const i=n!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class xV{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ke(),this.mutatedKeys=Ke(),this.Va=yx(e),this.ma=new la(this.Va)}get fa(){return this.Ea}ga(e,n){const i=n?n.pa:new Iw,o=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((g,y)=>{const w=o.get(g),x=Ld(this.query,y)?y:null,P=!!w&&this.mutatedKeys.has(w.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;w&&x?w.data.isEqual(x.data)?P!==b&&(i.track({type:3,doc:x}),I=!0):this.ya(w,x)||(i.track({type:2,doc:x}),I=!0,(f&&this.Va(x,f)>0||p&&this.Va(x,p)<0)&&(d=!0)):!w&&x?(i.track({type:0,doc:x}),I=!0):w&&!x&&(i.track({type:1,doc:w}),I=!0,(f||p)&&(d=!0)),I&&(x?(u=u.add(x),a=b?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{ma:u,pa:i,ss:d,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((g,y)=>function(x,P){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return b(x)-b(P)}(g.type,y.type)||this.Va(g.doc,y.doc)),this.wa(i),o=o!=null&&o;const d=n&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new va(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Iw,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ke(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const n=[];return e.forEach(i=>{this.Ra.has(i)||n.push(new Yx(i))}),this.Ra.forEach(i=>{e.has(i)||n.push(new Qx(i))}),n}va(e){this.Ea=e.Es,this.Ra=Ke();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return va.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class TV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class SV{constructor(e){this.key=e,this.Fa=!1}}class PV{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new ho(d=>gx(d),Md),this.Oa=new Map,this.Na=new Set,this.Ba=new At(ke.comparator),this.La=new Map,this.ka=new Qm,this.qa={},this.Qa=new Map,this.Ka=ya.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function CV(t,e,n=!0){const i=nT(t);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await Xx(i,e,n,!0),o}async function AV(t,e){const n=nT(t);await Xx(n,e,!0,!1)}async function Xx(t,e,n,i){const o=await qD(t.localStore,ni(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return i&&(d=await IV(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&$x(t.remoteStore,o),d}async function IV(t,e,n,i,o){t.Ua=(y,w,x)=>async function(b,I,N,F){let U=I.view.ga(N);U.ss&&(U=await Sw(b.localStore,I.query,!1).then(({documents:k})=>I.view.ga(k,U)));const Y=F&&F.targetChanges.get(I.targetId),L=F&&F.targetMismatches.get(I.targetId)!=null,K=I.view.applyChanges(U,b.isPrimaryClient,Y,L);return Nw(b,I.targetId,K.ba),K.snapshot}(t,y,w,x);const a=await Sw(t.localStore,e,!0),u=new xV(e,a.Es),d=u.ga(a.documents),f=Xl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(d,t.isPrimaryClient,f);Nw(t,n,p.ba);const g=new TV(e,n,u);return t.xa.set(e,g),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function RV(t,e,n){const i=ze(t),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(u=>!Md(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Jm(i.remoteStore,o.targetId),Lp(i,o.targetId)}).catch(Sa)):(Lp(i,o.targetId),await Vp(i.localStore,o.targetId,!0))}async function kV(t,e){const n=ze(t),i=n.xa.get(e),o=n.Oa.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Jm(n.remoteStore,i.targetId))}async function bV(t,e,n){const i=jV(t);try{const o=await function(u,d){const f=ze(u),p=$t.now(),g=d.reduce((x,P)=>x.add(P.key),Ke());let y,w;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=bi(),b=Ke();return f.hs.getEntries(x,g).next(I=>{P=I,P.forEach((N,F)=>{F.isValidDocument()||(b=b.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,P)).next(I=>{y=I;const N=[];for(const F of d){const U=K4(F,y.get(F.key).overlayedDocument);U!=null&&N.push(new fo(F.key,U,ax(U.value.mapValue),Vr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,N,d)}).next(I=>{w=I;const N=I.applyToLocalDocumentSet(y,b);return f.documentOverlayCache.saveOverlays(x,I.batchId,N)})}).then(()=>({batchId:w.batchId,changes:_x(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let p=u.qa[u.currentUser.toKey()];p||(p=new At(Xe)),p=p.insert(d,f),u.qa[u.currentUser.toKey()]=p}(i,o.batchId,n),await Zl(i,o.changes),await zd(i.remoteStore)}catch(o){const a=rg(o,"Failed to persist write");n.reject(a)}}async function Jx(t,e){const n=ze(t);try{const i=await $D(n.localStore,e);e.targetChanges.forEach((o,a)=>{const u=n.La.get(a);u&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?ct(u.Fa):o.removedDocuments.size>0&&(ct(u.Fa),u.Fa=!1))}),await Zl(n,i,e)}catch(i){await Sa(i)}}function bw(t,e,n){const i=ze(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=ze(u);f.onlineState=d;let p=!1;f.queries.forEach((g,y)=>{for(const w of y.J_)w.ea(d)&&(p=!0)}),p&&ig(f)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function NV(t,e,n){const i=ze(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.La.get(e),a=o&&o.key;if(a){let u=new At(ke.comparator);u=u.insert(a,xn.newNoDocument(a,Ue.min()));const d=Ke().add(a),f=new Fd(Ue.min(),new Map,new At(Xe),u,d);await Jx(i,f),i.Ba=i.Ba.remove(a),i.La.delete(e),sg(i)}else await Vp(i.localStore,e,!1).then(()=>Lp(i,e,n)).catch(Sa)}async function DV(t,e){const n=ze(t),i=e.batch.batchId;try{const o=await zD(n.localStore,e);eT(n,i,null),Zx(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Zl(n,o)}catch(o){await Sa(o)}}async function VV(t,e,n){const i=ze(t);try{const o=await function(u,d){const f=ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next(y=>(ct(y!==null),g=y.keys(),f.mutationQueue.removeMutationBatch(p,y))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(i.localStore,e);eT(i,e,n),Zx(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Zl(i,o)}catch(o){await Sa(o)}}function Zx(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function eT(t,e,n){const i=ze(t);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Oa.get(e))t.xa.delete(i),n&&t.Ma.Wa(i,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(i=>{t.ka.containsKey(i)||tT(t,i)})}function tT(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(Jm(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),sg(t))}function Nw(t,e,n){for(const i of n)i instanceof Qx?(t.ka.addReference(i.key,e),MV(t,i)):i instanceof Yx?(_e("SyncEngine","Document no longer in limbo: "+i.key),t.ka.removeReference(i.key,e),t.ka.containsKey(i.key)||tT(t,i.key)):Be()}function MV(t,e){const n=e.key,i=n.path.canonicalString();t.Ba.get(n)||t.Na.has(i)||(_e("SyncEngine","New document in limbo: "+n),t.Na.add(i),sg(t))}function sg(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ke(_t.fromString(e)),i=t.Ka.next();t.La.set(i,new SV(n)),t.Ba=t.Ba.insert(n,i),$x(t.remoteStore,new hs(ni(px(n.path)),i,"TargetPurposeLimboResolution",Nd.oe))}}async function Zl(t,e,n){const i=ze(t),o=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((d,f)=>{u.push(i.Ua(f,e,n).then(p=>{var g;if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){o.push(p);const y=Xm.zi(f.targetId,p);a.push(y)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(f,p){const g=ze(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>re.forEach(p,w=>re.forEach(w.Wi,x=>g.persistence.referenceDelegate.addReference(y,w.targetId,x)).next(()=>re.forEach(w.Gi,x=>g.persistence.referenceDelegate.removeReference(y,w.targetId,x)))))}catch(y){if(!Pa(y))throw y;_e("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const x=g.us.get(w),P=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(P);g.us=g.us.insert(w,b)}}}(i.localStore,a))}async function LV(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const i=await Fx(n.localStore,e);n.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new Te(ie.CANCELLED,u))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Zl(n,i.Ts)}}function OV(t,e){const n=ze(t),i=n.La.get(e);if(i&&i.Fa)return Ke().add(i.key);{let o=Ke();const a=n.Oa.get(e);if(!a)return o;for(const u of a){const d=n.xa.get(u);o=o.unionWith(d.view.fa)}return o}}function nT(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NV.bind(null,e),e.Ma.R_=_V.bind(null,e.eventManager),e.Ma.Wa=wV.bind(null,e.eventManager),e}function jV(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VV.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return UD(this.persistence,new FD,e.initialUser,this.serializer)}ja(e){return new jx(Ym.ei,this.serializer)}za(e){return new GD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class FV extends yd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ct(this.persistence.referenceDelegate instanceof md);const i=this.persistence.referenceDelegate.garbageCollector;return new SD(i,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new jx(i=>md.ei(i,n),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,this.syncEngine),await pV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gV}()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),i=function(a){return new JD(a)}(e.databaseInfo);return function(a,u,d,f){return new tV(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,u,d){return new rV(i,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>bw(this.syncEngine,n,0),function(){return Cw.p()?new Cw:new QD}())}createSyncEngine(e,n){return function(o,a,u,d,f,p,g){const y=new PV(o,a,u,d,f,p);return g&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=ze(o);_e("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Jl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=ix.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{_e("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(_e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=rg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Fx(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zV(t);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Aw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Aw(e.remoteStore,o)),t._onlineComponents=e}async function zV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await Qf(t,new yd)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await Qf(t,new FV(void 0));return t._offlineComponents}async function rT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await Dw(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await Dw(t,new Op))),t._onlineComponents}function $V(t){return rT(t).then(e=>e.syncEngine)}async function HV(t){const e=await rT(t),n=e.eventManager;return n.onListen=CV.bind(null,e.syncEngine),n.onUnlisten=RV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kV.bind(null,e.syncEngine),n}function WV(t,e,n={}){const i=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const g=new BV({next:w=>{g.eu(),u.enqueueAndForget(()=>vV(a,y)),w.fromCache&&f.source==="server"?p.reject(new Te(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new EV(d,g,{includeMetadataChanges:!0,ua:!0});return yV(a,y)}(await HV(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e,n){if(!n)throw new Te(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qV(t,e,n,i){if(e===!0&&i===!0)throw new Te(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mw(t){if(!ke.isDocumentKey(t))throw new Te(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lw(t){if(ke.isDocumentKey(t))throw new Te(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be()}function oo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(t);throw new Te(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ow({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ow(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new e4;switch(i.type){case"firstParty":return new i4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Vw.get(n);i&&(_e("ComponentProvider","Removing Datastore"),Vw.delete(n),i.terminate())}(this),Promise.resolve()}}function KV(t,e,n,i={}){var o;const a=(t=oo(t,Hd))._getSettings(),u=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=En.MOCK_USER;else{d=Mb(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Te(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new En(p)}t._authCredentials=new t4(new rx(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Xn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class ys extends mo{constructor(e,n,i){super(e,n,px(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new ke(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function oT(t,e,...n){if(t=ha(t),sT("collection","path",e),t instanceof Hd){const i=_t.fromString(e,...n);return Lw(i),new ys(t,null,i)}{if(!(t instanceof Xn||t instanceof ys))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return Lw(i),new ys(t.firestore,null,i)}}function jp(t,e,...n){if(t=ha(t),arguments.length===1&&(e=ix.newId()),sT("doc","path",e),t instanceof Hd){const i=_t.fromString(e,...n);return Mw(i),new Xn(t,null,new ke(i))}{if(!(t instanceof Xn||t instanceof ys))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return Mw(i),new Xn(t.firestore,t instanceof ys?t.converter:null,new ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Ux(this,"async_queue_retry"),this.fu=()=>{const i=Gf();i&&_e("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const n=Gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new gs;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Pa(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(i);throw ki("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=n,n}enqueueAfterDelay(e,n,i){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,i,a=>this.Su(a));return this.Eu.push(o),o}pu(){this.Au&&Be()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class eu extends Hd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new jw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jw(e),this._firestoreClient=void 0,await e}}}function GV(t,e){const n=typeof t=="object"?t:HN(),i=typeof t=="string"?t:"(default)",o=BN(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Db("firestore");a&&KV(o,...a)}return o}function aT(t){if(t._terminated)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QV(t),t._firestoreClient}function QV(t){var e,n,i;const o=t._freezeSettings(),a=function(d,f,p,g){return new _4(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iT(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new UV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(cn.fromBase64String(e))}catch(n){throw new Te(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _a(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=/^__.*__$/;class XV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}function uT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class ug{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return vd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(uT(this.Mu)&&YV.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class JV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Bd(e)}$u(e,n,i,o=!1){return new ug({Mu:e,methodName:n,Ku:i,path:ln.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new JV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cT(t,e,n,i,o,a={}){const u=t.$u(a.merge||a.mergeFields?2:0,e,n,o);fT("Data must be an object, but it was:",u,i);const d=dT(i,u);let f,p;if(a.merge)f=new Dr(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=eM(e,y,n);if(!u.contains(w))throw new Te(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nM(g,w)||g.push(w)}f=new Dr(g),p=u.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,p=u.fieldTransforms;return new XV(new cr(d),f,p)}function ZV(t,e,n,i=!1){return dg(n,t.$u(i?4:3,e))}function dg(t,e){if(hT(t=ha(t)))return fT("Unsupported field value:",e,t),dT(t,e);if(t instanceof lT)return function(i,o){if(!uT(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const d of i){let f=dg(d,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=ha(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return U4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=$t.fromDate(i);return{timestampValue:pd(o.serializer,a)}}if(i instanceof $t){const a=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pd(o.serializer,a)}}if(i instanceof ag)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _a)return{bytesValue:bx(o.serializer,i._byteString)};if(i instanceof Xn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof lg)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return Hm(d.serializer,f)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${$d(i)}`)}(t,e)}function dT(t,e){const n={};return sx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(i,o)=>{const a=dg(o,e.Ou(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function hT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof ag||t instanceof _a||t instanceof Xn||t instanceof lT||t instanceof lg)}function fT(t,e,n){if(!hT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=$d(n);throw i==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+i)}}function eM(t,e,n){if((e=ha(e))instanceof og)return e._internalPath;if(typeof e=="string")return pT(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const tM=new RegExp("[~\\*/\\[\\]]");function pT(t,e,n){if(e.search(tM)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new og(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new Te(ie.INVALID_ARGUMENT,d+t+f)}function nM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rM extends mT{data(){return super.data()}}function hg(t,e){return typeof e=="string"?pT(t,e):e instanceof og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class gT extends fg{}function sM(t,e,...n){let i=[];e instanceof fg&&i.push(e),i=i.concat(n),function(a){const u=a.filter(f=>f instanceof mg).length,d=a.filter(f=>f instanceof pg).length;if(u>1||u>0&&d>0)throw new Te(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class pg extends gT{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new pg(e,n,i)}_apply(e){const n=this._parse(e);return yT(e._query,n),new mo(e.firestore,e.converter,Ip(e._query,n))}_parse(e){const n=cg(e.firestore);return function(a,u,d,f,p,g,y){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Bw(y,g);const x=[];for(const P of y)x.push(Fw(f,a,P));w={arrayValue:{values:x}}}else w=Fw(f,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Bw(y,g),w=ZV(d,u,y,g==="in"||g==="not-in");return Ft.create(p,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class mg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)yT(u,f),u=Ip(u,f)}(e._query,n),new mo(e.firestore,e.converter,Ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends gT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gg(e,n)}_apply(e){const n=function(o,a,u){if(o.startAt!==null)throw new Te(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Te(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(a,u)}(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Ca(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function oM(t,e="asc"){const n=e,i=hg("orderBy",t);return gg._create(i,n)}function Fw(t,e,n){if(typeof(n=ha(n))=="string"){if(n==="")throw new Te(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(e)&&n.indexOf("/")!==-1)throw new Te(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(_t.fromString(n));if(!ke.isDocumentKey(i))throw new Te(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ow(t,new ke(i))}if(n instanceof Xn)return ow(t,n._key);throw new Te(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(n)}.`)}function Bw(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(t,e){const n=function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aM{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return co(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,o;const a=(o=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Mt(u.doubleValue));return new lg(a)}convertGeoPoint(e){return new ag(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Vd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=xs(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=_t.fromString(e);ct(Ox(i));const o=new jl(i.get(1),i.get(3)),a=new ke(i.popFirst(5));return o.isEqual(n)||ki(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lM extends mT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(hg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Kc extends lM{data(e={}){return super.data(e)}}class uM{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Mc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Kc(this._firestore,this._userDataWriter,i.key,i,new Mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new Kc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Mc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Kc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Mc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:cM(d.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}class dM extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function hM(t){t=oo(t,mo);const e=oo(t.firestore,eu),n=aT(e),i=new dM(e);return iM(t._query),WV(n,t._query).then(o=>new uM(e,i,t,o))}function fM(t,e,n){t=oo(t,Xn);const i=oo(t.firestore,eu),o=vT(t.converter,e);return yg(i,[cT(cg(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Vr.none())])}function pM(t){return yg(oo(t.firestore,eu),[new Wm(t._key,Vr.none())])}function mM(t,e){const n=oo(t.firestore,eu),i=jp(t),o=vT(t.converter,e);return yg(n,[cT(cg(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Vr.exists(!1))]).then(()=>i)}function yg(t,e){return function(i,o){const a=new gs;return i.asyncQueue.enqueueAndForget(async()=>bV(await $V(i),o,a)),a.promise}(aT(t),e)}(function(e,n=!0){(function(o){Ta=o})($N),ud(new Ml("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new eu(new n4(i.getProvider("auth-internal")),new o4(i.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Te(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(p.options.projectId,g)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),aa(ew,"4.7.6",e),aa(ew,"4.7.6","esm2017")})();var gM="firebase",yM="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(gM,yM,"app");const vM={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},_M=GE(vM),Gc=GV(_M),wM=()=>{const[t,e]=B.useState({name:"",institutionType:"",institutionName:"",email:"",phone:"",place:"",additionalComments:""}),[n,i]=B.useState(!1),[o,a]=B.useState(""),[u,d]=B.useState(!1),f=g=>{const{name:y,value:w}=g.target;e(x=>({...x,[y]:w}))},p=async g=>{g.preventDefault(),i(!0),a(""),d(!1);try{await mM(oT(Gc,"collaborations"),{...t,timestamp:new Date}),d(!0),e({nmae:"",institutionType:"",institutionName:"",email:"",phone:"",place:"",additionalComments:""})}catch(y){a("Failed to submit form. Please try again."),console.error("Error:",y)}finally{i(!1)}};return T.jsx("div",{className:"min-h-fit bg-gradient-to-br py-12 px-4 sm:px-6 lg:px-8 relative",children:T.jsxs("div",{className:"max-w-4xl mx-auto rounded-lg shadow-lg overflow-hidden",children:[T.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-700 px-6 py-8 text-white",children:[T.jsx("h2",{className:"text-3xl font-bold text-center",children:"Let's Collaborate"}),T.jsx("p",{className:"text-center mt-2 text-blue-100",children:"Join us in creating something amazing together"})]}),T.jsxs("div",{className:"p-6 lg:p-8",children:[u&&T.jsxs("div",{className:"flex items-center bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:[T.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),T.jsx("span",{children:"Registration successful! We'll contact you soon."})]}),o&&T.jsxs("div",{className:"flex items-center bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[T.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),T.jsx("span",{children:o})]}),T.jsxs("form",{onSubmit:p,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Institution Type ",T.jsx("span",{className:"text-orange-500",children:"*"})]}),T.jsxs("select",{name:"institutionType",value:t.institutionType,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0,children:[T.jsx("option",{value:"",children:"Select Type"}),T.jsx("option",{value:"School",children:"School"}),T.jsx("option",{value:"NGO",children:"NGO"}),T.jsx("option",{value:"Distributor",children:"Distributor"}),T.jsx("option",{value:"other",children:"Other"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Institution Name ",T.jsx("span",{className:"text-orange-500",children:"*"})]}),T.jsx("input",{type:"text",name:"institutionName",value:t.institutionName,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name ",T.jsx("span",{className:"text-orange-500",children:"*"})]}),T.jsx("input",{type:"text",name:"name",value:t.name,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Email ",T.jsx("span",{className:"text-orange-500",children:"*"})]}),T.jsx("input",{type:"email",name:"email",value:t.email,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Phone Number ",T.jsx("span",{className:"text-orange-500",children:"*"})]}),T.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Address ",T.jsx("span",{className:"text-orange-500",children:"*"})]}),T.jsx("input",{type:"text",name:"place",value:t.place,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Additional Comments"}),T.jsx("textarea",{name:"additionalComments",value:t.additionalComments,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all h-32 resize-none"})]}),T.jsxs("button",{type:"submit",disabled:n,className:`w-full p-4 text-white rounded-lg flex items-center justify-center space-x-2 transition-all ${n?"bg-gray-400":"bg-gradient-to-r from-blue-500 to-blue-700 hover:shadow-lg"}`,children:[T.jsx("svg",{className:`h-5 w-5 ${n?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),T.jsx("span",{children:n?"Submitting...":"Register"})]})]})]})]})})},EM=()=>{const t=[{src:"../gallery/pic3.jpg",alt:"Scenic Landscape"},{src:"../gallery/pic1.jpg",alt:"Urban Exploration"},{src:"../gallery/pic2.jpg",alt:"Artistic Composition"},{src:"../gallery/pic4.jpg",alt:"Nature's Beauty"},{src:"../gallery/pic5.jpg",alt:"Modern Architecture"}],[e,n]=B.useState(0),[i,o]=B.useState(null),[a,u]=B.useState(!1),d=B.useCallback(()=>{n(g=>(g+1)%t.length)},[t.length]),f=B.useCallback(()=>{n(g=>(g-1+t.length)%t.length)},[t.length]);B.useEffect(()=>{const g=setInterval(d,5e3);return()=>clearInterval(g)},[d]);const p=()=>{u(!a)};return T.jsxs("div",{className:"bg-white text-gray-800 md:min-h-screen sm:min-h-fit flex items-center justify-center p-4 relative",children:[T.jsx("div",{className:"w-full max-w-6xl mx-auto",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-center",children:[T.jsx(_n.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},className:"hidden md:block md:col-span-2 space-y-4",children:t.map((g,y)=>T.jsx(_n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`cursor-pointer border-4 rounded-lg overflow-hidden transition-all duration-300 ${y===e?"border-blue-500 shadow-lg":"border-gray-300 opacity-60 hover:opacity-100"}`,onClick:()=>n(y),children:T.jsx("img",{src:g.src,alt:g.alt,className:"w-full h-24 object-cover"})},y))}),T.jsx(_n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.7},className:"relative md:col-span-10 bg-gray-100 rounded-2xl p-4 shadow-md",children:T.jsx("div",{className:"relative overflow-hidden rounded-xl",children:t.length===0?T.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] md:h-[700px] bg-gray-200 rounded-xl",children:[T.jsx(Bk,{size:64,className:"text-gray-500 mb-4"}),T.jsx("p",{className:"text-gray-600",children:"No images available"})]}):T.jsxs(T.Fragment,{children:[T.jsx(Zf,{mode:"wait",children:T.jsx(_n.img,{src:t[e].src,alt:t[e].alt,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5},className:"w-full h-[500px] md:h-[700px] object-cover rounded-xl",onClick:()=>o(t[e])},e)}),T.jsx(_n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white shadow-md text-gray-700 p-3 rounded-full",children:T.jsx(Vm,{size:24})}),T.jsx(_n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:d,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white shadow-md text-gray-700 p-3 rounded-full",children:T.jsx(Mm,{size:24})}),T.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-2",children:t.map((g,y)=>T.jsx(_n.div,{initial:{scale:1},animate:{scale:y===e?1.5:1,opacity:y===e?1:.5},className:`h-2 w-2 rounded-full ${y===e?"bg-blue-600":"bg-gray-400"}`},y))})]})})})]})}),T.jsx(Zf,{children:i&&T.jsx(_n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-white/90 flex items-center justify-center p-4",onClick:()=>o(null),children:T.jsxs(_n.div,{initial:{scale:.8,opacity:0},animate:{scale:a?1:.9,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-full max-h-full",children:[T.jsx("img",{src:i.src,alt:i.alt,className:"max-w-full max-h-[90vh] object-contain rounded-xl shadow-2xl"}),T.jsxs("div",{className:"absolute top-4 right-4 flex space-x-4",children:[T.jsx(_n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:p,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 p-2 rounded-full shadow-md",children:T.jsx(Wk,{})}),T.jsx(_n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(null),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 p-2 rounded-full shadow-md",children:T.jsx(Lm,{})})]})]})})})]})},xM=()=>T.jsxs("div",{className:"min-h-screen flex flex-col ",children:[T.jsx(QP,{}),T.jsxs("div",{className:"fixed inset-0 z-0",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-blue-50"}),T.jsx("div",{className:"absolute inset-0 opacity-[0.04] bg-center bg-no-repeat bg-contain block lg:block",style:{backgroundImage:`url(${wb})`}})]}),T.jsxs("main",{className:"flex-1",children:[T.jsxs("section",{className:"relative pt-24 md:pt-16",children:[T.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6",children:T.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-6 md:gap-12 items-center",children:[T.jsxs("div",{className:"text-center lg:text-left space-y-6",children:[T.jsx("div",{className:"flex justify-center lg:hidden animate-fade-in",children:T.jsx("img",{src:Rl,alt:"PERUMA Logo",className:"h-28 w-auto object-contain"})}),T.jsxs("div",{className:"space-y-4 pt-4",children:[T.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold animate-title",children:T.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-800",children:"PERUMA"})}),T.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-800 animate-content",children:"Innovative Activity Books"}),T.jsx("p",{className:"text-lg md:text-xl text-gray-600 animate-content-delayed",children:"Transform Learning Through Activity"})]}),T.jsx("div",{className:"flex justify-center lg:justify-start pt-4",children:T.jsx(_l.Link,{to:"books",smooth:!0,duration:500,offset:-80,className:`bg-gradient-to-r from-blue-600 to-blue-800 text-white px-8 py-4 rounded-lg font-medium \r
                    shadow-lg transition-all duration-300 animate-button\r
                    hover:shadow-xl hover:-translate-y-1 hover:cursor-pointer`,children:"Explore Our Collection"})})]}),T.jsx("div",{className:"hidden lg:block relative",children:T.jsxs("div",{className:"relative w-full h-[400px] flex items-center justify-center",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/10 rounded-2xl blur-3xl transform rotate-6"}),T.jsx("img",{src:Rl,alt:"PERUMA Logo",className:"h-64 w-auto object-contain relative z-10 animate-float"})]})})]})}),T.jsx("div",{className:"relative z-10 bg-blue-900 text-white py-12 mt-16",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[{number:"13+",label:"Educational Books"},{number:"100+",label:"Happy Students"},{number:"25+",label:"Schools"},{number:"2+",label:"Years Experience"}].map((t,e)=>T.jsxs("div",{className:"p-4 transform transition-all duration-300 hover:-translate-y-1 animate-stats",style:{animationDelay:`${e*100}ms`},children:[T.jsx("div",{className:"text-2xl md:text-3xl font-bold mb-2",children:t.number}),T.jsx("div",{className:"text-blue-100 text-sm md:text-base",children:t.label})]},e))})})})]}),T.jsx("section",{id:"about-us",className:"px-4",children:T.jsx(lb,{})})]}),T.jsx("section",{id:"books",className:"px-4",children:T.jsx(Eb,{})}),T.jsx("section",{id:"workshops",className:"px-4",children:T.jsx(Tb,{})}),T.jsx("section",{id:"gallery",className:"px-4",children:T.jsx(EM,{})}),T.jsx("section",{id:"collaborate",className:"px-4",children:T.jsx(wM,{})}),T.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes float {
          0%,
          100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-10px);
          }
        }

        @keyframes fadeSlideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        .animate-float {
          animation: float 3s ease-in-out infinite;
        }

        .animate-fade-in {
          animation: fadeIn 0.6s ease-out forwards;
        }

        .animate-title {
          opacity: 0;
          animation: fadeSlideUp 0.8s ease-out forwards;
        }

        .animate-content {
          opacity: 0;
          animation: fadeSlideUp 0.8s ease-out 0.2s forwards;
        }

        .animate-content-delayed {
          opacity: 0;
          animation: fadeSlideUp 0.8s ease-out 0.3s forwards;
        }

        .animate-button {
          opacity: 0;
          animation: fadeSlideUp 0.8s ease-out 0.4s forwards;
        }

        .animate-stats {
          opacity: 0;
          animation: fadeSlideUp 0.6s ease-out forwards;
        }
      `}),T.jsx("section",{id:"contact",children:T.jsx(_b,{})})]});function TM(){const[t,e]=B.useState([]),[n,i]=B.useState(!0),[o,a]=B.useState(null),[u,d]=B.useState(""),[f,p]=B.useState(!1),[g,y]=B.useState(""),w=void 0,x=e1(),P=F=>{F.preventDefault(),u===w?(p(!0),y("")):y("Invalid access key")},b=async()=>{try{const F=sM(oT(Gc,"collaborations"),oM("timestamp","desc")),Y=(await hM(F)).docs.map(L=>({id:L.id,...L.data()}));e(Y),i(!1)}catch(F){console.error("Error fetching data:",F),i(!1)}},I=async F=>{try{await pM(jp(Gc,"collaborations",F.id)),a(F),e(U=>U.filter(Y=>Y.id!==F.id)),setTimeout(()=>{a(null)},3e3)}catch(U){console.error("Error deleting document:",U)}},N=async()=>{if(o)try{const{id:F,...U}=o;await fM(jp(Gc,"collaborations",F),U),await b(),a(null)}catch(F){console.error("Error undoing deletion:",F)}};return B.useEffect(()=>{f&&b()},[f]),f?T.jsx("div",{className:"min-h-screen bg-blue-50 p-4 relative",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"Collaboration Dashboard"}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("button",{onClick:()=>x("/"),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Back to Home"}),T.jsx("button",{onClick:()=>p(!1),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Logout"})]})]}),o&&T.jsxs("div",{className:"bg-orange-100 text-orange-800 p-4 rounded-lg mb-4 flex justify-between items-center relative",children:[T.jsx("span",{children:"Item deleted. Undo available for 3 seconds."}),T.jsx("button",{onClick:N,className:"bg-orange-500 text-white px-3 py-1 rounded",children:"Undo"})]}),n?T.jsx("div",{className:"text-center text-blue-800",children:"Loading..."}):t.length===0?T.jsx("div",{className:"text-center text-blue-800",children:"No data found"}):T.jsx("div",{className:"overflow-x-auto bg-white rounded-xl shadow-md",children:T.jsxs("table",{className:"w-full",children:[T.jsx("thead",{className:"bg-blue-800 text-white",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),T.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),T.jsx("th",{className:"px-4 py-3 text-left",children:"Phone"}),T.jsx("th",{className:"px-4 py-3 text-left",children:"Institution"}),T.jsx("th",{className:"px-4 py-3 text-left",children:"Comments"}),T.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),T.jsx("tbody",{children:t.map(F=>T.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[T.jsx("td",{className:"px-4 py-3",children:F.name}),T.jsx("td",{className:"px-4 py-3",children:F.email}),T.jsx("td",{className:"px-4 py-3",children:F.phone}),T.jsxs("td",{className:"px-4 py-3",children:[F.institutionName," (",F.institutionType,")"]}),T.jsx("td",{className:"px-4 py-3",children:F.additionalComments}),T.jsx("td",{className:"px-4 py-3",children:T.jsx("button",{onClick:()=>I(F),className:"bg-orange-500 text-white px-3 py-1 rounded hover:bg-orange-600 transition-colors",children:"Delete"})})]},F.id))})]})})]})}):T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-50 p-4 relative",children:T.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-md p-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-6 text-center",children:"Owner Access"}),g&&T.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:g}),T.jsxs("form",{onSubmit:P,className:"space-y-4",children:[T.jsx("input",{type:"password",onChange:F=>d(F.target.value),value:u,placeholder:"Enter access key",className:"w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),T.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Access Dashboard"})]})]})})}const SM=gP([{path:"/",element:T.jsx(xM,{})},{path:"/owner-data",element:T.jsx(TM,{})}]);RS.createRoot(document.getElementById("root")).render(T.jsx(Pi.StrictMode,{children:T.jsx(RP,{router:SM})}));
